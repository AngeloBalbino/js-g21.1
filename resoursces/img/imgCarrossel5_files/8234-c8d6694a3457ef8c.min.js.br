"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c6092956-5547-5d69-a4c2-9bcf5042acb4")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8234],{62261:(e,t,a)=>{a.d(t,{$h:()=>u,KY:()=>_,M2:()=>s,Mc:()=>i,P_:()=>d,U0:()=>g,cp:()=>p,eF:()=>l,h4:()=>m,jR:()=>o,lF:()=>r,nF:()=>n,x1:()=>c});let s="seat_requests_page--requestsContainer--q73qM",n="seat_requests_page--fileBrowserContentContainer--XDLHx",r="seat_requests_page--fileBrowserScrollableContainer--jtzUg",i="seat_requests_page--avatarColumn--wdn4J seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",l="seat_requests_page--seatTypeColumn--x7oeW seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",o="seat_requests_page--requestedColumn---Spog seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",d="seat_requests_page--noteColumn--bkuO1 seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",c="seat_requests_page--dropdownScrollClip--BcpC0",u="seat_requests_page--actionBarButtons--Bt0Es",m="seat_requests_page--actionBarHasContent--Sumt5",_="seat_requests_page--actionBar--Q-X0n",p="seat_requests_page--nudgedRequested--KqdrK",g="seat_requests_page--avatarWithHandle--NwRGw"},187546:(e,t,a)=>{a.d(t,{$J:()=>c,KJ:()=>m,UD:()=>_,Un:()=>u,_f:()=>l,b:()=>o,dv:()=>n,gr:()=>r,jy:()=>d,u1:()=>p,ut:()=>s,v0:()=>i});let s="change_payment_modal--paymentModal--MaB-C",n="change_payment_modal--paymentModalHeader--slkgQ",r="change_payment_modal--paymentModalTitle--P5--Q text--fontPos18--rYXJb text--_fontBase--QdLsd",i="change_payment_modal--buttonRow--yFmfo modal--buttonRow--o2A0S",l="change_payment_modal--buttonRowLeft--QISQ5",o="change_payment_modal--closeButton--qw-3Q",d="change_payment_modal--errorBanner--7rLae",c="change_payment_modal--fixedHeightContainer--1e6gQ",u="change_payment_modal--errorContainer--X086-",m="change_payment_modal--formContainer--i6NlA",_="change_payment_modal--buttonContainer--N43qb",p="change_payment_modal--spinner--8cm5-"},305053:(e,t,a)=>{if(a.d(t,{A$:()=>m,BC:()=>x,Td:()=>b,V4:()=>p,W4:()=>f,Z4:()=>h,aN:()=>_,kl:()=>u,uH:()=>c}),443==a.j)var s=a(382629);var n=a(795033),r=a(192075),i=a(502907),l=a(276250),o=a(102497);a(412469);var d=a(349311);let c="admin_requests_dashboard",u="admin_seat_requests_page",m="admin_request_flyout",_=(0,n.eU)(!1),p=(0,n.eU)(new Set),g=e=>e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});function h(e,t){let a=g(e);return Object.keys(a).some(e=>(0,s.Vq)(t[e])&&t[e]<a[e])}var x=(e=>(e.REQUESTED="request",e))(x||{});function f(e){return e?{columnName:"request",isReversed:e===o.i5.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function b(e,t,a,s){return a||void 0===t||t.reason===l.D.COST_MESSAGING_DISABLED?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&t.reason===l.D.AVAILABLE_SEAT?s?(0,r.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,r.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&s?(0,r.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,i.tI)(e),seatCost:t.price}):(0,r.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,i.tI)(e)}),"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},747678:(e,t,a)=>{a.d(t,{Rj:()=>j,Zu:()=>S,eS:()=>v});var s=a(104076),n=a(903927),r=a(638004);a(120440);var i=a(369850),l=a(679359),o=a(352630),d=a(192075);if(443==a.j)var c=a(249054);var u=a(336972);if(443==a.j)var m=a(102497);var _=a(147046),p=a(244205),g=a(271330),h=a(657878),x=a(944350),f=a(608175),b=a(920659);function v(){let e=(0,n.wA)(),t=(0,h.z3)();return"orgAdminSettings"!==t&&"seatRequests"!==t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(o.$z,{variant:"secondary",onClick:()=>{e(_.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:b.J7.ACTIVITY,activityTabInitialEventOptionId:"activity_log.filter.upgrade_requests_and_activity"}))},htmlAttributes:{"data-testid":"admin-dashboard-view-history-button"},trackingProperties:{trackingDescriptor:p.c.VIEW_HISTORY},children:(0,d.t)("admin_dashboard.requests.view_history")})}function j({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===m.ps.TEAM?(0,s.jsx)(y,{}):(0,s.jsx)(E,{orgId:e,configuredUpgradeRequestSetting:a})}function y(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.teamBilling),a=t.summary.currency,i=t.summary.monthly_subscription?f.IX.MONTH:f.IX.YEAR,l=(0,g.L)(r.e.MONETIZATION_EXPANSION);return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:(0,u.S)({dispatch:e,currency:a,renewalTerm:i}),variant:"secondary",trackingProperties:{trackingDescriptor:p.c.APPROVAL_SETTINGS},trackingOptions:l,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function E({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,n.wA)(),l=(0,i.Xf)(e),m=l.data?.currency,_=t===x.Sm.ALL_USERS?(0,u.d)({dispatch:a}):(0,u.S)({dispatch:a,currency:m,renewalTerm:f.IX.YEAR,isCurfEnabledForMembers:t===x.Sm.MEMBERS}),h=(0,g.L)(r.e.MONETIZATION_EXPANSION);return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:_,variant:"secondary",trackingProperties:{trackingDescriptor:p.c.APPROVAL_SETTINGS},trackingOptions:h,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function S({text:e,showSpinner:t}){return(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xl56j7k",children:[(0,s.jsx)("div",{...{0:{className:"x1bpp3o7"},1:{className:"x1bpp3o7 xlshs6z"}}[!!t<<0],children:e}),t&&(0,s.jsx)(l.kt,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"})]})}},109317:(e,t,a)=>{a.d(t,{E:()=>d});var s=a(104076),n=a(716976);if(443==a.j)var r=a(962856);var i=a(795033),l=a(220294),o=a(102497);function d({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:d,planId:c,managedRequests:u,showAllOrgRequests:m,selectedRequestView:_,processedRequestIds:p,showBillingGroupAdminRequests:g,isOrgAdmin:h}){let[x,f]=(0,i.fp)(l.Y),b=m||g,v=b?[d,c,u].toString():[d,c].toString(),j=(0,n.useMemo)(()=>JSON.stringify(b?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:u?a:null}:{refreshNonce:e,billing_group_ids:h?[null]:[]}),[e,t,u,a,b,h]),y=(0,o.z7)({planType:d,planId:c,filterParams:j,processedRequestIds:p}),[E,S]=(0,n.useState)(null);return n.useEffect(()=>{if(null!==y&&(S(y.length),u)){let e={...x};e[v]=y.length,f(e)}},[y,v]),null!==E&&(y?.length!==0||m)&&(0,s.jsx)(r.E,{variant:u&&_===o.V7.ALL_MANAGED_REQUESTS||!u&&_===o.V7.ALL_ORG_REQUESTS?"brandOutline":"defaultFilled","data-testid":"table-row-count-badge",children:E.toString()})||(0,s.jsx)("div",{})}},995379:(e,t,a)=>{a.d(t,{s:()=>u,u:()=>m});var s=a(716976),n=a(903927);if(443==a.j)var r=a(276800);var i=a(219199),l=a(192075),o=a(58212),d=a(638641),c=a(82621);function u(){let e=(0,n.wA)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:s})=>{let n=t?(0,l.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,l.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&s&&(n=(0,l.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.F.enqueue({message:n,icon:t?d.zX.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:r.lQ}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:r.lQ}))},dispatchRequestAlreadyHandled:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.F.enqueue({message:t?(0,l.t)("admin_dashboard.requests.error_multiple"):(0,l.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))}}}function m(e,t){let a=(0,n.wA)();(0,s.useEffect)(()=>{e&&!t&&a(c.Jt({forceRefetch:!0}))},[a,e,t])}},930943:(e,t,a)=>{a.d(t,{W:()=>f});var s=a(104076),n=a(903927),r=a(929302),i=a(950187),l=a(268389),o=a(369850),d=a(140490),c=a(352630),u=a(192075),m=a(366535),_=a(244205),p=a(111297),g=a(570079),h=a(563554);function x(e){let t;let a=r.hS({open:e.open,onClose:e.onClose}),d=(0,n.wA)(),x=(0,o.Xf)(e.plan.key.parentId,e.plan.key.type!==g.OL.TEAM),f=(0,n.d4)(e=>e.teamBilling),b=e.plan.key.type===g.OL.TEAM?f.summary.currency:x.data?.currency,v=()=>d(m.Ce());return t=!b||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?(0,s.jsx)("p",{children:(0,u.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}):(0,s.jsx)("p",{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})}):(0,s.jsxs)(s.Fragment,{children:[e.filteredRowCount!==e.numRequestsToApprove&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,u.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}),(0,s.jsx)("br",{})]}),(0,s.jsx)("p",{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.body")})]}),(0,s.jsx)(i.bL,{manager:a,width:"lg",children:(0,s.jsx)(p.fu,{name:h.e0.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint},children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(l.nB,{children:t}),(0,s.jsx)(l.wi,{children:(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(c.$z,{variant:"secondary",onClick:v,trackingProperties:{trackingDescriptor:_.c.CANCEL},children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(c.$z,{variant:"primary",onClick:()=>{v(),e.onConfirm()},trackingProperties:{trackingDescriptor:_.c.APPROVE_ALL},children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})})]})})]})})})}let f=(0,a(959834).Ju)(function(e){return(0,s.jsx)(d.u,{label:"ApproveAllConfirmationModal",children:(0,s.jsx)(x,{...e})})},"ApproveAllConfirmationModal")},394283:(e,t,a)=>{a.d(t,{m:()=>eo});var s=a(104076),n=a(716976),r=a(903927),i=a(638004),l=a(449572),o=a(513369),d=a(236631),c=a(276250),u=a(328213),m=a(266966),_=a(297109),p=a(953940),g=a(952385),h=a(649693),x=a(285091),f=a(944350),b=a(59849),v=a(904017),j=a(795033),y=a(352630),E=a(192075),S=a(305053),T=a(747678),I=a(244205),A=a(271330);function N({onClose:e,onApprove:t,onDecline:a,requestId:n}){let r=(0,j.md)(S.aN),l=(0,j.md)(S.V4),o=!!r||l.has(n),c=(0,A.L)(i.e.MONETIZATION_EXPANSION);return(0,s.jsxs)("div",{className:d.s.wFull.flex.flexColumn.gap8.$,children:[(0,s.jsx)(y.lR,{onClick:()=>{t(),e()},disabled:o,trackingProperties:{trackingDescriptor:I.c.APPROVE},trackingOptions:c,children:(0,s.jsx)(T.Zu,{text:(0,E.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===r&&l.has(n)})}),(0,s.jsx)(y.lR,{onClick:()=>{a(),e()},variant:"secondary",disabled:o,trackingProperties:{trackingDescriptor:I.c.DECLINE},trackingOptions:c,children:(0,s.jsx)(T.Zu,{text:(0,E.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===r&&l.has(n)})})]})}a(120440);var w=a(883765),C=a(140490),R=a(390036),k=a(115989),O=a(520741),q=a(772963),L=a(659062),M=a(476261),P=a(50536),D=a(293422),F=a(400348),B=a(787179),U=a(369850),G=a(782301);function W(e){return(0,s.jsx)(C.u,{label:"SeatCostInfo",children:(0,s.jsx)(V,{...e})})}function V({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:n}){let i=(0,r.wA)(),l=(0,v.S2)().unwrapOr(null),o=t.reason===c.D.AVAILABLE_SEAT,d=o?(0,s.jsx)(F.N,{}):(0,s.jsx)(B.V,{}),u=l?.key.type===f.OL.ORG,m=(0,U.Xf)(l?.key.parentId,l?.key.type!==f.OL.TEAM),_=(0,r.d4)(e=>e.teamBilling),p=l?.key.type===f.OL.TEAM?_.summary.currency:m.data?.currency;return(0,s.jsxs)("div",{style:L.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(o,L.sx.colorBgSelected,L.sx.colorBgSecondary).$,"data-testid":"seat-cost-info",children:[(0,s.jsxs)("div",{style:L.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$,children:[d,(0,s.jsx)("div",{children:o?u?(0,E.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,E.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,M.tI)(e)}):a&&t.price?(0,E.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,M.tI)(e),seatCost:t.price}):(0,E.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,M.tI)(e)})})]}),!!n.currentSeat&&(0,s.jsx)(D.$n,{onClick:()=>(0,G.E1)({currency:p,dispatch:i,planUser:{id:n.id,userId:n.user.id,name:n.user.name,handle:n.user.handle,currentSeatType:n.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link",children:(0,s.jsx)("p",{style:L.sx.textBodyMedium.$,children:(0,E.tx)("admin_dashboard.request_flyout.seat_cost.see_details")})})]})}function $({label:e,value:t,onClick:a}){let n=(0,s.jsx)(q.G,{className:"xh8yej3 xdpxx8g",text:t??"-"});return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.overflowBreakWord.textBodyMedium.$,children:[(0,s.jsx)("div",{className:d.s.colorTextSecondary.$,children:e}),a?(0,s.jsx)(y.e6,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a,children:n}):n]})}function H({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:n}){let i;let l=(0,r.wA)(),o=(0,R.Zr)((0,k.Ak)(e.createdAt)),d=(0,s.jsx)($,{label:(0,E.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&l(P.II({emailList:[e.email]}))}:void 0}),c=(0,s.jsx)($,{label:(0,E.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,R.Ay)(e.jobTitle)}),u=(0,s.jsx)($,{label:(0,E.t)("admin_dashboard.request_flyout.body.request_sent"),value:o}),m=(0,s.jsx)($,{label:(0,E.t)("admin_dashboard.request_flyout.body.current_seat"),value:n?(0,M.JT)(n):"-"}),_=(0,R.Zr)((0,k.Ak)(t)),p=(0,s.jsx)($,{label:(0,E.t)("admin_dashboard.request_flyout.body.last_active"),value:t?_:"-"});return i=a?[[d,c,p],[(0,s.jsx)($,{label:(0,E.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),m,u]]:[[d,m,u],[c,p]],(0,s.jsx)("div",{style:L.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$,children:i.map((e,t)=>(0,s.jsx)("div",{style:L.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$,children:e},`requestInfoColumn${t}`))})}function Y({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,w.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(O._,{dataTestId:"pricing-error-banner",color:O.S.WARNING,padding:8,text:(0,E.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function z({request:e,planUser:t,billingGroupName:a,seatCostResult:n,shouldHideSeatCostInfo:r,isProrationBillingEnabled:i,failedToLoadPrices:l}){return(0,s.jsx)(C.u,{label:"Body",children:(0,s.jsxs)("div",{className:d.s.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body",children:[(0,s.jsx)("div",{className:d.s.flex.flexColumn.gap24.$,children:(0,s.jsx)(H,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat})}),(0,s.jsxs)("div",{children:[!r&&!!n&&(0,s.jsx)(W,{seatType:e.billableProductKey,seatCostResult:n,isProrationBillingEnabled:i,planUser:t}),(0,s.jsx)(Y,{failedToLoadPrices:l})]})]})})}var Q=a(962856),K=a(512543),X=a(511570),J=a.n(X),Z=a(142914);let ee="request_flyout--secondaryIcon--lhrXO";function et({request:e}){let t=e.name||e.email||(0,E.t)("admin_dashboard.requests.no_name"),a={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return(0,s.jsxs)("div",{"data-testid":"request-flyout-header",className:d.s.flex.flexColumn.gap16.$,children:[(0,s.jsxs)("div",{className:"request_flyout--avatarContainer--S-J9Y",children:[(0,s.jsx)(Z.H8,{size:48,user:a}),e.hasBeenNudged?(0,s.jsx)("div",{className:J()(ee,"request_flyout--reminderIcon--YYAB2"),"data-testid":"seat-requests-flyout-avatar-reminder",children:(0,s.jsx)(K.t,{style:L.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})}):(0,s.jsx)("div",{className:J()(ee,"request_flyout--planIcon--3ad7j"),"data-testid":"seat-requests-flyout-avatar-seat-type",children:(0,s.jsx)(G.BC,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16"})})]}),(0,s.jsxs)("div",{className:d.s.flex.flexColumn.$,children:[(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f",children:[(0,s.jsx)(q.G,{text:t,className:d.s.textHeadingMedium.fontSemiBold.$}),e.orgPermission===f._D.GUEST&&(0,s.jsx)(Q.E,{size:"lg",variant:"defaultOutline",children:(0,E.tx)("admin_dashboard.requests.badge.guest")})]}),(0,s.jsx)("div",{className:d.s.textHeadingMedium.fontMedium.$,children:(0,E.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,M.tI)(e.billableProductKey)})})]}),!!e.lastNudgedAt&&(0,s.jsx)("div",{className:"request_flyout--reminder--HX1aD","data-testid":"nudged-request-banner",children:(0,E.tx)("admin_dashboard.requests.reminder_sent",{time:(0,k.JD)(e.lastNudgedAt)})}),e.message&&(0,s.jsx)("div",{style:L.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$,children:e.message})]})}var ea=a(284467);function es(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header",children:[(0,s.jsx)(ea.Wi,{style:L.sx.w48.h48.bRadiusFull.$}),(0,s.jsx)(ea.Wi,{style:L.sx.add({width:"20%"}).h16.$}),(0,s.jsx)(ea.Wi,{style:L.sx.add({width:"40%"}).h24.$})]})}function en(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body",children:[(0,s.jsx)(ea.Wi,{className:d.s.wFull.h32.$}),(0,s.jsx)(ea.Wi,{className:d.s.wFull.h200.$})]})}function er(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer",children:[(0,s.jsx)(ea.Wi,{style:L.sx.wFull.h32.$}),(0,s.jsx)(ea.Wi,{style:L.sx.wFull.h32.$})]})}let ei=(e,t)=>{let a=o.oA(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[s]=a,n=e.length>0&&s?e.find(e=>e.id===s.licenseGroupMember?.licenseGroupId)??null:null;return n?.name},el={Root:(0,n.forwardRef)((e,t)=>(0,s.jsx)(m.I,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties,children:(0,s.jsx)(_.m.Root,{ref:t,open:e.open,onClose:e.onClose,children:e.children})})),Contents:function({request:e,billingGroups:t,onClose:a,onApprove:o,onDecline:m}){let j,y,E,S;let T=(0,r.wA)(),I=(0,v.S2)().unwrapOr(null);if(!I)throw Error("Missing Plan.");let A=I.key.type===f.OL.ORG,w=(0,r.d4)(t=>{let a=t.teamMembersByTeamId[I.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:C,status:R}=(0,c.n)(I,e),k=C(),O=(0,x.d)({reportErrorsToTeam:i.e.SCALE}),q=(0,u.k)(),[L,M]=(0,n.useState)();(0,n.useEffect)(()=>{async function t(){await T(g.m$({teamId:I?.key.parentId??""}))}async function a(){M(await T(p.I1({orgId:I?.key.parentId??"",userId:e?.userId??""})))}return A&&a(),I?.key.type===f.OL.TEAM&&t(),()=>M(null)},[T,A,I?.key.parentId,I?.key.type,e?.userId]);let P=(0,l.bc)(b.oSh,{orgId:I?.key.parentId??"",orgUserIds:L?[L.id]:[]},{enabled:!!L&&t.length>0});if(!e)return(0,s.jsx)(s.Fragment,{});S=A?{id:L?.id??"",user:{id:L?.user.id??"",name:L?.user.name??"",handle:L?.user.handle??""},lastActive:L?.last_seen??void 0,currentSeat:L?L.active_seat_type?.key??h.Gu.VIEW:void 0}:{id:w?.team_user?.id??"",user:{id:w?.team_user?.user_id??"",name:w?.name??"",handle:w?.team_user?.user?.handle??""},lastActive:w?.last_active?new Date(1e3*w.last_active).toISOString():void 0,currentSeat:w?w.team_user?.active_seat_type?.key??h.Gu.VIEW:void 0};let D=!L||"loading"===P.status,F="errors"===R,B=O||F||c.D.MISSING_CURRENCY===k?.reason||c.D.COST_MESSAGING_DISABLED===k?.reason;if(!S||A&&D)j=(0,s.jsx)(es,{}),y=(0,s.jsx)(en,{}),E=(0,s.jsx)(er,{});else{let n=ei(t,P);j=(0,s.jsx)(et,{request:e}),y=(0,s.jsx)(z,{request:e,planUser:S,billingGroupName:n,seatCostResult:k,shouldHideSeatCostInfo:B,failedToLoadPrices:F,isProrationBillingEnabled:q}),E=(0,s.jsx)(N,{onClose:a,onApprove:o,onDecline:m,requestId:e.id})}return(0,s.jsx)(_.m.Contents,{children:(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.p24.gap24.$,children:[(0,s.jsx)(_.m.HiddenTitle,{children:e.id}),j,(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.gap16.$,children:[y,E]})]})})}};function eo(e){let{request:t,billingGroups:a,open:n,onClose:r,onApprove:i,onDecline:l,trackingName:o,trackingProperties:d,flyoutRef:c}=e;return{requestFlyout:(0,s.jsx)(el.Root,{open:n,onClose:r,trackingName:o,trackingProperties:{...d},ref:c,children:(0,s.jsx)(el.Contents,{request:t,billingGroups:a,onClose:r,onApprove:i,onDecline:l})})}}},490525:(e,t,a)=>{a.d(t,{l:()=>e$});var s=a(104076),n=a(716976),r=a(903927),i=a(99723),l=a(276800),o=a(638004),d=a(795033),c=a(511570),u=a.n(c),m=a(232707),_=a(837975),p=a(449572),g=a(140490),h=a(225125),x=a(856909),f=a(665261),b=a(555013),v=a(115989),j=a(284467),y=a(915459),E=a(772963),S=a(894087),T=a(236631),I=a(192075),A=a(659062),N=a(58212),w=a(638641),C=a(911990),R=a(457923),k=a(624258),O=a(884153),q=a(328213),L=a(476261),M=a(220294),P=a(305053),D=a(102497),F=a(747678),B=a(109317),U=a(995379),G=a(930943),W=a(929302),V=a(950187),$=a(268389),H=a(369850),Y=a(352630),z=a(366535),Q=a(244205),K=a(111297),X=a(271330),J=a(570079),Z=a(563554);function ee(e){let t;let a=W.hS({open:e.open,onClose:e.onClose}),n=(0,r.wA)(),i=(0,H.Xf)(e.plan.key.parentId,e.plan.key.type!==J.OL.TEAM),l=(0,r.d4)(e=>e.teamBilling),d=e.plan.key.type===J.OL.TEAM?l.summary.currency:i.data?.currency,c=()=>n(z.Ce());t=!d||e.isELA?(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,I.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let u=(0,X.L)(o.e.MONETIZATION_EXPANSION);return(0,s.jsx)(K.fu,{name:Z.e0.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId},children:(0,s.jsx)(V.bL,{manager:a,width:"lg",children:(0,s.jsxs)($.vo,{children:[(0,s.jsx)($.Y9,{children:(0,s.jsx)($.hE,{children:(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)($.nB,{children:t}),(0,s.jsx)($.wi,{children:(0,s.jsxs)($.jk,{children:[(0,s.jsx)(Y.$z,{variant:"secondary",onClick:c,trackingProperties:{trackingDescriptor:Q.c.CANCEL},trackingOptions:u,children:(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(Y.$z,{variant:"primary",onClick:()=>{c(),e.onConfirm()},trackingProperties:{trackingDescriptor:Q.c.APPROVE},trackingOptions:u,children:(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})})]})})]})})})}let et=(0,a(959834).Ju)(function(e){return(0,s.jsx)(g.u,{label:"BulkApproveConfirmationModal",children:(0,s.jsx)(ee,{...e})})},"BulkApproveConfirmationModal");var ea=a(394283),es=a(982145),en=a(248486),er=a(146171),ei=a(487810),el=a(742024),eo=a(649693),ed=a(347592),ec=a(781611),eu=a(285091),em=a(899593),e_=a(847282),ep=a(592726),eg=a(462952),eh=a(944350),ex=a(59849),ef=a(826930),eb=a(349311),ev=a(159836),ej=a(826160),ey=a(333705),eE=a(741563),eS=a(653899),eT=a(249054),eI=a(417450),eA=a(422872),eN=a(235711),ew=a(61102),eC=a(441030);function eR(e){let t=(0,eN.r1)("seen_admin_seat_approval_settings_onboarding"),a=(0,d.md)(t),{show:n,isShowing:r,complete:i}=(0,eA.e)({overlay:eC.Clh,priority:(0,eI.g)(eC.Clh)},[a]);return(0,eS.h)(()=>{n({canShow:e=>!e})}),(0,s.jsx)(ew.rq,{clickOutsideToHide:!0,description:(0,I.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:r,onClose:i,primaryCta:{label:(0,I.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:Q.c.GOT_IT},targetKey:eT.qf,title:(0,I.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var ek=a(419822),eO=a(318525);a(120440);var eq=a(276250);function eL({request:e,plan:t,handleRequests:a,isELA:n,isProrationBillingEnabled:r}){let i=(0,d.md)(P.aN),l=(0,d.md)(P.V4),{calculateCostForSeatTypeIncrease:c}=(0,eq.n)(t,e),u=e.billableProductKey,m=c(),_=!!i||l.has(e.id),p="approving"===i&&l.has(e.id),g=(0,X.L)(o.e.MONETIZATION_EXPANSION);return p?(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xe8ttls",children:(0,s.jsx)(ek.k,{size:"sm"})}):(0,s.jsx)(Y.Me,{"aria-label":(0,I.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:_,trackingProperties:{trackingDescriptor:Q.c.APPROVE},htmlAttributes:{"data-testid":"approve-button-single",...(0,P.Td)(u,m,n,r)},trackingOptions:g,children:(0,s.jsx)(eO.U,{})})}var eM=a(527494);function eP({request:e,setHighlightedItemId:t}){let a=(0,X.L)(o.e.MONETIZATION_EXPANSION);return(0,s.jsx)(Y.Me,{"aria-label":(0,I.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:Q.c.REQUEST_DETAILS,requestId:e.id},trackingOptions:a,children:(0,s.jsx)(eM.a,{})})}var eD=a(692757),eF=a(506192),eB=a(62261);function eU(e){let t=(0,r.wA)(),a=(0,eF.Um)(),n=a?.type===e.type;return(0,s.jsxs)(eD.V,{showingDropdown:n,type:e.type,dispatch:t,isRightAligned:!0,children:[(0,s.jsx)("div",{"data-testid":e.dataTestId,children:e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel}),n&&(0,s.jsx)(f.gw,{dispatch:t,className:eB.x1,style:a.data.position,children:e.renderFilterOptions()})]})}var eG=a(939946);let eW="approving-all-requests",eV="RequestFlyout";function e$(e){return(0,s.jsx)(g.u,{label:"SeatRequestsPage",children:(0,s.jsx)(eH,{...e})})}function eH({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let c;let g=e?.key.type==="team"?D.ps.TEAM:D.ps.ORG,W=e.key.parentId??"",V=(0,ei.B)(),$=n.useRef(null),H=n.useRef(null),Y=(0,q.k)(),J=(0,X.L)(o.e.MONETIZATION_EXPANSION),ee=(0,r.wA)(),{seatAvailability:eS}=(0,O.k)(e),{Sprig:eT}=(0,h.A)(),[eI,eA]=(0,n.useState)(!1),[eN,ew]=(0,n.useState)(""),[eC,ek]=(0,n.useState)(null),[eO,eq]=(0,n.useState)(D.i5.NEWEST_FIRST),[eM,eD]=(0,d.fp)(P.aN),eF=(0,n.useRef)(0),[e$,eH]=(0,n.useState)(0),eY=(0,r.d4)(({selectedView:e})=>e),ez=a??P.kl,{dispatchSuccess:eQ,dispatchSuccessWithRequesterName:eK,dispatchRequestAlreadyHandled:eX,dispatchProcessingError:eJ,dispatchGenericError:eZ}=(0,U.s)(),[e0,e1]=(0,d.fp)(M.Y),[e9,e4]=(0,d.fp)(P.V4),[e2,e5]=(0,n.useState)(()=>new Set),[e3,e6]=(0,n.useState)(()=>new Set),[e7,e8]=(0,n.useState)(null),[te,tt]=(0,n.useState)(0),[ta,ts]=(0,n.useState)(0),[tn,tr]=(0,n.useState)(D.V7.ALL_MANAGED_REQUESTS),[ti,tl]=(0,n.useState)(tn),[to,td]=(0,n.useState)(null),tc=(0,eg.MX)(),tu=(0,ep.TA)(),tm=g===D.ps.ORG,t_=(0,n.useMemo)(()=>tm?(0,eg.EQ)(tc,tu,!1).groupsUserIsAdminOf:[],[tc,tu,tm]),tp=(0,n.useMemo)(()=>t_?t_.map(e=>e.id):[],[t_]),tg=(0,n.useMemo)(()=>tn===D.V7.ALL_MANAGED_REQUESTS?t?[null,...tp]:tp:null,[tn,tp,t]),th=(0,n.useMemo)(()=>{switch(ti){case D.V7.ALL_ORG_REQUESTS:return null;case D.V7.ALL_MANAGED_REQUESTS:return t?[null,...tp]:tp;case D.V7.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(ti in D.V7))return[ti];return null}},[ti,tp,t]),tx=(0,n.useMemo)(()=>JSON.stringify({search_query:eN,billable_product_key:eC,refreshNonce:te,sortTypeNonce:eO,billing_group_ids:th,org_user_permission:to}),[eN,eC,te,eO,th,to]),tf=(0,n.useMemo)(()=>JSON.stringify({billing_group_ids:tg}),[tg]),tb=(0,p.bc)((0,ex.EEx)({planType:g,planId:W,sortOrder:eO===D.i5.NEWEST_FIRST?"desc":"asc",filterParams:tx,firstPageSize:25})),tv=(0,D.z7)({planType:g,planId:W,filterParams:tx,processedRequestIds:e3}),tj=(0,D.z7)({planType:g,planId:W,filterParams:JSON.stringify({refreshNonce:tx,billing_group_ids:tg}),processedRequestIds:e3}),ty=(0,p.bc)((0,ex.HpJ)({orgId:W}),{enabled:tm}),tE="loaded"===tb.status,tS=tE&&!!tb.data?.adminDashboardRequests?.isLoadingNextPage,tT=tE&&!!tb.data?.adminDashboardRequests?.hasNextPage(),[tI,tA]=(0,n.useState)({loading:!0,requestId:void 0,request:void 0}),tN=tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt&&t,tw=tm&&"loaded"===ty.status&&t?ty.data?.org?.orgSharedSetting?.configuredUpgradeRequestSetting:void 0,tC=(0,D.ZY)({isIntendedAudience:tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,U.u)(tm,t);let tR=(0,eu.d)({reportErrorsToTeam:o.e.SCALE}),tk=!tE||tS||tT||tI.loading,tO=tv?.length??0,tq=tj?.length??0,tL=[g,W].toString(),tM=e0[tL],tP=tq?Math.max(tq,0):0,tD=tj&&tM!==tP,tF=tq>0||null===tj&&!!tM;n.useEffect(()=>{if(tD){let e={...e0};e[tL]=tP,e1(e)}},[tD,tL,tP]);let tB=eI&&null===tO;(0,n.useEffect)(()=>{tE&&e8(new Date)},[tE]),(0,n.useEffect)(()=>{let e=(0,e_.QL)("approvalRequestId");e?tA(t=>({...t,requestId:e})):tA(e=>({...e,loading:!1})),(0,e_.EM)("approvalRequestId")},[]),(0,n.useEffect)(()=>{async function e(e){let t=await (0,em.q)(e,ee);t?tA(e=>({...e,request:t,loading:!1})):tA(e=>({...e,loading:!1}))}tI.requestId&&e(tI.requestId)},[tI.requestId,ee]),(0,_.R)(()=>{if(tI.requestId&&tI.request){let e=tI.request.requestableOrgUser?.user?.name??tI.request.requestableTeamUser?.user?.name??"";t0({approve:!0,selectedRequestIds:[tI.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.EMAIL,successHandler:e?()=>{eK({requesterName:e}),tA({loading:!1,requestId:void 0,request:void 0})}:eQ})}},tk,e=>!e);let tU=(0,n.useMemo)(()=>{let e=new Set(e2);if(!tE||!tb?.data?.adminDashboardRequests)return[];let t=tb.data?.adminDashboardRequests.reduce((t,a)=>{let s=a.id,n=a.request,r=a.user,i=a.userId;if(n.status!==m.tT.Loaded||r.status!==m.tT.Loaded)return t;let l=n.data,o=r.data;if(!l||!o)return e.has(s)||e.add(s),t;if(!l.billableProductKey)return t;let d=ec.Zx(l.billableProductKey);if(e.has(s))return t;if("pending"!==l.status)return e.has(s)||e.add(s),t;let c=!!l.lastNudgedAt;if(s===tI.requestId)return e.has(s)||e.add(s),t;let u=l.requestableTeamUser?.currentSeat;return t.push({id:s,createdAt:l.createdAt,updatedAt:l.updatedAt,name:o.name,email:o.email,imgUrl:o.imgUrl,message:l.message&&l.message.trim().length>0?l.message:null,jobTitle:o.profile?.jobTitle??null,userId:i,hasBeenNudged:c,lastNudgedAt:l.lastNudgedAt,billableProductKey:d,currentSeat:{billableProductKey:u?.billableProductKey,billingInterval:u?.billingInterval},orgPermission:l.requestableOrgUser?.permission}),t},[]);return e6(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>{let a=e.lastNudgedAt??e.createdAt,s=t.lastNudgedAt??t.createdAt;return eO===D.i5.NEWEST_FIRST?s.getTime()-a.getTime():a.getTime()-s.getTime()})},[tE,tb.data,tI.requestId,e2,eO]),tG=n.useCallback(e=>tU.find(t=>t.id===e),[tU]),{highlightedItem:tW,setHighlightedItemId:tV,clearHighlightedItemId:t$}=(0,en.v)(tG,{interactionConfig:[{ref:H,shouldClearHighlight:!1},{ref:$,shouldClearHighlight:!1},{ref:V,shouldClearHighlight:!0}],onHighlight:()=>{H.current?.focus()},onClear:(0,er.b)(eV)}),tH=(0,n.useMemo)(()=>new Set(tU?.filter(e=>[eo.ud.DEVELOPER,eo.ud.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tU]);(0,_.R)(()=>{let e=(0,e_.QL)("viewRequestId");e&&(tU.find(t=>t.id===e)?tV(e):eX(),(0,e_.EM)("viewRequestId"))},tk,e=>!e);let tY=(0,n.useMemo)(()=>(0,i.s)(ew,300),[ew]),tz=e=>e===D.r1.GUESTS?(0,I.t)("admin_dashboard.requests.guests"):e===D.r1.MEMBERS?(0,I.t)("admin_dashboard.requests.members"):(0,I.t)("admin_dashboard.requests.all_users"),tQ=tn===D.V7.ALL_ORG_REQUESTS&&tc.length>0,tK=tn===D.V7.ALL_MANAGED_REQUESTS&&(t_.length>0&&t||!t&&t_.length>1),tX=(tN||tC)&&(tQ||tK),tJ=n.useCallback(({approve:e,requestId:t,selectionMethod:a=D.Xv.SINGLE,entryPoint:s=ez,successHandler:n=eQ})=>{e4(e=>new Set(e).add(t)),eD(e?"approving":"declining");let r=e?ev.w.approveRequests.bind(ev.w):ev.w.denyRequests.bind(ev.w),i=tU.find(e=>e.id===t);r({plan_id:W,plan_type:g,included_request_ids:[t],selection_method:a,entry_point:s,is_proration_billing_enabled:Y,is_seat_increase_authorized:(0,P.Z4)(i?[i]:[],eS)}).then(t=>{if(200!==t.status){eZ();return}if(t.data.meta.failed_attempts>0){eJ({multiple:!1});return}n({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{eZ()}).finally(()=>{e4(e=>{let a=new Set(e);return a.delete(t),a}),eD(!1),ts(e=>e+1)})},[ez,eZ,eJ,eQ,Y,W,g,tU,eS,e4,eD]),tZ=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:s=ez})=>{eH(eF.current),eD(a?"approving_all":e?"approving":"declining"),a&&tq&&ee(N.F.enqueue({message:(0,I.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tq}),type:eW,timeoutOverride:1/0,icon:w.zX.SPINNER,preventDismissal:!0,role:"status"}));let n=a||eI,r=new Set(t),i=tU.filter(e=>r.has(e.id)),l={plan_id:W,plan_type:g,entry_point:s,async_processing:e,is_proration_billing_enabled:Y,is_seat_increase_authorized:!!a||(0,P.Z4)(i,eS)},o=n?{...l,subtractive:!0,excluded_request_ids:a?[]:tU.map(e=>e.id).filter(e=>!r.has(e)),filter_params:a?tf:tx,timestamp:(e7??new Date).toISOString(),selection_method:a?D.Xv.APPROVE_ALL:D.Xv.BULK_SELECT}:{...l,included_request_ids:t,selection_method:D.Xv.BULK_SELECT,filter_params:tf},d=(t,a,s)=>{if(200!==t){eZ();return}if(a>0){eJ({multiple:!0});return}eQ({approve:e,numRequests:s,asyncUpdate:e})},c=()=>{eD(!1),eH(0),n&&tt(e=>e+1),eI&&eA(!1)};e?ev.w.approveRequests.bind(ev.w)(o).then(t=>{if(d(t.status,t.data.meta.failed_attempts,t.data.meta.successful_attempts),e){let e=t.data.meta.processed_request_ids;e5(t=>new Set([...t,...new Set(e)]))}ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{a&&ee(N.F.dequeue({matchType:eW})),c()}):ev.w.denyRequests.bind(ev.w)(o).then(e=>{d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{c()})},[tf,ez,ee,eZ,eJ,eQ,tx,Y,e7,W,g,tU,eS,eI,eD,tq]),t0=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:s=!1,singleRequestSelectionMethod:n,successHandler:r=eQ,sprig:i,isHandlingInFlyout:l=!1})=>{let o=l?P.A$:ez,d="dashDeepLinkEntryPoint"in eY&&eY.dashDeepLinkEntryPoint||o;(()=>{if(s){let a=n||D.Xv.SINGLE;tJ({approve:e,requestId:t[0],selectionMethod:a,entryPoint:d,successHandler:r})}else tZ({approve:e,selectedRequestIds:t,approveAll:a})})(),i&&s&&i("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),i&&g===D.ps.TEAM&&!e&&t.some(e=>tH.has(e))&&i("track","admin-dashboard-dev-mode-decline")},[g,eQ,ez,tJ,tZ,tH,eY]),{requestFlyout:t1}=(0,ea.m)({request:tW,billingGroups:tc,flyoutRef:H,open:!!tW,onClose:t$,onApprove:()=>t0({approve:!0,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.SINGLE,sprig:eT,isHandlingInFlyout:!0}),onDecline:()=>t0({approve:!1,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.SINGLE,sprig:eT,isHandlingInFlyout:!0}),trackingName:eV,trackingProperties:{requestId:tW?.id}}),t9=n.useCallback(e=>{let t=e.name||e.email||(0,I.t)("admin_dashboard.requests.no_name");return(0,s.jsx)(ej.az,{entity:{id:e.userId,name:t,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===eh._D.GUEST?{color:x.zE.DEFAULT,text:(0,I.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:D.Lv,includeUserEmailAddress:!0,className:eB.U0})},[]),t4=n.useCallback(e=>{if(!(0,eo.dA)(e.billableProductKey))return(0,s.jsxs)(s.Fragment,{children:[" ",(0,L.tI)(e.billableProductKey)]});{let t=e.billableProductKey;return(0,s.jsxs)("div",{className:T.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(k.BC,{type:t,size:"24"}),(0,L.tI)(e.billableProductKey)]})}},[]),t2=n.useCallback(e=>(0,s.jsx)("div",{className:e.hasBeenNudged?eB.cp:void 0,"data-tooltip-type":e.hasBeenNudged?eb.Ib.TEXT:void 0,"data-tooltip":(0,I.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""}),children:(0,s.jsx)(v.h1,{capitalize:!0,date:e.lastNudgedAt??e.createdAt})}),[]),t5=e=>e.lastNudgedAt?e.lastNudgedAt.getTime():e.createdAt.getTime(),t3=n.useMemo(()=>[{name:(0,I.t)("admin_dashboard.requests.columns.name"),className:eB.Mc,cellComponent:t9},{name:(0,I.t)("admin_dashboard.requests.columns.seat_type"),className:eB.eF,cellComponent:t4},{name:(0,I.t)("admin_dashboard.requests.columns.requested"),className:eB.jR,cellComponent:t2,sorting_key:P.BC.REQUESTED,getSortValue:t5,sortNumerically:!0},{name:(0,I.t)("admin_dashboard.requests.columns.note"),className:eB.P_,cellComponent:e=>(0,s.jsx)(E.G,{text:e.message??"",showTooltip:S.i.NEVER,className:T.s.colorTextSecondary.$})}],[t9,t4,t2]),t6=e=>{let a=e?D.V7.ALL_MANAGED_REQUESTS:D.V7.ALL_ORG_REQUESTS,n=e?es.xo:es.OW,r=e?(0,I.tx)("admin_dashboard.managed_org_requests.title"):(0,I.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===ty.status?ty.data?.org?.name:"org"});return(0,s.jsxs)("div",{role:"button",tabIndex:0,className:T.s.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.px8.if(tn===a,T.s.colorText.bRadius5.colorBgPressed,T.s.colorTextSecondary).$,onClick:()=>{tr(a),tl(a),ts(0===ta?1:0)},"data-onboarding-key":n,"data-test-id":e?"your-requests-tab":"all-org-requests-tab",children:[r,(0,s.jsx)(B.E,{isOrgAdmin:!!t,managedRequests:e,planId:W,planType:g,processedRequestIds:e3,refreshNonce:te,refreshTabCountNonce:ta,selectedRequestView:tn,showAllOrgRequests:tN??!1,showBillingGroupAdminRequests:tC,viewableBillingGroupIds:t?[null,...tp]:tp})]})},t7=(0,s.jsxs)("div",{className:T.s.flex.columnGap8.pl16.$,children:[tm&&t&&(0,s.jsx)(F.eS,{}),(!tm||t)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F.Rj,{planId:W,planType:g,configuredUpgradeRequestSetting:tw}),(0,s.jsx)(eR,{})]}),tF&&(0,s.jsx)(R.V,{variant:"primary",onClick:()=>{if(null===tO||null===tq)return;let t=eM?l.lQ:()=>t0({approve:!0,approveAll:!0,selectedRequestIds:[]});if(tq===tO&&tq<1){t();return}ee(z.to({type:G.W,data:{plan:e,numRequestsToApprove:tq,filteredRowCount:tO,isELA:tR,onConfirm:t,entryPoint:ez}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tq||!!eM,trackingProperties:{trackingDescriptor:Q.c.APPROVE_ALL},trackingOptions:J,children:(0,s.jsx)(F.Zu,{text:(0,I.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===eM})})]}),t8=(0,s.jsx)("div",{className:T.s.h32.cursorDefault.selectNone.$,children:(0,s.jsxs)(C.Y,{spacing:0,children:[(0,s.jsx)(C.Y,{spacing:0,children:[!0,!1].map(e=>t6(e))}),(0,s.jsx)(C.M,{}),t7]})}),ae=(0,s.jsxs)(s.Fragment,{children:[!!tN&&tc.length>0&&t8,(0,s.jsxs)(C.Y,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1},children:[(0,s.jsx)(y.y2,{onChange:e=>tY((0,D.Bk)(e)),query:eN,clearSearch:()=>ew(""),placeholder:(0,I.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:D.MI,resultsCount:tU.length}),(0,s.jsx)(C.M,{}),(tN||tC)&&(0,s.jsx)(eU,{type:D.L8,dataTestId:"user-type-filter",isDefaultFilter:null===to,defaultFilterLabel:(0,I.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,I.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:(0,s.jsx)("span",{className:T.s.fontBold.$,children:tz(to)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.MM,{checked:null===to,onClick:()=>td(null),children:(0,I.t)("admin_dashboard.requests.all_users")}),(0,s.jsx)(f.wv,{}),Object.values(D.r1).map(e=>(0,s.jsx)(f.MM,{checked:to===e,onClick:()=>td(e),children:tz(e)},e))]})}),(0,s.jsx)(eU,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eC,defaultFilterLabel:(0,I.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,I.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:(0,s.jsx)("span",{className:T.s.fontBold.$,children:(0,L.tI)(eC??eo.Gu.VIEW)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.MM,{checked:null===eC,onClick:()=>ek(null),children:(0,I.t)("admin_dashboard.requests.filter.seats_all_option")}),(0,s.jsx)(f.wv,{}),ed.N_.sort(ec.AG).map(e=>(0,s.jsx)(f.MM,{checked:eC===e,onClick:()=>ek(e),children:(0,L.tI)(e)},e))]})}),tX&&(0,s.jsx)(eU,{type:D.OL,dataTestId:"billing-group-filter",isDefaultFilter:ti===tn,defaultFilterLabel:(0,I.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,I.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:(0,s.jsx)("span",{className:T.s.fontBold.$,children:ti===D.V7.ALL_ORG_REQUESTS||ti===D.V7.ALL_MANAGED_REQUESTS?(0,I.t)("admin_dashboard.requests.from_all"):ti===D.V7.ALL_UNASSIGNED_REQUESTS?(0,I.t)("admin_dashboard.requests.from_unassigned"):tc.find(e=>e.id===ti).name})}),renderFilterOptions:()=>{let e=tn===D.V7.ALL_ORG_REQUESTS?tc:t_,t=[{key:tn,label:(0,I.t)("admin_dashboard.requests.from_all")}];return tC||t.push({key:D.V7.ALL_UNASSIGNED_REQUESTS,label:(0,I.t)("admin_dashboard.requests.from_unassigned")}),(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(f.MM,{checked:ti===e.key,onClick:()=>tl(e.key),children:e.label},e.key)),(0,s.jsx)(f.wv,{}),(0,s.jsx)(f.MM,{disabled:!0,checked:!1,onClick:l.lQ,children:(0,I.tx)(tn===D.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")}),e.map(e=>(0,s.jsx)(f.MM,{checked:ti===e.id,onClick:()=>tl(e.id),children:e.name},e.id))]})}})]})]});return(0,s.jsxs)(K.fu,{name:Z.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tm?W:void 0,teamId:g===D.ps.TEAM?W:void 0,entryPoint:"dashDeepLinkEntryPoint"in eY?eY.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:!0},trackingOptions:J,children:[(0,s.jsx)(el.K,{title:(0,I.t)("admin_dashboard.requests.seat_title"),rightActions:!tN||tc.length<1?t7:void 0}),(0,s.jsx)("div",{className:u()(eB.M2,T.s.if(!tN||0===tc.length,T.s.pt4,T.s.pt12).$),children:(0,s.jsx)(ey.Cj,{actionBar:"approving_all"===eM?void 0:t=>tB?(0,s.jsx)("div",{className:T.s.w150.$,children:(0,s.jsx)(j.Wi,{className:T.s.h12.w150.$,animationType:j.JR.SHIMMER_ON_MENU})}):(0,s.jsx)("div",{className:eB.$h,children:(0,s.jsxs)(C.Y,{spacing:8,children:[(0,s.jsx)(R.V,{variant:"toolbar-secondary",disabled:!!eM,onClick:eM?l.lQ:()=>t0({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eT}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:Q.c.DECLINE},trackingOptions:J,children:(0,s.jsx)(F.Zu,{text:(0,I.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===eM})}),(0,s.jsx)(R.V,{variant:"primary",disabled:!!eM,onClick:eM?l.lQ:()=>ee(z.to({type:et,data:{plan:e,requestsToApprove:t,seatAvailability:eS,isELA:tR,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t0({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:Q.c.REVIEW},trackingOptions:J,children:(0,D.Zm)({text:(0,I.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===eM})})]})}),actionBarClassName:u()(eB.KY,tB?void 0:eB.h4),columns:t3,disabled:!!eM,emptyContent:(c=0===eN.length&&null===eC&&ti===tn&&null===to?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:T.s.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$,children:(0,I.tx)(tw&&tC?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")}),(0,s.jsx)("div",{style:A.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$,children:tw?tw===ef.Sm.MEMBERS?(0,I.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,I.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,I.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed")})]}):eN.length>0&&null===eC&&ti===tn&&null===to?(0,s.jsx)("div",{className:T.s.lh16.cursorDefault.colorText.$,children:(0,I.tx)("admin_dashboard.requests.empty.no_search_results")}):(0,s.jsx)("div",{className:T.s.lh16.cursorDefault.colorText.$,children:(0,I.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:(0,s.jsx)(b.CY,{trusted:!0,onClick:()=>{ek(null),tl(tn),ew(""),td(null)},children:(0,I.tx)("admin_dashboard.requests.empty.reset_filters")})})}),(0,s.jsx)(C.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",children:c})),getItemKey:e=>e.id,getTotalSelected:tB?void 0:(e,t)=>{let a;return a=eI&&tO?Math.max(1,tO-(t.length-e.length)):e.length,eF.current=a,a},hasNewScrollContext:!0,highlightState:{itemKey:tW?.id??null,setItemKey:tV},isLoading:tk,itemTypeContext:{itemType:D.k_,getSelectedCountString:e=>tB?"":"approving"===eM?(0,I.t)("admin_dashboard.requests.selected_count_approving",{numSelected:e$}):"declining"===eM?(0,I.t)("admin_dashboard.requests.selected_count_denying",{numSelected:e$}):(0,I.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tU,minContentWidth:928,onFetchMore:tT?()=>{tE&&tb?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tW?.id?t$():tV(e.id)},onSelectedItemsChange:e=>{0===e.length&&eA(!1)},onSetSortState:()=>eq(e=>e===D.i5.NEWEST_FIRST?D.i5.OLDEST_FIRST:D.i5.NEWEST_FIRST),onToggleSelectAll:e=>{eA(!e),t$()},rightActionColumns:[{name:"approve-single-column",className:eG.oi,cellComponent:t=>(0,s.jsx)(eL,{request:t,plan:e,numRowsSelected:eF,handleRequests:t0,isELA:tR,isProrationBillingEnabled:Y})},{...eE.VU,cellComponent:e=>(0,s.jsx)(eP,{request:e,setHighlightedItemId:tV})}],scrollBarAlwaysVisible:!0,scrollContentRef:$,sortState:(0,P.W4)(eO),stickyContent:ae,unselectableItemKeys:e9})}),t1]})}},417450:(e,t,a)=>{a.d(t,{g:()=>i});var s=a(143277),n=a(441030);let r=[n.rRT,n.TaD,n.Clh,n.Msu,n.LPt];function i(e){let t=r.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),s.N.DEFAULT_MODAL;let a=r.length;return s.N.DEFAULT_MODAL+(a-t)/a}},199432:(e,t,a)=>{a.d(t,{p:()=>p});var s=a(104076),n=a(903927),r=a(821655),i=a(369729),l=a(417528),o=a(192075),d=a(366535),c=a(111297),u=a(959834),m=a(432786);let _=(0,u.Ju)(function(e){return(0,s.jsx)(c.fu,{name:"Enable AI Features Modal",properties:{planId:e.planId,planType:e.planType},children:(0,s.jsx)(m.Dd,{title:(0,o.t)("admin_settings.ai.features_toggle.modal.header"),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:e.onEnable,confirmText:(0,o.t)("admin_settings.ai.features_toggle.modal.button"),children:(0,s.jsx)("div",{children:(0,o.tx)("admin_settings.ai.features_toggle.modal.description")})})})},"EnableAiFeaturesModal");function p(e){let t=(0,n.wA)();return(0,s.jsxs)(r.Yy,{variant:"brand","data-testid":e.testId,children:[(0,s.jsx)(i.Q,{title:(0,o.t)("admin_settings.ai.banner.title"),children:(0,s.jsx)("span",{style:{marginRight:8},children:(0,o.tx)("admin_settings.ai.banner.description")})}),(0,s.jsx)(l.N,{href:"#",onClick:()=>{t(d.to({type:_,data:{onEnable:()=>{e.onEnable()},planId:e.planId,planType:e.planType}}))},children:(0,o.tx)("admin_settings.ai.features_toggle.enable_ai")})]})}},880128:(e,t,a)=>{let s;a.d(t,{r:()=>i});var n=a(797874),r=a(959834);function i(){return s??=(0,r.Ju)(n.A.createLazyComponent(()=>Promise.all([a.e(9510),a.e(6189),a.e(5928),a.e(2554),a.e(5174),a.e(8324),a.e(7384),a.e(8046),a.e(8234),a.e(81),a.e(4334),a.e(6048)]).then(a.bind(a,157203)).then(e=>e.UpdateTeamDescriptionModal),(0,r.Ij)("UpdateTeamDescriptionModal")))}},266966:(e,t,a)=>{a.d(t,{I:()=>l});var s=a(104076),n=a(638004),r=a(1188),i=a(111297);function l(e){return(0,s.jsx)(r.tH,{boundaryKey:e.trackingName,team:e.team??n.e.SCALE,fallback:r.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,s.jsx)(i.fu,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties,children:e.children})})}},143928:(e,t,a)=>{a.d(t,{K:()=>h});var s=a(104076),n=a(903927);if(443==a.j)var r=a(475477);if(443==a.j)var i=a(293422);if(443==a.j)var l=a(180);var o=a(755444),d=a(816565),c=a(236631),u=a(192075),m=a(911990);if(443==a.j)var _=a(551668);var p=a(366535),g=a(904017);function h(e){let t=(0,n.wA)(),a=(0,g.px)(),h=(0,g.Um)(a).unwrapOr(!1),x=(0,s.jsxs)(r.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",children:[" ",(0,u.tx)("resource_connection.request_modal.learn_more")," "]});return(0,s.jsxs)(m.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32,children:[(0,s.jsx)(d.oW,{src:(0,o.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),(0,s.jsx)("div",{className:c.s.textHeadingMedium.$,children:(0,u.t)("connected_projects_table.collaborate_in_a_connected_project")}),(0,s.jsx)("div",{className:c.s.textBodyLarge.$,style:{width:"508px",textAlign:"center"},children:h?(0,u.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,u.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:x})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.$n,{iconPrefix:(0,s.jsx)(l.$,{}),variant:"primary",onClick:()=>{t(p.to({type:_.B,data:{entryPoint:e.entryPoint}}))},children:(0,u.t)("resource_connection.admin_ui.connect_project")}),x]}),(0,s.jsx)("div",{className:c.s.h100.$})]})}},852263:(e,t,a)=>{a.d(t,{A:()=>w});var s=a(104076),n=a(716976),r=a(903927),i=a(475477),l=a(821655),o=a(369729),d=a(293422),c=a(654458),u=a(812714),m=a(511570),_=a.n(m),p=a(755444),g=a(449572),h=a(140490),x=a(816565),f=a(236631),b=a(192075),v=a(629253),j=a(551668),y=a(366535),E=a(443192),S=a(745101),T=a(59849),I=a(904017),A=a(232362);let N="connected_projects_tab_header--headerContainer--Rz5m6";function w(){return(0,s.jsx)(h.u,{label:"ConnectedProjectsTabHeader",children:(0,s.jsx)(C,{})})}function C(){let e=(0,r.wA)(),t=(0,I.px)(),a=(0,I.S2)().unwrapOr(null),m=(0,I.Um)(t).unwrapOr(!1),h=a?.tier,w=a?.connectionCount??0,C=(0,S.N)(a?.key,()=>{e(y.to({type:j.B,data:{entryPoint:v.wR.CONNECTED_PROJECT_ADMIN_UI}}))}),R=(0,s.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,b.tx)("resource_connection.request_modal.learn_more")}),k=(0,g.bc)(T.sMZ,{name:"seen_connected_projects_org_member_banner"}),O=n.useMemo(()=>"loaded"!==k.status||!!k.data?.currentUser?.userFlagByName,[k]),q=(0,u.kc)().fc_initial_onboarding_enabled&&!O?(0,s.jsx)("div",{className:_()(f.s.pt10.$,N),children:(0,s.jsx)(l.Cs,{variant:"brand",icon:(0,s.jsx)(c.L,{style:{"--color-icon":"var(--color-icon-brand)"}}),onDismiss:()=>{e(E.b({seen_connected_projects_org_member_banner:!0}))},children:(0,s.jsx)(o.Q,{children:(0,b.tx)("resource_connection.connected_projects_tab.connected_projects_help_you_collaborate",{learnMore:R})})})}):(0,s.jsx)(s.Fragment,{});return m?(0,s.jsxs)("div",{className:N,children:[(0,s.jsx)("div",{className:"connected_projects_tab_header--contentContainer--xKmY8",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:f.s.textBodyLarge.$,children:(0,b.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:R})}),(0,s.jsxs)("div",{className:"connected_projects_tab_header--buttonContainer--mL5-t",children:[(0,s.jsx)("div",{children:(0,s.jsx)(d.$n,{onClick:C,children:(0,b.t)("resource_connection.admin_ui.connect_project")})}),(0,s.jsx)("div",{className:f.s.colorTextSecondary.$,children:a&&h&&w?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,b.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:w}):A.b[h]-w>0?(0,b.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:w,maxConnections:A.b[h]}):(0,b.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:A.b[h],planTier:(0,A.A)(h)}):null})]})]})}),(0,s.jsx)(x.oW,{src:(0,p.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})]}):q}},297109:(e,t,a)=>{a.d(t,{m:()=>E});var s=a(104076),n=a(716976),r=a(498349),i=a(917360),l=a(420680),o=a(268389),d=a(225654),c=a(511570),u=a.n(c),m=a(784220),_=a(210913),p=a(173272),g=a(858959),h=a(262019),x=a(236631),f=a(192075);let b=(0,n.createContext)(null);function v(){let e=(0,n.useContext)(b);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function j(){return v().close}function y(){let e=j();return(0,s.jsx)("div",{className:u()(x.s.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close--SKgKT"),children:(0,s.jsx)(l.K,{onClick:()=>e("button"),"aria-label":(0,f.t)("modal.close"),children:(0,s.jsx)(d.X,{})})})}let E={Root:(0,n.forwardRef)((e,t)=>{let a=(0,n.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return(0,s.jsx)(b.Provider,{value:a,children:(0,s.jsx)(m.N,{initial:!1,children:e.open?(0,s.jsx)(n.Fragment,{children:e.children},"contents"):null})})}),Contents:function({children:e,...t}){let{close:a,ref:l}=v(),o=(0,h.M)(l);(0,n.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,o]);let[d,c]=(0,_.xQ)(),m=(0,p.d)("translateX(100%)");return(0,n.useEffect)(()=>{let e;return d?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(c,600)),()=>{clearTimeout(e)}},[d]),(0,s.jsx)(r.i,{children:(0,s.jsx)(i.b,{...t,className:u()(x.s.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:o,children:(0,s.jsx)("div",{className:u()(x.s.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--g9Ra6"),children:(0,s.jsxs)(g.P.div,{className:x.s.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...d?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||d||c()},children:[(0,s.jsx)(y,{}),e]})})})})},Header:function(e){return(0,s.jsx)("div",{className:u()(x.s.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--AZ5ed"),children:e.children})},HiddenTitle:o.r1,Title:function(e){return(0,s.jsx)(i.J,{className:x.s.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$,children:e.children})},Body:function(e){let{height:t,...a}=e;return(0,s.jsx)("div",{className:u()(x.s.overflowAuto.if("fill"===e.height,x.s.hFull).$,"flyout--body--2bx8h"),"data-testid":"flyout-body",children:a.children})},useClose:j}},248486:(e,t,a)=>{a.d(t,{v:()=>l});var s=a(716976);if(443==a.j)var n=a(328167);var r=a(703630);let i=443==a.j?["Enter"," "]:null;function l(e,t={}){let[a,o]=(0,s.useState)(null),d=(0,r.H)(t),c=(0,s.useRef)(),u=(0,s.useCallback)(e=>{o(null),c.current??=e},[]),m=(0,s.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!m;return(0,s.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,s.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,s.useEffect)(()=>{_&&u("item-missing")},[_,u]),(0,s.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let s=(0,n.SD)(t.target);for(;s;){let e=a.get(s);if("boolean"==typeof e)return e;s=s.parentElement}return!1},s=e=>{t(e)&&u("other-interaction")},r=e=>{i.includes(e.key)&&t(e)&&u("other-interaction")},l=e=>{t(e)&&setTimeout(()=>u("other-interaction"),0)};return document.body.addEventListener("pointerdown",s,{capture:!0}),document.body.addEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",s,{capture:!0}),document.body.removeEventListener("keydown",r,{capture:!0}),document.body.addEventListener("input",l,{capture:!0})}},[a,u,d]),{highlightedItem:m,setHighlightedItemId:o,clearHighlightedItemId:u}}},146171:(e,t,a)=>{a.d(t,{b:()=>o});var s=a(716976),n=a(638004),r=a(883765),i=a(111297),l=a(271330);function o(e){let{properties:t}=(0,i.j6)(),a=(0,l.L)(n.e.MONETIZATION_EXPANSION);return(0,s.useCallback)(s=>{(0,r.sx)("admin_flyout_closed",{...t,flyout_id:e,reason:s},a)},[t,e,a])}},487810:(e,t,a)=>{a.d(t,{B:()=>l,z:()=>i});var s=a(104076),n=a(716976);let r=(0,n.createContext)(null);function i(e){return(0,s.jsx)(r.Provider,{value:e.layoutRef,children:e.children})}function l(){let e=(0,n.useContext)(r);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},336972:(e,t,a)=>{a.d(t,{S:()=>ep,d:()=>eg});var s=a(104076),n=a(716976),r=a(903927),i=a(65545),l=a(951002),o=a(382629),d=a(638004),c=a(929302),u=a(950187),m=a(268389),_=a(475477),p=a(73795),g=a(120440),h=a(883765),x=a(833805),f=a(140490),b=a(550209),v=a(1188),j=a(520741),y=a(236631),E=a(352630),S=a(192075),T=a(58212),I=a(638641),A=a(911990),N=a(817647),w=a(347592),C=a(944350),R=a(412469),k=a(608175),O=a(328213);C.Ag.STUDENT,C.Ag.STARTER;let q=w.N_.dict(()=>"-");var L=a(244205),M=a(111297),P=a(514359),D=a(649693),F=a(285091),B=a(904017),U=a(563554),G=a(838887),W=a(959834),V=a(826160),$=a(434225),H=a(302727),Y=a(173025),z=a(942924),Q=a(659062),K=a(624258),X=a(476261),J=a(283559),Z=a(594209),ee=a(349311);function et({billableProductKey:e,upgradeApprovalSetting:t,isELA:a,isProrationBillingEnabled:n,isProvisionalAccessEnabled:r}){let i=(0,X.SI)(t),l=(0,X.kj)(t,a,n,r),o=(0,X.NU)(t,a);return(0,s.jsx)(H.Option,{htmlAttributes:{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":o,"data-tooltip-hide-immediately":"","data-tooltip-max-width":"200px","data-tooltip-show-immediately":"","data-tooltip-show-left":"","data-tooltip-text-left":"","data-tooltip-type":ee.Ib.TEXT},value:`${e}##${t}`,disabled:!!o,children:(0,s.jsxs)(Y.fv,{className:"x1iorvi4 xjkvuk6 x163pfp xy13l1i",children:[(0,s.jsx)("div",{children:i}),(0,s.jsx)("div",{className:"x126k92a xkrz9af x1p6yuv4",children:l})]})})}let ea=[i.zRx.MANUAL_APPROVAL,i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,i.zRx.INSTANT_APPROVAL];function es({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:r,isELA:i,shouldHidePrice:l,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d}){let c=(0,n.useId)(),u=(0,X.CM)(t),m=ea.map(e=>(0,s.jsx)(et,{billableProductKey:t,upgradeApprovalSetting:e,isELA:i,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d},`${t}_${e}`));return(0,s.jsxs)(Y.fv,{gap:8,"data-testid":`auto-approval-settings-selector-${t}`,children:[(0,s.jsx)(A.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start",children:(0,s.jsxs)(A.Y,{direction:"horizontal",horizontalAlignItems:"space-between",children:[(0,s.jsxs)(A.Y,{direction:"horizontal",children:[(0,s.jsx)(K.BC,{type:t,size:"24"}),(0,s.jsx)("label",{htmlFor:c,className:y.s.textBodyMediumStrong.$,children:u})]}),(0,s.jsx)(en,{shouldHidePrice:l,priceString:e,seatType:t})]})}),(0,s.jsxs)(H.Root,{value:`${t}##${a}`,onChange:e=>{let[t,a]=e.split("##");r(t,a)},children:[(0,s.jsx)(H.ManuallyLabeledTrigger,{id:c,width:"fill",size:"lg",children:(0,X.SI)(a)}),(0,s.jsx)(H.Container,{children:m.flatMap((e,t)=>t<m.length-1?[e,(0,s.jsx)(H.Separator,{},`divider-${t}`)]:e)})]})]})}function en({shouldHidePrice:e,seatType:t,priceString:a}){let n=e?(0,S.t)("general.whats_included_aria_label",{seatType:(0,Z.QC)(t)}):(0,S.t)("general.price_per_month",{priceString:a}),r=(0,s.jsx)("div",{"data-testid":`${t}-price`,style:Q.sx.noWrap.colorTextSecondary.$,children:e?(0,S.tx)("general.whats_included"):(0,S.tx)("general.price_per_month",{priceString:a})});return(0,s.jsx)(z.b,{type:"listbox",text:r,popoverContent:(0,s.jsx)("div",{style:Q.sx.flex.flexColumn.gap8.$,children:(0,s.jsx)(J.i,{seatType:t,spacing:8})}),ariaLabel:n})}let er=i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function ei(e){let t=(0,r.wA)(),{currency:a,renewalTerm:i}=e,p=c.hS({open:e.open,onClose:e.onClose}),g=(0,F.d)({reportErrorsToTeam:d.e.SCALE}),h=(0,O.k)(),f=(0,B.S2)(),[v]=(0,x.Ad)(f),j=!!v.data?.campfireProvisionalAccessEnabled,A=(0,P.i6)(),W=A.data;if(n.useEffect(()=>{"errors"===A.status&&console.error("orgManagesSeatsViaScimQueryResult error",A.errors)},[A]),"loaded"!==v.status){let e=Error("disabled"===v.status?"Plan fetching disabled":"Error fetching plan");throw(0,b.$D)(d.e.MONETIZATION_EXPANSION,e),e}let $=v.data;if(!$){let e=Error("No Plan found");throw(0,b.$D)(d.e.MONETIZATION_EXPANSION,e),e}let{billableProductKeyContractPrices:H,status:Y}=function(e,t,a){let s=(0,N.Ln)(e.key,w.N_,{renewalTerm:a,unit:k.IX.MONTH}),[n]=(0,x.Ad)(s),r=(0,O.k)(),i="disabled"===n.status?Error("Missing contract rate args."):"errors"===n.status?Error("Error while fetching pricing."):void 0;if(i&&(0,b.$D)(d.e.MONETIZATION_EXPANSION,i),i||!t)return{billableProductKeyContractPrices:q,status:n.status};let{data:l}=n;if(null===l||!r)return{billableProductKeyContractPrices:q,status:n.status};let c=new R.vr(t);return{billableProductKeyContractPrices:w.N_.dict(e=>{if(!(0,o.uy)(l[e]))return c.formatMoney(l[e].amount,{showCents:!1})}),status:n.status}}($,a,i),[z,Q]=(0,n.useState)(w.N_.dict(e=>{switch(e){case D.ud.EXPERT:return $.upgradeApprovalSettingsExpert??er;case D.ud.DEVELOPER:return $.upgradeApprovalSettingsDeveloper??er;case D.ud.COLLABORATOR:return $.upgradeApprovalSettingsCollaborator??er;case D.ud.CONTENT:return $.upgradeApprovalSettingsContent??er;default:(0,l.xb)(e)}})),K=(0,n.useCallback)(async()=>{if(!$.key.type||!$.key.parentId)throw Error("Missing plan key type or parentId.");await G.V.updateUpgradeApprovalSettings($.key.type,$.key.parentId,z),p.props?.close({source:"button"}),t(T.F.enqueue({message:(0,S.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:I.zX.CHECK_WITH_CIRCLE}))},[z,t,p.props,$.key.parentId,$.key.type]),X=(0,n.useCallback)((e,t)=>{Q(a=>({...a,[e]:t}))},[]),J=g||!a||"errors"===Y||!h;return(0,s.jsx)(M.fu,{name:U.e0.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:$.key.type,orgId:$.key.type===C.OL.ORG?$.key.parentId:void 0,teamId:$.key.type===C.OL.TEAM?$.key.parentId:void 0},children:(0,s.jsx)(u.bL,{manager:p,width:480,children:(0,s.jsxs)(m.vo,{allowOverflow:!0,children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:y.s.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)(V.Ro,{entity:{...$,id:$?.id??void 0},shape:"CIRCLE",size:48,className:y.s.mb16.$}),(0,s.jsx)("div",{className:y.s.textHeadingMedium.mb8.$,children:e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,S.tx)("plan_settings.auto_approval_settings.title")}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:y.s.textBodyMedium.colorTextSecondary.preWrap.$,children:g?e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,S.tx)("plan_settings.auto_approval_settings_subtitle_ela"):e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,S.tx)("plan_settings.auto_approval_settings.subtitle")}),(0,s.jsx)(_.N,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0,children:(0,S.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options")})]}),(0,s.jsxs)("div",{className:y.s.mt24.flex.flexColumn.gap24.mb8.$,children:[Object.keys(z).map(e=>{let t=H[e];if((0,o.uy)(t))return null;let a=z[e];return(0,o.uy)(a)?null:(0,s.jsx)(es,{billableProductKey:e,isELA:g,isProrationBillingEnabled:h,isProvisionalAccessEnabled:j,planName:$.name,priceString:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:X,shouldHidePrice:J},e)}),!!e.isCurfEnabledForMembers&&(0,s.jsx)(ed,{}),W&&!e.isCurfEnabledForMembers&&(0,s.jsx)(eo,{}),(0,s.jsx)(el,{failedToLoadPrices:"errors"===Y})]})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsxs)(m.jk,{children:[(0,s.jsx)(E.$z,{variant:"secondary",onClick:()=>p.props?.close({source:"button"}),trackingProperties:{trackingDescriptor:L.c.CANCEL},children:(0,S.tx)("plan_settings.auto_approval_settings.cancel")}),(0,s.jsx)(E.$z,{variant:"primary",onClick:K,trackingProperties:{trackingDescriptor:$.key.type?$.key.type===C.OL.ORG?L.c.SAVE_FOR_ORGANIZATION:L.c.SAVE_FOR_TEAM:L.c.SAVE},children:$.key.type?$.key.type===C.OL.ORG?(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")})]})})]})})})}function el({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,h.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(j._,{dataTestId:"pricing-error-badge",color:j.S.WARNING,padding:8,text:(0,S.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function eo(){return(0,s.jsx)(M.fu,{name:U.e0.SCIM_INFO_BADGE,children:(0,s.jsx)(j._,{dataTestId:"scim-info-badge",color:j.S.INFORMATION,padding:8,text:(0,s.jsxs)(A.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{...g.xk(p.g.textBodyMediumStrong),children:(0,S.tx)("plan_settings.auto_approval_settings.scim_badge.title")}),(0,s.jsx)("p",{children:(0,S.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")})]})})})}function ed(){return(0,s.jsx)(M.fu,{name:U.e0.CURF_MEMBER_INFO_BADGE,children:(0,s.jsx)(j._,{dataTestId:"curf-member-only-info-badge",color:j.S.INFORMATION,padding:8,text:(0,s.jsxs)(A.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{className:y.s.textBodyMediumStrong.$,children:(0,S.tx)("plan_settings.auto_approval_settings.curf_badge.title")}),(0,s.jsxs)("p",{children:[" ",(0,S.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")]})]})})})}let ec=(0,W.Ju)(function(e){return(0,s.jsx)(f.u,{label:"AutoApprovalSettingsModal",children:(0,s.jsx)(v.tH,{boundaryKey:"AutoApprovalSettingsModal",fallback:v.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)($.N,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577}),children:(0,s.jsx)(ei,{...e})})})})});var eu=a(293422);let em=(0,W.Ju)(function(e){let t=(0,B.S2)().unwrapOr(null),a=c.hS({open:e.open,onClose:e.onClose});return(0,s.jsx)(M.fu,{name:"Auto Approval Settings Modal (CURF All Users)",children:(0,s.jsx)(u.bL,{manager:a,width:480,children:(0,s.jsxs)(m.vo,{children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:y.s.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)(V.Ro,{entity:{...t,id:t?.id??void 0},shape:"CIRCLE",size:48,className:y.s.mb16.$}),(0,s.jsx)("div",{className:y.s.textHeadingMedium.mb8.$,children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.title")}),(0,s.jsx)("span",{className:y.s.textBodyMedium.colorTextSecondary.$,children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.description")})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsx)(m.jk,{children:(0,s.jsx)(eu.$n,{variant:"primary",onClick:()=>a.props?.close({source:"button"}),children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")})})})]})})})},"CurfAllUsersAutoApprovalSettingsModal");var e_=a(366535);function ep({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:s}){return()=>{e(e_.to({type:ec,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:s}}))}}function eg({dispatch:e}){return()=>{e(e_.to({type:em,data:{}}))}}},505189:(e,t,a)=>{let s;a.d(t,{Y:()=>I});var n=a(104076),r=a(716976),i=a(903927),l=a(929302),o=a(950187),d=a(268389),c=a(812714),u=a(140490),m=a(520741),_=a(72138),p=a(236631),g=a(192075),h=a(111297),x=a(944350),f=a(562552),b=a(838887),v=a(507665),j=a(959834),y=a(826160),E=a(197600);function S(e){return(0,n.jsx)(u.u,{label:"AssetTransferAdminListModal",children:(0,n.jsx)(T,{...e})})}function T(e){let t=(0,i.wA)(),a=l.hS({open:e.open,onClose:e.onClose}),s=(0,E.lM)(e.entryPoint),[u,j]=r.useState();r.useEffect(()=>{if((0,c.kc)().can_transfer_admin_list)b.V.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{j(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else if(e.planType===x.OL.ORG){f.Eh.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{j(e.meta)});return}else e.planType===x.OL.TEAM&&v.$.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{j(e.meta)})},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let S=e.planName??(0,g.t)("general.fallback_team_name");return(0,n.jsx)(h.fu,{name:"Asset Transfer Admin List Modal",children:(0,n.jsx)(o.bL,{manager:a,width:"lg",children:(0,n.jsxs)(d.vo,{children:[(0,n.jsx)(d.Y9,{children:(0,n.jsx)(d.hE,{children:(0,g.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:S})})}),(0,n.jsxs)(d.nB,{scrolling:"manual",children:[(0,n.jsx)(m._,{color:m.S.INFORMATION,text:s?(0,g.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,g.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),(0,n.jsx)(_.P,{className:"asset_transfer_admin_list_modal--scrollContainer--IG5YS",children:(0,n.jsx)("div",{className:"asset_transfer_admin_list_modal--contentContainer--u5vXu",children:(()=>{if(u){let e=u.map(e=>(0,n.jsx)("div",{className:p.s.py8.$,children:(0,n.jsx)(y.az,{entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1},e.id)},e.id));return(0,n.jsx)("ul",{children:e})}})()})})]})]})})})}function I(){return s??=(0,j.Ju)(S,"AssetTransferAdminListModal")}},235854:(e,t,a)=>{a.d(t,{d:()=>w});var s=a(104076),n=a(716976),r=a(903927),i=a(929302),l=a(950187),o=a(268389),d=a(293422),c=a(751309),u=a(755444),m=a(140490),_=a(816565),p=a(679359),g=a(236631),h=a(192075),x=a(58212),f=a(232362),b=a(366535),v=a(111297),j=a(745101),y=a(944350),E=a(904017),S=a(349311),T=a(184664),I=a(959834),A=a(903156);function N(e){let t=(0,r.wA)(),a=()=>{t(b.Ce())},m=(0,E.S2)().unwrapOr(null),I=i.hS({...e,onClose:a}),[N,w]=n.useState(!1),C=e.resourceConnectionInvite.hostPlan,R=e.resourceConnectionInvite.connectingPlan,k=(0,j.N)(m?.key,()=>{T.c.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{w(!1),a(),t(x.F.enqueue({message:(0,h.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{w(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(x.F.enqueue({message:m?.key.type===y.OL.TEAM?(0,h.t)("resource_connection.visual_bell.org_at_limit"):(0,h.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(x.F.enqueue({message:(0,h.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(x.F.enqueue({message:(0,h.t)("resource_connection.visual_bell.host_settings",{hostPlanName:C.name}),error:!0})):t(x.F.enqueue({message:(0,h.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return m?(0,s.jsx)(v.fu,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId},children:(0,s.jsx)(l.bL,{manager:I,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,h.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:C.name})})}),(0,s.jsxs)(o.nB,{padding:0,children:[(0,s.jsx)(_.oW,{src:(0,u.ck)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:g.s.maxWFull.$}),(0,s.jsxs)("div",{className:g.s.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$,children:[(0,s.jsx)("p",{className:g.s.$,children:(0,h.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:(0,s.jsx)("span",{className:g.s.fontSemiBold.$,children:R.name})})}),(0,s.jsx)("div",{className:A.fF,children:(0,s.jsx)("div",{className:A.yF})}),(0,s.jsxs)("div",{className:A.Kg,children:[(0,s.jsxs)("div",{className:A.F5,children:[(0,s.jsx)("p",{className:A.QU,children:(0,h.t)("resource_connection.project_name")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.resourceName})]}),(0,s.jsxs)("div",{className:A.F5,children:[(0,s.jsx)("p",{className:A.QU,children:(0,h.t)("resource_connection.host")}),(0,s.jsx)("p",{children:C.name})]}),(0,s.jsxs)("div",{className:A.F5,children:[(0,s.jsx)("p",{className:A.QU,children:(0,h.t)("resource_connection.invited_by")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.hostInviter?.name})]}),(0,s.jsxs)("div",{className:A.F5,children:[(0,s.jsxs)("div",{className:A.j1,children:[(0,s.jsx)("p",{className:A.QU,children:(0,h.t)("resource_connection.available_projects")}),(0,s.jsx)("div",{...m?.tier?{"data-tooltip":(0,h.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:f.b[m.tier],planType:(0,f.A)(m.tier)??""}),"data-tooltip-type":S.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{},children:(0,s.jsx)(c.B,{style:{"--color-icon":"var(--color-icon-secondary)"}})})]}),(0,s.jsx)("p",{children:m?m?.unlimitedConnectionsEnabled||m?.testingOnlyUnlimitedConnectionsEnabled?(0,h.t)("resource_connection.unlimited"):(f.b[m.tier]-(m?.connectionCount??0)).toString():""})]})]}),(0,s.jsx)("div",{className:A.fF,children:(0,s.jsx)("div",{className:A.yF})})]}),(0,s.jsxs)("div",{className:A.xQ,children:[(0,s.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:g.s.mr8.$,children:(0,s.jsx)(d.$n,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,h.tx)("resource_connection.request_modal.learn_more")})}),(0,s.jsxs)("div",{className:g.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:()=>{T.c.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{w(!1),a(),t(x.F.enqueue({message:(0,h.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{w(!1),console.error("Error denying resource connection invite",e),t(x.F.enqueue({message:(0,h.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},children:(0,h.tx)("resource_connection.confirm_modal.decline")}),N?(0,s.jsx)(d.$n,{disabled:!0,children:(0,s.jsx)(p.qc,{})}):(0,s.jsx)(d.$n,{onClick:k,children:(0,h.tx)("resource_connection.connect")})]})]})]})]})})}):(0,s.jsx)(s.Fragment,{})}let w=(0,I.Ju)(function(e){return(0,s.jsx)(m.u,{label:"ResourceConnectConfirmModal",children:(0,s.jsx)(N,{...e})})},"ResourceConnectConfirmModal")},696989:(e,t,a)=>{a.d(t,{r:()=>o,w:()=>d});var s=a(716976),n=a(903927),r=a(449572),i=a(147046),l=a(59849);function o(e){let t=(0,r.bc)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team||a(i.sf({view:"recentsAndSharing"}))},[t,a])}function d(e){let t=(0,r.bc)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,n.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(i.sf({view:"recentsAndSharing"}))},[t,a])}},552234:(e,t,a)=>{a.d(t,{n:()=>o});var s=a(716976),n=a(903927);if(443==a.j)var r=a(328881);var i=a(212959),l=a(366535);function o(e,t,a,o,d,c){let u=(0,n.wA)();return s.useCallback(()=>{void 0!==t&&(e===i.am.MEMBERS&&t.team.org_id?u(l.to({type:(0,r.T)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):u(l.to({type:i.ut,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,u,a,o,d,c])}},585345:(e,t,a)=>{a.d(t,{e9:()=>C,Mn:()=>M});var s=a(104076),n=a(716976),r=a(903927),i=a(962856),l=a(795033),o=a(333331),d=a(369850),c=a(449572),u=a(997477),m=a(1188),_=a(652539),p=a(192075),g=a(102497),h=a(220294),x=a(689902),f=a(507147),b=a(82621),v=a(111297),j=a(905368),y=a(462952),E=a(944350),S=a(59849),T=a(439956),I=a(771717),A=a(349311);let N="admin_notifications_count_badge--yellowIcon--7SC5D";var w=a(57540);function C(e){let{getConfig:t}=(0,u.I7)("exp_all_admin_request_dash"),a=(0,c.bc)(S.HpJ,{orgId:e.planId},{enabled:e.planType===g.ps.ORG}),r=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,d=(0,g.ZY)({isIntendedAudience:!!(e.planType===g.ps.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),m=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,_=(0,c.bc)(S.KR2,{planType:e.planType,planId:e.planId,filterParams:r||d?JSON.stringify({billing_group_ids:m}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),x="loaded"===_.status&&_.data.adminDashboardRequestsTotalCount.status===o.tT.Loaded&&("loaded"===a.status||e.planType===g.ps.TEAM)?_.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,f=x??0,[b,v]=(0,l.fp)(h.Y),j=r?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();n.useEffect(()=>{if(x){let e={...b};e[j]=f,v(e)}return()=>{let e={...b};delete e[j],v(e)}},[e.isDataLoaded,x,j]);let y=(b[j]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(y<1)return null;let E="defaultFilled";return(e.billingStatusCount||e.taxStatusCount)&&(E="warningFilled"),void 0!==x&&y>0&&e.isDataLoaded?(0,s.jsx)(i.E,{"aria-label":(0,p.t)("sidebar.admin_notifications_count",{adminNotificationsCount:y}),variant:E,"data-testid":"admin-notifications-badge",children:y.toString()}):null}function R(e){let t=function(e,t){let a=(0,d.Xf)(e.id),s=(0,y.MX)(),r=n.useMemo(()=>(0,j.Pn)(a.data),[a.data]),i=a.data?.invoices,l=(0,j.Yo)(r?{planKey:{parentId:e.id,type:E.OL.ORG},nextRenewalDate:r}:null);return n.useMemo(()=>{let e=(0,x.ur)({invoices:i??[],licenseGroups:s,renewalConfirmed:l,userId:t.user_id,renewalAt:r});return e?.notification?1:0},[i,r,l,s,t.user_id])}(e.org,e.orgUser);return(0,s.jsx)(C,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function k(e){let t=function(e){let t=(0,d.Xf)(e.id),a=(0,j.oU)(e),s=n.useMemo(()=>(0,j.Pn)(t.data),[t.data]),r=t.data?.invoices;return n.useMemo(()=>{if("loaded"!==t.status||!r||"loading"===a.status)return 0;let n=0;a.data?.show&&!a.data?.confirmed&&n++;let i=(0,x.uE)({invoices:r,org:e,renewalAt:s});return i?.notification&&n++,n},[r,e,t.status,a.data,a.status,s])}(e.org),a=(0,y.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id);return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?(0,s.jsx)(C,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:a,taxStatusCount:0,isDataLoaded:void 0!==e.invoices}):null}var O=(e=>(e.WARNING="warning",e.NOTICE="notice",e))(O||{});function q(e,t,a,s,n,r){if(!s||!(0,T.i0)(s))return null;if(r){if(!n)return null;let{groupsUserIsAdminOf:e}=(0,y.EQ)(a,t.user_id,r),{groupsToReview:i}=(0,y.Cz)(e,s);if(0===i.length)return null}return{tooltipData:"",iconStyle:(0,T.m3)(s)?"admin_notifications_count_badge--redIcon--QvRuX":N,iconType:(0,T.m3)(s)?"warning":"notice"}}function L(e){return e!==E.kI.UNVERIFIED?null:{tooltipData:(0,p.t)("billing_status.tax_id.invalid"),iconStyle:N,iconType:"notice"}}function M(e){return(0,s.jsx)(m.tH,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:(0,s.jsx)("div",{}),children:(0,s.jsx)(D,{...e})})}function P(e){let t=(0,r.wA)(),a=(0,y.MX)(),i=e.invoices&&(0,T.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==E._D.ADMIN,o=(0,c.bc)(S.Wt6,{orgId:e.org.id}),d="loaded"===o.status?o.data.org?.taxIdVerificationStatus:null;n.useEffect(()=>{i&&l&&t(b.Jt({forceRefetch:!1}))},[t,e.org.id,i,l]);let u=(()=>{switch(e.highlightType){case T.EZ.BILLING_STATUS:return q(e.org,e.orgUser,a,e.invoices,i,l);case T.EZ.TAX_ID_STATUS:return L(d);default:return q(e.org,e.orgUser,a,e.invoices,i,l)||L(d)}})();if(!u)return null;let m=`${u.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--DETI2":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6PT9X":""}`,p={};e.showTooltip&&(p["data-tooltip-type"]=A.Ib.TEXT,p["data-tooltip"]=u.tooltipData,p["data-tooltip-show-below"]=!0,p["data-tooltip-timeout-delay"]=50,p["data-tooltip-max-width"]=117);let g=(0,s.jsx)(_.B,{className:`admin_notifications_count_badge--warningSvg--sbgzs ${m}`,svg:w.A,useOriginalSrcFills_DEPRECATED:!0,...p}),h=e.showTooltip?(0,s.jsx)(f.Y,{className:m,dataTooltipType:p["data-tooltip-type"],dataTooltip:p["data-tooltip"],dataTooltipShowBelow:p["data-tooltip-show-below"],dataTooltipTimeout:p["data-tooltip-timeout-delay"],dataTooltipMaxWidth:p["data-tooltip-max-width"]}):(0,s.jsx)(f.Y,{className:m}),x="warning"===u.iconType?g:h;return(0,v.T8)(x,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function D(e){let t=(0,r.wA)(),a=e.orgUser.permission===E._D.ADMIN,i=(0,y.RG)(),l=(0,y.MX)(),{groupsUserIsAdminOf:o}=(0,y.EQ)(l,e.orgUser.user_id,!a),u=(0,d.Xf)(e.org.id),m="loaded"===u.status?u.data?.invoices??[]:void 0;n.useEffect(()=>{t(b.Jt({forceRefetch:!1}))},[t,e.org.id]);let _=o[0]?.id,p=e.org.bigma_enabled&&i&&!!_,h=(0,I.NJ)(e.org.id).data??[],x=e.org.bigma_enabled&&h.length>0,f=a||p||x,v=(0,g.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a}),j=(0,c.bc)(S.Wt6,{orgId:e.org.id},{enabled:a}),T="loaded"===j.status?j.data.org?.taxIdVerificationStatus:void 0;return f?a?(0,s.jsx)(k,{planType:g.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:l,taxIdVerificationStatus:T,invoices:m,isSelected:e.isSelected,org:e.org}):p?v?(0,s.jsx)(R,{invoices:m,groupsUserIsAdminOf:o,isSelected:e.isSelected,planId:e.org.id,planType:g.ps.ORG,orgUser:e.orgUser,org:e.org}):(0,s.jsx)(P,{invoices:m,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},212959:(e,t,a)=>{a.d(t,{ut:()=>tC,am:()=>tS});var s=a(104076),n=a(716976),r=a(903927),i=a(999083),l=a(821655),o=a(369729),d=a(263188);a(120440);var c=a(681398),u=a(769109),m=a(958273),_=a(1188),p=a(679359),g=a(192075),h=a(142914),x=a(751084),f=a(449572),b=a(944350),v=a(59849),j=a(832217),y=a(951002),E=a(511570),S=a.n(E),T=a(665261),I=a(652539),A=a(171660),N=a(147046),w=a(366535),C=a(494320),R=a(506192),k=a(592726),O=a(643898),q=a(411224),L=a(894413),M=a(349311),P=a(295110),D=a(826160),F=a(917332),B=a(560201),U=a(386719);let G=(0,B.ex)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return(0,s.jsxs)("span",{className:U.Qq,children:[(0,s.jsx)("span",{style:{fontWeight:600},children:a})," ",t]})},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),W="members_list_row--column--lYSr0",V="members_list_row--permissionsColumnModal--vpl7C members_list_row--column--lYSr0",$="members_list_row--roleRowWithRequestsModal--XkEe8 members_list_row--_membersListRowGridWithRequestsBase--lj--X",H="members_list_row--acceptDenyText--FS9XK text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",Y="members_list_row--fixedContextMenu--7vBtK",z="members_list_row--select--Dxew7 members_list_row--column--lYSr0",Q="members_list_row--dropdownIcon--mJelI",K="members_list_row--avatarWithHandle--yirlt";var X=a(977613),J=a(154709),Z=a(443105);let ee="team-member-list-row-dropdown";function et(e){let t=(0,r.wA)(),a=(0,k.Pc)(),i=(0,C.P)(),l=(0,R.Um)(),o=(0,n.useMemo)(()=>{let t=e.team?.team;return t?{teamName:t.name,isCurrentUserTeamOwner:t.isOwner,canMakeTeamMemberAdmin:t.canAdmin,canEditTeamMemberRole:(0,O.OL)(e.teamRole,!!t.canAdmin,!!t.canEdit)}:null},[e.team,e.teamRole]),d=n.useRef(null),c=()=>l&&l.type===ee&&l.data.roleId===e.teamRole.id,u=a=>{if(c())t(N.oB());else{if(!d.current)return;let s=d.current?.getBoundingClientRect(),n=s.bottom+a>window.innerHeight,r=window.innerHeight-s.bottom;t(N.j7({type:ee,data:{roleId:e.teamRole.id,position:{top:n?"auto":s.top,bottom:n?r:"auto",left:s.left-28,right:"auto"}}}))}},m=()=>{t((0,q.$S)({role:e.teamRole}))},_=a=>{(0,y.KF)(e.teamRole.resource_type===b.vt.TEAM,"MembersListRow is only for team roles");let s=()=>t((0,L.yN)({role:e.teamRole,level:a}));a===j.e6.OWNER?t((0,w.to)({type:F.b,data:{resourceType:e.teamRole.resource_type,resourceName:o?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:s}})):s()},p=(a,s)=>{e.isModal&&t(w.Ce()),t(N.sf({view:"user",userId:s.id,userViewTab:P.o.INTERNAL_PROFILE}))},h=(t,n)=>{let r;return e.teamRole.pending||(r=p),(0,s.jsx)(D.az,{className:e.isModal?"members_list_row--avatarWithHandleModal--EOxtN admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa":K,defaultFallbackAvatarSvg:e.teamRole.pending?X.A:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:n,initializableEntityProperties:["handle","name","email"],onClick:r,overrideHandle:n?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===a.id,size:24})},x=e.teamRole.pending?((e,t)=>{let a=i?.usersByEmail[e.user.email]||{};return{...a,...e.user,id:e.user.id,email:a?.email??t??e.user.email}})(e.teamRole,e.emailLg):e.teamRole.user;return(0,s.jsxs)("div",{className:S()({"members_list_row--roleRowWithRequests--Dmagz members_list_row--_membersListRowGridWithRequests--CLLCo members_list_row--_membersListRowGridWithRequestsBase--lj--X":!e.isModal,[$]:e.isModal}),"data-testid":"members-list-row",children:[e.isModal&&(0,s.jsx)("div",{className:"members_list_row--nameColumnModal--rT7n9 members_list_row--column--lYSr0",children:h(x,!0)}),!e.isModal&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"members_list_row--nameColumn--mEVQ- members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:h(x,!1)}),(0,s.jsx)("div",{className:"members_list_row--nameAndEmailColumn--8GdN6 members_list_row--column--lYSr0 members_list_row--_showWhenNarrow--FR1xk",children:h(x,!0)}),(0,s.jsx)("div",{className:"members_list_row--emailColumn--v-F6U members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:(0,s.jsx)(A.E,{truncate:!0,children:x.email})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:e.isModal?V:W,children:[(()=>{if(e.isEduRestrictedLg)return(0,s.jsx)(I.B,{className:"members_list_row--warningIcon--G9r-7","data-tooltip":G,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,g.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,g.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":M.Ib.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:Z.A})})(),(()=>{let t;let n=[],r=!1;if(e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner){if(!o?.canEditTeamMemberRole)return(0,s.jsx)("span",{className:"members_list_row--nonDropdownPadding--a8tyP",children:(0,O.QN)(e.teamRole.level)});o?.isCurrentUserTeamOwner&&!e.teamRole.pending&&n.push(j.e6.OWNER),o?.canMakeTeamMemberAdmin&&n.push(j.e6.ADMIN),n.push(j.e6.EDITOR),n.push(j.e6.VIEWER),r=e.teamRole.pending}else n.push(e.teamRole.level);let i=-24*Math.max(0,n.indexOf(e.teamRole.level));return c()&&l.data&&l.data.position&&(t={...l.data.position},t.top+=i),(0,s.jsxs)("div",{ref:d,children:[(0,s.jsxs)("div",{className:z,onClick:()=>u(120+i),children:[(0,s.jsx)("span",{children:(0,O.QN)(e.teamRole.level)}),(0,s.jsx)(I.B,{svg:J.A,className:Q})]}),c()&&(0,s.jsxs)(T.ms,{className:Y,style:t,children:[n.map(t=>(0,s.jsx)(T.MM,{onClick:e.teamRole.level!==t?()=>_(t):void 0,checked:e.teamRole.level===t,children:(0,O.QN)(t)},t)),(0,s.jsx)(T.wv,{}),r&&(0,s.jsx)(T.c$,{onClick:m,children:(0,g.tx)("file_browser.team.resend_invite")}),(0,s.jsx)(T.c$,{onClick:()=>_(j.e6.NONE),children:e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner?(0,g.tx)("file_browser.team.remove_confirm"):(0,g.tx)("file_browser.team.leave_confirm")})]})]})})()]})]})}var ea=a(883765),es=a(569711);let en="team-pending-member-role-request-dropdown",er=()=>{let e=(0,r.d4)(e=>e.dropdownShown);return e&&e?.type===en?e:null};function ei(e){let t=(0,r.wA)(),a=er(),i=n.useRef(null),[l,o]=n.useState(e.request.level),d=(0,r.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),c=n.useMemo(()=>d?[j.e6.EDITOR]:[j.e6.VIEWER,j.e6.EDITOR],[d]),u={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},m=s=>{if(a)t(N.oB());else{let a=i&&i.current&&i.current.getBoundingClientRect(),n=a?.bottom??0+s>window.innerHeight,r=window.innerHeight-(a?.bottom??0);t(N.j7({type:en,data:{requestId:e.request.id,position:{top:n?"auto":a?.top,bottom:n?r:"auto",left:a?.left??-28,right:"auto"}}}))}},_=e=>{o(e),t(N.oB())},p=n.useMemo(()=>-24*Math.max(0,c.indexOf(l)),[l,c]),h=n.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=p),e},[a,p]),x={request_id:e.request.id,team_id:e.request.teamId,type:l,response:"accept",source:"TeamPendingMembersRow"};return(0,s.jsxs)("div",{className:$,children:[(0,s.jsx)("div",{className:W,children:(0,s.jsx)(D.az,{entity:u,initializableEntityProperties:["handle","name","email"],size:24,className:K,onClick:(e,a)=>{t(N.sf({view:"user",userId:a.id,userViewTab:P.o.INTERNAL_PROFILE}))},overrideHandle:u.handle||u.name||u.email,defaultText:"--"})}),(0,s.jsxs)("div",{className:S()(W,"members_list_row--flexRight--iwR1Y"),children:[(0,s.jsx)("span",{onClick:()=>{x.response="deny",(0,ea.sx)("permission_request_responded",x),t(es.UF({requestId:e.request.id}))},className:H,role:"button",tabIndex:-1,children:(0,g.tx)("file_browser.team.dismiss")}),(0,s.jsx)("span",{onClick:()=>{(0,ea.sx)("permission_request_responded",x),t(es.Jd({requestId:e.request.id,level:l,teamId:e.request.teamId,email:e.request.user.email??"",user:u}))},className:H,role:"button",tabIndex:-1,children:(0,g.tx)("file_browser.team.approve")})]}),(0,s.jsx)("div",{className:V,children:(0,s.jsxs)("div",{ref:i,children:[(0,s.jsxs)("div",{className:z,role:"button",tabIndex:0,onClick:()=>{c.length>1&&m(120+p)},children:[(0,s.jsx)("span",{children:(0,O.QN)(l)}),c.length>1&&(0,s.jsx)(I.B,{svg:J.A,className:Q})]}),a&&a.data.requestId===e.request.id&&c.length>1&&(0,s.jsx)(T.ms,{className:Y,style:h,children:c.map(e=>(0,s.jsx)(T.MM,{onClick:l!==e?()=>{_(e)}:void 0,checked:l===e,children:(0,O.QN)(e)},e))})]})})]})}function el({teamRoleRequests:e}){let t=e?.team?.pendingTeamRoleRequests??[];return 0===t.length?null:(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(ei,{request:e},e.id)),(0,s.jsx)("div",{className:"members_list_row--pendingRequestDividerModal--tjuPV members_list_row--pendingRequestDivider--djtil"})]})}function eo(e){let t=(0,f.Rs)((0,v.N66)({teamId:e.teamId})),a=(0,f.Rs)((0,v.yQw)({teamId:e.teamId})),i=(0,f.Rs)((0,v.Cb9)({teamId:e.teamId})),[l,o,d]=(0,x.m)([t,a,i]),c=n.useMemo(()=>l?.team?.roles.reduce((e,t)=>{let a=!!l?.team?.studentTeamAt;return e[ed({id:t.id,user_id:t.userId,pending:t.pending})]=function(e,t){let a={id:t.id,created_at:t.createdAt.toISOString(),updated_at:t.updatedAt.toISOString(),level:t.level,resource_type:b.vt.TEAM,resource_id_or_key:t.resourceId,hasValidEduGracePeriod:!!t.eduGracePeriod?.isValid,isStudent:!!t.user?.studentValidatedAt,isStudentTeam:e};return t.pending?{...a,user_id:null,pending:!0,pendingEmail:t.pendingEmail,user:{id:t.user?.id??"",email:t.pendingEmail??void 0}}:{...a,user_id:t.userId,pending:!1,pendingEmail:null,user:{id:t.user?.id??"",email:t.user?.email??"",img_url:t.user?.imgUrl??"",handle:t.user?.handle??""}}}(a,t),e},{})??{},[l]),u=(0,r.d4)(t=>t.teamMembersByTeamId[e.teamId]||{}),m=e=>{let t=c[ed(e)];return!!t&&!!t.isStudentTeam&&t.level!==j.e6.VIEWER&&!e.pending&&!t.level&&!(t.isStudent||t.hasValidEduGracePeriod)},_=e=>{let t=c[ed(e)];return t?.user?.email??null},p=(()=>{let e={};return Object.values(u).forEach(t=>{t.team_role&&(e[t.team_role.id]=t)}),e})(),h=(()=>{let e=[],t={},a=new Set;Object.values(c).forEach(s=>{if(s.pending){e.push(s);return}t[s.user.id]=s,a.add(s.user?.email)});let s=e.filter(e=>!a.has(e.user?.email));return Object.values(t).concat(...s).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),y=!h.some(e=>e.level===j.e6.OWNER||e.level===j.e6.ADMIN);return 0===h.length?(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team.no_members")}):(0,s.jsxs)("div",{children:[(0,s.jsx)(el,{teamRoleRequests:d}),h.map(t=>(0,s.jsx)("div",{className:"members_list--memberRowForModal--g9CYe",children:(0,s.jsx)(et,{teamId:e.teamId,teamMember:p[t.id],teamRole:t,teamIsOrphaned:y,isModal:!0,team:o,isEduRestrictedLg:m(t),emailLg:_(t)},`team-role-${t.id}`)},t.id))]})}function ed(e){return e.pending?`pending-${e.id}`:e.user_id??""}var ec=a(381640),eu=a(527173),em=a(111297),e_=a(332795),ep=a(498399),eg=a(295253),eh=a(876793),ex=a(617176),ef=a(665756),eb=a(959834),ev=a(302955),ej=a(354174);function ey(e){return(0,s.jsxs)("div",{className:"mobile_settings_tool_bar--fixedToolbar--DJIrS",style:{width:e.width},children:[(0,s.jsx)("div",{className:"mobile_settings_tool_bar--tabContainer--yD8Zf",children:e.tabs}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}})]})}var eE=a(681249),eS=a(596149),eT=a(236631),eI=a(853039),eA=a(104836);function eN(e){let t=(0,r.d4)(e=>e.roles||{});return(0,eI.n0)(e.team)&&e.canAdmin?(0,s.jsx)("div",{className:eT.s.font12.lh16.pt8.pr32.pb16.pl4.colorText.$,children:(0,g.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")}):(0,s.jsx)("div",{className:"team_settings_modal--membersHeader--Ac-UZ",children:(0,s.jsxs)(A.E,{color:"secondary",fontSize:12,children:[e.team.name,(0,g.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,eA.pG)(t,e.team.id).length})]})})}var ew=a(293422),eC=a(684742),eR=a(324438),ek=a(812714),eO=a(333331),eq=a(833805),eL=a(428147),eM=a(197600),eP=a(505189),eD=a(880128),eF=a(834130),eB=a(657853),eU=a(483200),eG=a(244205),eW=a(373547),eV=a(249445),e$=a(745529),eH=a(893393),eY=a(562311),ez=a(904017),eQ=a(741348),eK=a(288054),eX=a(699914),eJ=a(945548),eZ=a(911107),e0=a(919024),e1=a(470949),e9=a(59670),e4=a(965602),e2=a(763934),e5=a(330086),e3=a(436194),e6=a(555013),e7=a(256384),e8=a(911990),te=a(199432),tt=a(65369),ta=a(507665),ts=a(432786);let tn={spinner:"ai-settings-spinner",dataSharingEnabledSwitch:"ai-settings-ai-enabled-switch",aiEnabledButton:"ai-settings-ai-enabled-button"},tr=(0,eb.Ju)(function(){let e=(0,r.wA)(),t=(0,eA.cD)(),a=(0,f.bc)((0,v.ZY7)({teamId:t})),n=a.data?.team,i=!n,l=!!n?.studentTeamAt&&!n?.isAiDataSharingEnabled,o=!!n?.aiFeaturesDisabledAt,d=async a=>{try{await ta.$.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let s=a?(0,g.t)("admin_settings.ai.enable_success"):(0,g.t)("admin_settings.ai.disable_success");e(e7.s.flash(s))}catch{e(e7.s.error((0,g.t)("file_browser.file_browser_actions.team_update_error")))}},c=async a=>{try{await ta.$.updateAiDataSharing({teamId:t,enabled:a}),(0,ea.sx)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(e7.s.flash((0,g.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(e7.s.error((0,g.t)("admin_settings.ai.data_sharing.update_error")))}},u=null;return o&&(u=(0,s.jsx)(e8.Y,{children:(0,s.jsx)(te.p,{onEnable:()=>d(!0),planId:t,planType:b.OL.TEAM,testId:tn.aiEnabledButton})})),(0,s.jsx)(ts.OJ,{title:(0,s.jsx)(e8.Y,{width:"hug-contents",padding:{left:8},children:(0,s.jsx)(A.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.section_title")})}),onClose:()=>{e(w.Lo())},fixedTop:!0,children:i?(0,s.jsx)(e8.Y,{padding:64,children:(0,s.jsx)(p.qc,{testId:tn.spinner})}):(0,s.jsxs)(e8.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:[u,(0,s.jsxs)(e8.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e8.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(A.E,{fontWeight:"medium",children:(0,g.tx)("admin_settings.ai.data_sharing.label")}),(0,s.jsx)(A.E,{color:"secondary",children:(0,g.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:(0,s.jsx)(e6.CY,{href:tt.d.aiDataSharing,target:"_blank",trusted:!0,children:(0,s.jsx)(A.E,{children:(0,g.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e3.d,{label:(0,s.jsx)(s.Fragment,{}),checked:n.isAiDataSharingEnabled,onChange:c,disabled:l,htmlAttributes:{"data-testid":tn.dataSharingEnabledSwitch,"data-tooltip":l?(0,g.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-type":M.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0}})]})]})})},"TEAM_AI_SETTINGS_MODAL");var ti=a(452981),tl=a(234191);let to=(0,eb.Ju)(function(){let e=(0,r.wA)(),t=(0,eA.cD)(),a=(0,f.bc)((0,v.ZY7)({teamId:t})),n=a.data?.team,i=!n,l=n?.plan?.isMcpClientDisabled,o=l?.status==="loaded"&&l.data,d=async a=>{try{await ta.$.updateMcpClientDisabled({teamId:t,mcpClientDisabled:!a});let s=a?(0,g.t)("settings_tab.mcp_connectors_enabled"):(0,g.t)("settings_tab.mcp_connectors_disabled");e(e7.s.flash(s))}catch{e(e7.s.error((0,g.t)("file_browser.file_browser_actions.team_update_error")))}};return(0,s.jsx)(ts.OJ,{title:(0,s.jsx)(e8.Y,{width:"hug-contents",padding:{left:8},children:(0,s.jsx)(A.E,{fontWeight:"medium",children:(0,g.tx)("settings_tab.mcp_connectors_toggle_label")})}),onClose:()=>{e(w.Lo())},fixedTop:!0,children:i?(0,s.jsx)(e8.Y,{padding:64,children:(0,s.jsx)(p.qc,{})}):(0,s.jsx)(e8.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:(0,s.jsxs)(e8.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e8.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(ti.J,{htmlFor:"mcp-client-toggle",children:(0,g.tx)("settings_tab.mcp_connectors_toggle_label")}),(0,s.jsx)(A.E,{color:"secondary",children:(0,g.tx)("settings_tab.mcp_connectors_toggle_description")})]}),(0,s.jsx)(tl.v,{id:"mcp-client-toggle",checked:!o,onChange:d})]})})})},"TEAM_MCP_CLIENT_SETTINGS_MODAL"),td="settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tc="settings_view--redLink--LDeOm blue_link--blueLink--9rlnd",tu="settings_view--section--jKGaH",tm="settings_view--sectionHeader--BTMnl text--fontPos13--xW8hS text--_fontBase--QdLsd",t_="settings_view--upgradeBanner--RCQfq",tp="settings_view--upgrageBannerIcon--yMYzd",tg="settings_view--upgradeBannerBody--n82sx",th="settings_view--blueLinkForBanner--b0V8l settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tx="settings_view--accessIcon--7RIy3";var tf=a(663128),tb=a(401431),tv=a(442539);function tj(e){let t=(0,r.wA)(),a=(0,eW.DP)(),i=e.team,l=(0,r.d4)(e=>(0,eY.getPermissionsState)(e)),o=i.org_id?l.orgById[i.org_id]:null,[d]=(0,eH.IT)((0,v.vD4)({teamId:e.team.id})),[c]=(0,eq.Ad)(d),u=(0,n.useMemo)(()=>{if("loaded"!==c.status||!c.data.team)return null;let t=c.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[c,e.teamId]),m=c?.data?.team?.plan?.tier,_=(0,n.useMemo)(()=>{if("loaded"!==c.status||!c.data.team||!c.data.team.currentPlanUser)return null;let e=c.data.team.currentPlanUser;return{isProOrStudentTeam:m===b.Ag.PRO||m===b.Ag.STUDENT,isStudentTeam:m===b.Ag.STUDENT,canAdminOrg:!!e&&(0,ez.A8)(e,b.Xn.ADMIN),isOrgGuest:e?.key.type===b.h4.ORG_USER&&e?.permission===b.Xn.GUEST}},[c,m]),p=!_?.isOrgGuest,h=_?.canAdminOrg||u?.canAdmin&&!u?.orgId,x=!!(0,r.d4)(e=>(0,eQ.p)(e)),j=(0,e2.X8)(!!c.data?.team?.canEdit,(0,ez.zQ)(c.data?.team?.plan??null)),y=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,S=!!y&&!y.canceled_at,T=!!E&&!E.canceled_at,C=!u?.orgId&&!_?.isProOrStudentTeam&&u?.canAdmin,R=C&&(0,ek.kc)().bake_mcp_client_starter,k=n.useMemo(()=>{if("loaded"===c.status&&c.data)return c.data.team?.workspace},[c]),O=c.data?.team&&eO.oA(c.data.team)?.hasActiveProjectConnection,q=(0,f.bc)(v.WEk,{teamId:i.id}),L=q.data?.team?.pendingAssetTransferRequest,P=L&&{id:L.id,source_user_email:L.sourceUser?.email,destination_user_email:L.destinationUser?.email,is_transfer_copy:L.isTransferCopy}||void 0,D=(0,f.bc)((0,v.InN)({})),F=(0,eO.oA)(D.data?.personalDraftToPlanDraftLocation),B=F?.planParentId===i.id&&F?.status==="started";if("loaded"!==c.status)return null;let U=()=>{if(!_?.isProOrStudentTeam){t((0,w.to)({type:eL.V,data:{teamId:u?.teamId,upsellSource:eg.b.TEAM_SETTINGS_MODAL,entrypoint:eV.C6.PLAN_COMPARISON_MODAL,openCheckoutInNewTab:!0,onDone:()=>{t(w.ES({type:"TEAM_SETTINGS_MODAL"}))}}}));return}t(eU.Bq({openInNewTab:!0,upsellSource:eg.b.TEAM_SETTINGS_VIEW,entryPoint:(0,e$.c)(eV.C6.PRO_TEAM_SETTINGS_MODAL)}))},G=e=>{t((0,w.to)({type:e1.H,data:{team:i,subscriptionStatus:e}}))},W=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===b.bU.PUBLIC&&"edit"===e.default_permission?b.PQ.ORG_EDIT:e.org_access===b.bU.PUBLIC?b.PQ.ORG_VIEW:void 0:b.PQ.INVITE_ONLY;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("file_browser.team_settings.team_name")}),(0,s.jsx)("div",{children:i.name}),u?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:(0,eB.h)(),data:{team:i}}))},children:(0,g.tx)("file_browser.team_settings.change_name")})})]}),(u?.canAdmin||u?.description)&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("file_browser.about")}),(0,s.jsx)("div",{children:u?.description}),u?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:(0,eD.r)(),data:{team:i}}))},children:u?.description?(0,g.tx)("file_browser.team.change_description"):(0,g.tx)("file_browser.team.add_a_description")})})]})]}),u?.canAdmin&&i.org_access!==b.bU.SECRET&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("file_browser.team_settings_modal.community_profile")}),(0,s.jsx)("div",{children:u?.communityProfileHandle?(0,g.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:u?.communityProfileHandle}):""}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:eZ.S,data:{teamId:u?.teamId,profileId:u?.communityProfileId||"",profileHandle:u?.communityProfileHandle||""}}))},children:u?.communityProfileHandle?(0,g.t)("file_browser.team_settings.change_profile_handle"):(0,g.t)("file_browser.team_settings.set_profile_handle")})}),u?.communityProfileHandle&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{u?.communityProfileId&&u?.communityProfileHandle&&t((0,w.to)({type:e0.M,data:{dispatch:t,profileId:u?.communityProfileId,handle:u?.communityProfileHandle}}))},children:(0,g.tx)("file_browser.team_settings.delete_profile")})}),u?.communityProfileHandle&&u?.orgId&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{u?.communityProfileId&&t((0,w.to)({type:eJ.J,data:{profileId:u?.communityProfileId||"",profileHandle:u?.communityProfileHandle||"",emptyStateText:(0,g.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:u?.communityProfileHandle||""})}}))},children:(0,g.tx)("file_browser.team_settings.manage_restricted_commenters")})})]}),(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:u?.orgId?(0,g.tx)("file_browser.team_settings.shared"):(0,g.tx)("file_browser.team_settings_modal.libraries")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:eX.T,data:{teamId:u?.teamId,entrypoint:eK.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))},children:(0,g.tx)("file_browser.team_settings.view_team_libraries")})}),x&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:eX.lN,data:{entrypoint:eK.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))},children:(0,g.tx)("file_browser.team_settings.view_team_fonts")})}),j&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:e5.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings",theme:"dark"===a?"dark":"light"}}))},children:(0,g.tx)("file_browser.team_settings.view_team_figjam_palettes")})})]}),u?.orgId!=null&&i.org_access&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("file_browser.settings.access")}),(0,s.jsxs)("div",{children:[(()=>{let e=W(i),t=(0,s.jsx)(I.B,{className:tx,svg:tb.A});return(e===b.PQ.ORG_EDIT||e===b.PQ.ORG_VIEW)&&o?t=(0,s.jsx)("div",{className:tx,children:(0,s.jsx)(I.B,{svg:tv.A})}):(e===b.PQ.WORKSPACE_EDIT||e===b.PQ.WORKSPACE_VIEW)&&(t=(0,s.jsx)("div",{className:tx,children:(0,s.jsx)(eR.t,{})})),(0,s.jsxs)("div",{className:"settings_view--accessDescription--qxQcN",children:[t,(0,s.jsx)("div",{children:(0,e9.wO)(b.vt.TEAM,o,k||null,e)})]})})(),u?.canAdmin&&o&&(0,s.jsx)("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HOsAC modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,w.to)({type:e4.dW,data:{team:i,goBack:()=>{t((0,w.Lo)())}}}))},children:(0,g.tx)("team_view.team_permissions_modal.change")})]}),!u?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)(A.E,{color:"secondary",children:(0,g.tx)("file_browser.team_settings.team_admins_and_owners_can_change")})})]}),R&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("settings_tab.mcp_connectors_toggle_label")}),(0,s.jsx)("div",{children:(0,g.tx)("admin_settings.mcp_client.manage_settings_description")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:to}))},children:(0,g.tx)("admin_settings.mcp_client.manage_settings_link")})})]}),C&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("admin_settings.ai.section_title")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:tr}))},children:(0,g.tx)("admin_settings.ai.manage_settings_link")})})]}),_?.isProOrStudentTeam&&!_?.isStudentTeam&&u?.canAdmin&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("settings_table.plan_and_billing")}),(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")}),(0,s.jsx)("button",{className:td,onClick:()=>{t(N.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:ef.Iv.BILLING})),t((0,w.Lo)())},children:(0,g.tx)("file_browser.team_settings_modal.admin_console_billing_button")})]}),p&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("file_browser.team_settings.transfer")}),(0,s.jsxs)("div",{children:[P&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:P.source_user_email,destinationUserEmail:P.destination_user_email})}),h&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tc,onClick:()=>{P&&t(w.to({type:(0,eF.d)(),data:{pending:P,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))},children:(0,g.tx)("file_browser.folder_settings.revoke")})})]}),!P&&h&&(O?(0,g.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,g.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:(0,s.jsx)(ew.$n,{variant:"link",onClick:()=>{t((0,w.to)({type:(0,eM.Lg)(),data:{teamId:i.id,entryPoint:eM.Lq.ORG_TEAM_SETTINGS}}))},disabled:B,htmlAttributes:{"data-tooltip":B?(0,g.t)("file_browser.drafts_to_move.we_re_migrating_some_files_right_now_try_again_in_a_few_minutes"):void 0,"data-tooltip-type":M.Ib.TEXT,"data-tooltip-max-width":B?200:void 0},children:(0,g.tx)("file_browser.team_settings.transfer_team")})})),!P&&!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,g.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:o?.name})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,w.to)({type:(0,eP.Y)(),data:{planId:i.org_id||i.id,planType:i.org_id?b.OL.ORG:b.OL.TEAM,planName:i.name,entryPoint:eM.Lq.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:i.id}}))},children:(0,g.tx)("file_browser.team_settings.see_who_can_help_with_transfers")})})]})]})]}),!_?.isProOrStudentTeam&&!u?.orgId&&u?.canAdmin&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,g.tx)("team_view.settings_table.delete_team")}),(0,s.jsx)("div",{children:(0,g.tx)("team_view.settings_table.delete_team_description")}),(0,s.jsx)("div",{children:(0,s.jsx)(eC.E,{className:B?"settings_view--greyedOutLink--u0K7r blue_link--blueLink--9rlnd":tc,onClick:()=>G(S||T),disabled:B,htmlAttributes:{"data-tooltip":B?(0,g.t)("file_browser.drafts_to_move.we_re_migrating_some_files_right_now_try_again_in_a_few_minutes"):void 0,"data-tooltip-type":M.Ib.TEXT,"data-tooltip-max-width":B?200:void 0},children:(0,g.tx)("file_browser.team_settings.delete_team")})})]}),(0,s.jsxs)("div",{className:t_,children:[(0,s.jsx)(I.B,{className:tp,svg:tf.A}),(0,s.jsxs)("div",{className:tg,children:[(0,s.jsx)("strong",{children:(0,g.tx)("upgrade.ready_to_go_beyond_free_plan")}),(0,s.jsxs)("div",{children:[(0,g.tx)("upgrade.more_features"),(0,s.jsx)(em.$z,{className:th,onClick:U,trackingProperties:{trackingDescriptor:eG.c.UPGRADE,upsellSource:eg.b.TEAM_SETTINGS_MODAL},children:(0,g.tx)("upgrade.view_plans")})]})]})]})]}),_?.isProOrStudentTeam&&u?.canAdmin&&(0,s.jsxs)("div",{className:t_,children:[(0,s.jsx)(I.B,{className:tp,svg:tf.A}),(0,s.jsx)("div",{className:tg,children:(0,s.jsxs)("div",{children:[(0,g.tx)("file_browser.team_settings_modal.upgrade_to_organization"),(0,s.jsx)(em.$z,{className:th,onClick:U,trackingProperties:{trackingDescriptor:eG.c.UPGRADE_TO_ORGANIZATION,upsellSource:eg.b.TEAM_SETTINGS_MODAL},children:(0,g.tx)("file_browser.team_settings_modal.upgrade")})]})})]})]})}var ty=a(783902);let tE=(0,eS.rw)();var tS=(e=>(e.SETTINGS="SETTINGS",e.MEMBERS="MEMBERS",e))(tS||{});let tT=(0,ec.nF)(async(e,{teamId:t,canViewTeam:a})=>{await eh.kb.promise,t&&a&&(0,ep.xN)(t,e)});function tI(e){let t={MEMBERS:(0,g.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,g.t)("file_browser.team_settings_modal.settings_tab")},a=n.useRef(null),{setToolbarWidth:r}=e;n.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&r(e)}},[r]);let l=e.team.org_id,o=l?[(0,s.jsx)("div",{className:"team_settings_modal--settingsHeader--tGppe",children:t.SETTINGS},"SETTINGS")]:(0,i.WI)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return(0,s.jsx)(tE,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,onClick:()=>e.setTab(t),children:a},t)}));return e.isMobile?(0,s.jsx)(ey,{tabs:o,dispatch:e.dispatch,width:"100vw"}):(0,s.jsxs)("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--oecTk",style:{minWidth:e.contentWidth},ref:a,children:[(0,s.jsx)(eE.i,{containerClassName:`${l?"team_settings_modal--toolBarSettingsOnly--281il team_settings_modal--toolBarContainer--O-2hM":"team_settings_modal--toolBarContainerFullWidth--XliLu team_settings_modal--toolBarContainer--O-2hM"} team_settings_modal--borderRadius--NeGkl`,tabs:o}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,className:l?"team_settings_modal--settingsOnlyCloseButton--r1V-e":"team_settings_modal--settingsCloseButton--nkdXd",onClose:()=>tw(e.dispatch,e.team,e.viewOnClose)})]})}let tA="TEAM_SETTINGS_MODAL";function tN({onRetry:e}){let t=(0,_.Hb)();return(0,s.jsxs)(l.$y,{variant:"warn",children:[(0,s.jsx)(o.Q,{title:(0,g.t)("general.root_error_boundary_title"),children:t.error?.message}),(0,s.jsx)(d.$,{onClick:e,children:(0,g.t)("auth.try_again")})]})}let tw=(e,t,a)=>{e(N.sf(a))},tC=(0,eb.Ju)(function(e){let t=(0,r.wA)(),a=n.useRef(null),[i,l]=n.useState(-1),o=e_.h.useTrackingContext({trigger:eg.b.TEAM_SETTINGS_MODAL}),{canAdmin:d,canEdit:u,canView:_,entryView:g}=e,x=e.teamSettingsProps,f=(0,r.d4)(e=>e.teams[x.team.id]),b=(0,r.d4)(e=>e.avatarEditorState);if(n.useEffect(()=>{t(eu.um())},[t]),n.useEffect(()=>{f&&t(tT({teamId:f.id,canViewTeam:_??!1}))},[_,t,f]),!f)return null;let v=c.rr,j=v?window.innerWidth:Math.min(.7*window.innerWidth,650),y=v?window.innerWidth:Math.max(j,i),E=d?(0,s.jsx)(ev.FL,{entity:f,entityType:ex.ck.TEAM,avatarEditorState:b,size:80,dispatch:t,avatarSvg:ty.A,svgSizeRatio:.6}):(0,s.jsx)(h.nl,{team:f,size:80,avatarSvg:ty.A,svgSizeRatio:.6});return(0,s.jsx)(em.fu,{name:"Team Settings Modal",properties:{teamId:f.id,...o},children:(0,s.jsxs)(ej.d_,{popStack:!0,size:y,height:v?window.innerHeight:.8*window.innerHeight,className:v?"team_settings_modal--fullScreenModal--tXKWs team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--G-piu team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",modalRef:a,onHide:()=>tw(t,f,g),children:[(0,s.jsx)(tI,{selectedTab:e.tab,setTab:e=>{t(w.hm({type:tA,data:{tab:e,canAdmin:d,canEdit:u,canView:_,teamSettingsProps:x,entryView:g}}));let s="team"===g.view?{view:"team",teamId:f.id,teamViewTab:"SETTINGS"===e?ef.A$.SETTINGS:ef.A$.MEMBERS}:g;t(N.sf(s));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:v,contentWidth:j,setToolbarWidth:l,team:f,viewOnClose:g,canEditTeam:u??!1}),(0,s.jsxs)("div",{className:"team_settings_modal--modalBody--NruoE",children:[(0,s.jsx)("div",{className:"team_settings_modal--avatarContainer--xDqae",children:E}),"SETTINGS"===e.tab&&(0,s.jsx)(em.fu,{name:"Team Settings",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),children:(0,s.jsx)("div",{className:"team_settings_modal--settingsContainer--rJ9jC",children:(0,s.jsx)(tj,{teamId:x.team.id,team:f,billing:x.billing})})})}),"MEMBERS"===e.tab&&(0,s.jsxs)("div",{className:"team_settings_modal--membersContainer--dci-C",children:[(0,s.jsx)(eN,{team:f,canAdmin:d}),(0,s.jsx)(m.n,{boundaryKey:"members-list",loadingFallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),errorFallback:e=>(0,s.jsx)(tN,{onRetry:e}),children:(0,s.jsx)(eo,{teamId:f.id})})]})]})]})})},tA,eb.ZU.YES)},346536:(e,t,a)=>{a.d(t,{S:()=>c});var s=a(104076),n=a(140490),r=a(192075),i=a(872662),l=a(377026),o=a(450259),d=a(5175);function c(e){return(0,s.jsx)(n.u,{label:"UnavailableView",children:(0,s.jsx)(u,{...e})})}function u(e){let t=(e=>{switch(e){case l.Ft.PROJECT:return(0,r.t)("file_browser.project");case l.Ft.TEAM:return(0,r.t)("file_browser.team");case l.Ft.WORKSPACE:return(0,r.t)("file_browser.workspace");case l.Ft.LICENSE_GROUP:return(0,r.t)("file_browser.billing_group");default:return(0,r.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case l.Ft.PROJECT:return(0,r.t)("file_browser.project_capitalized");case l.Ft.TEAM:return(0,r.t)("file_browser.team_capitalized");case l.Ft.WORKSPACE:return(0,r.t)("file_browser.workspace_capitalized");case l.Ft.LICENSE_GROUP:return(0,r.t)("file_browser.billing_group_capitalized");default:return(0,r.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),n=(0,s.jsxs)("div",{className:"unavailable_view--unavailableViewContainer--GTj3V",children:[(0,s.jsx)("div",{className:"unavailable_view--header---62Pr text--fontPos18--rYXJb text--_fontBase--QdLsd",children:(0,r.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})}),(0,s.jsx)("div",{className:"unavailable_view--detailText--eAn5- text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,r.tx)("file_browser.unavailable_view_text",{resourceNoun:t})}),(0,s.jsx)(o.NuxOnboardingOverlay,{entryPoint:d.C5.FileBrowserUnavailableView})]});return(0,s.jsx)(i.r,{content:n})}},899593:(e,t,a)=>{a.d(t,{q:()=>h,V:()=>x});var s=a(716976),n=a(903927),r=a(448897),i=a(333331),l=a(577357),o=a(192075),d=a(58212),c=a(102497),u=(e=>(e.AdminUpgradeEmail="admin_upgrade_email",e.UnknownDeeplink="unknown_deeplink",e))(u||{}),m=a(847282),_=a(59849),p=a(159836);let g={approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"};async function h(e,t,a){try{let s=await (0,l.Ek)(_.s7T,{requestId:e}),n=(0,i.oA)(s.accountTypeRequest);if(!n){a&&a("notFound"),f(t,(0,o.t)("admin_dashboard.requests.not_found"));return}if("pending"!==n.status){a&&a("alreadyHandled"),t(d.F.enqueue({message:(0,o.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:n?.status==="approved"?"requests-approved":"requests-denied"}));return}return n}catch(e){a&&a("unknownFetchError"),f(t)}}function x(){let e=(0,n.wA)(),[t,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)();(0,s.useEffect)(()=>{async function t(t){let s=await h(t,e);s?l(s):a(!0)}let s=(0,m.QL)(g.approvalRequestId);s&&((0,m.EM)(g.approvalRequestId),t(s))},[e]),(0,s.useEffect)(()=>{async function s(t){let s=(0,m.QL)(g.entryPoint),n=(0,r.K)(u,s||"")??u.UnknownDeeplink,i=(0,r.K)(c.ps,t.planType)||c.ps.TEAM;try{let a=await p.w.approveRequests({plan_id:t.planId,plan_type:i,selection_method:c.Xv.DEEPLINK,included_request_ids:[t.id],entry_point:n});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";b(e,a)}else f(e)}catch(t){f(e)}finally{a(!0),(0,m.EM)(g.entryPoint)}}i&&!t&&s(i)},[i,e,t])}let f=(e,t)=>{e(d.F.enqueue({message:t||(0,o.t)("admin_dashboard.requests.error_generic"),error:!0}))},b=(e,t)=>{let a=t?(0,o.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,o.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(d.F.enqueue({message:a,type:"requests-approved"}))}},65369:(e,t,a)=>{a.d(t,{d:()=>s});let s={aiFeatures:"https://help.figma.com/hc/articles/17725942479127",aiDataSharing:"https://figma.com/ai/our-approach",figmaApproachToAi:"https://figma.com/ai/our-approach"}},557815:(e,t,a)=>{a.d(t,{dr:()=>c,eb:()=>u,oU:()=>m});var s=a(716976),n=a(833805),r=a(59849),i=a(893393),l=a(853039),o=a(502380),d=a(832217);function c(e){let[t]=(0,n.IT)((0,r.GyZ)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.X)(e)),[t])}function u(e){let[t]=(0,n.IT)((0,r.H1b)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.SN)(e)??[]),[t])}function m({teamId:e,teamPermissions:t,initialValue:a}){let n=i.M4.Team.useValue(e).data,r=(0,s.useCallback)(e=>a||(!(0,l.w5)(n)&&e?d.e6.EDITOR:d.e6.VIEWER),[a,n]),[o,c]=(0,s.useState)(()=>r(!!t?.canEdit));return(0,s.useEffect)(()=>{c(r(!!t?.canEdit))},[t?.canEdit,r]),{default:r(!!t?.canEdit),inviteLevel:o,setInviteLevel:c}}},922296:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(716976),n=a(903927);if(443==a.j)var r=a(951002);var i=a(449572),l=a(513369),o=a(192075),d=a(58212);if(443==a.j)var c=a(235854);var u=a(366535),m=a(944350),_=a(59849),p=a(904017);let g=e=>{switch(e){case m.sm.APPROVED:return(0,o.t)("resource_connection.visual_bell.already_approved");case m.sm.DENIED:return(0,o.t)("resource_connection.visual_bell.already_denied");case m.sm.REVOKED:return(0,o.t)("resource_connection.visual_bell.already_revoked");case m.sm.PENDING:return;default:(0,r.xb)(e)}};function h(e){var t;let[a,r]=(0,s.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),o=(0,n.wA)(),h=(0,p.T5)("useOpenResourceConnectionReviewModal").unwrapOr(null),x=(0,i.bc)(_.XPZ,{resourceConnectionInviteId:a},{enabled:!!a}),f=(0,s.useMemo)(()=>{let e=(0,l.oA)(x.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[x]);return(0,s.useCallback)(()=>{if(a&&f&&h&&f?.resourceConnectionInvite.connectingPlanId===h.key.parentId){if(f?.resourceConnectionInvite.status===m.sm.PENDING)o(u.to({type:c.d,data:f}));else{let e=g(f?.resourceConnectionInvite.status);e&&o(d.F.enqueue({message:e}))}r(void 0)}},[f,o,h,a])}},666293:(e,t,a)=>{a.d(t,{Bk:()=>u,Pe:()=>c});var s=a(951002),n=a(638004),r=a(550209),i=a(832217),l=a(943168),o=a(506678);let d=(0,l.x1)(i.rT,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,r.$D)(n.e.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),i=o.W.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:i}}function u(e,t){e.pending&&null===e.userId||((0,r.$D)(n.e.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()])},506678:(e,t,a)=>{a.d(t,{W:()=>n});var s=a(943168);let n=(0,s.uR)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),debug_session_expires_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),experiment_assignments:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),personal_drafts_folder_id:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()]),(0,s.xi)((e,t,a)=>[e()(n),t(n)(),a(n)()])},551553:(e,t,a)=>{a.d(t,{S:()=>r});var s=a(113139),n=a(432099);let r=new class{constructor(){this.AssetTransferSchemaValidator=(0,s.vh)(),this.OrgTeamTransfersSchemaValidator=(0,s.vh)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}deleteAssetTransferRequest(e){return n.Ay.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return n.Ay.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},450259:(e,t,a)=>{a.r(t),a.d(t,{NuxOnboardingOverlay:()=>b});var s=a(104076),n=a(716976),r=a(795033),i=a(653899),l=a(140490),o=a(115033),d=a(422872),c=a(987224),u=a(381059),m=a(174730),_=a(143277),p=a(6449),g=a(155159),h=a(951824),x=a(708729),f=a(441030);function b(e){return(0,s.jsx)(l.u,{label:"NuxOnboardingOverlay",children:(0,s.jsx)(v,{...e})})}function v(e){let t=(0,r.md)(c.eS),a=!!(0,m.f)("not_gen_0"),l=(0,r.md)(u.NT),b=(0,r.md)(u.g5),v=(0,r.md)(x.pC),j=(0,r.md)(u.b3),{show:y,complete:E,isShowing:S}=(0,d.e)({overlay:f.j0N,priority:_.N.HIGH_PRIORITY_MODAL},[l,b,t,j]),T=n.useCallback(()=>{y({canShow:(e,t,a,s)=>!v&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:s}){return a?!s&&!(e&&["student","educator"].includes(e)):!(0,h.d)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:s})})},[y,v]);if((0,i.h)(()=>{T()}),(0,o.Q)(S),!S)return null;let{trackingContextName:I,testId:A}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:a?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,s.jsx)(p.M,{isShowing:S,userFlagOnShow:"welcome_onboarded",testId:A,children:(0,s.jsx)(g.b,{isGen1:a,trackingContextName:I,entryPoint:e.entryPoint,isShowing:S,dismissModal:E})})}},353103:(e,t,a)=>{a.d(t,{F:()=>p,j:()=>x});var s=a(104076),n=a(795033),r=a(653899),i=a(192075),l=a(422872),o=a(235711),d=a(143277),c=a(61102),u=a(909342),m=a(654200),_=a(441030);let p="sc_team_creation_modal_onboarding_key",g="seen_sharing_clarity_team_creation_modal_overlay",h=(0,o.r1)(g);function x(){let e=(0,n.md)(h),{show:t,isShowing:a,complete:o}=(0,l.e)({overlay:_.jkr,priority:d.N.DEFAULT_MODAL},[e]);return(0,r.h)(()=>{t({canShow:e=>!e})}),(0,s.jsx)(c.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,s.jsx)("p",{children:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_description")}),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:o,targetKey:p,title:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_title"),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:g,zIndex:u.R.MODAL})}},867012:(e,t,a)=>{a.d(t,{Uc:()=>ea,MF:()=>et});var s=a(104076),n=a(716976),r=a(903927),i=a(999083),l=a(764843),o=a(302727),d=a(452981),c=a(357961),u=a(812714),m=a(883765),_=a(310725),p=a(449572),g=a(140490),h=a(555013),x=a(679359),f=a(652539),b=a(236631),v=a(192075),j=a(984924),y=a(527173),E=a(366535),S=a(111297),T=a(654765),I=a(554886),A=a(592726),N=a(760437),w=a(39917),C=a(944350),R=a(59849),k=a(754039),O=a(643898),q=a(502380),L=a(904017),M=a(584663),P=a(545032),D=a(832217),F=a(278151),B=a(465452),U=a(959834),G=a(924561),W=a(826160),V=a(353103),$=a(432786),H=a(59670),Y=a(543447),z=a(342958),Q=a(868833);let K="team_creation_modal--sectionHeader--WhxZn text--fontPos11--2LvXf text--_fontBase--QdLsd",X="team_creation_modal--flexRow---ZX7J";var J=a(38542);function Z(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.currentUserOrgId)??"",g=(0,r.d4)(e=>e.orgById)[a],O=(0,A.iZ)(),q=(0,r.d4)(e=>e.orgDomains),[M,U]=n.useState(!0);(0,n.useEffect)(()=>{(0,m.sx)("team_creation_started",{user_id:O?.id??"",org_id:a})},[]),(0,n.useEffect)(()=>{t(y.um())},[t]);let G=(0,p.bc)((0,R.Lqr)({orgId:a})),Y=(0,L.D6)("TeamCreationModal"),Q=(0,L.j_)(Y).unwrapOr(!1),Z=(0,n.useMemo)(()=>{if("loaded"===G.status){let e=G.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,i.KQ)(e,"name"),e}return[]},[G]),ea=(0,n.useMemo)(()=>{if("loaded"===G.status){let e=G.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:P.O}return null},[G]),es=e.workspaceId,en=Z.find(e=>e.id===es),er=en&&en.orgAccess===C.bU.SECRET?C.bU.PRIVATE:C.bU.PUBLIC,ei=en&&en.orgAccess===C.bU.SECRET?H._9.INVITE_ONLY:H._9.ORG,el=(0,n.useMemo)(()=>("loading"!==G.status&&U(!1),"loaded"===G.status)?G.data.currentUser.baseOrgUser:null,[G]),[eo,ed]=n.useState(0),[ec,eu]=n.useState(er);(0,n.useEffect)(()=>{eu(er)},[er]);let em=C.sC.EDIT,[e_,ep]=n.useState(D.e6.EDITOR),[eg,eh]=n.useState(e?.workspaceId??ea),ex=(0,L.S2)(),ef=ex.transform(e=>e.planRecordId).unwrapOr(null),eb=(0,N.y)(ef),ev=(0,w._)(ef),ej=n.useCallback(e=>{let t=Z.find(t=>t.id===e);if(ev&&t)return{id:t.id,name:t.name,canView:t.canView}},[Z,ev]),[ey,eE]=n.useState(ej(eg));(0,n.useEffect)(()=>{eh(e=>e??ea),eE(ej(eg))},[ea,eg,ej]);let eS=(0,r.d4)(e=>e.autocomplete),eT=!!eS.errorMessage,eI=(0,T.Xj)(eS.tokens),[eA,eN]=n.useState(H.J4.VIEW),[ew,eC]=n.useState(F.Fb.ORG_BROWSABLE),[eR,ek]=n.useState(ei);(0,n.useEffect)(()=>{ek(ei)},[ei]);let[eO,eq]=n.useState(""),[eL,eM]=n.useState(""),eP=ex.transform(e=>e.tier===C.Ag.ENTERPRISE).unwrapOr(!1)&&Z.length>0;(Q||ea===P.O)&&Z.length>0&&(Z=Z.concat({id:P.O,name:(0,v.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:C.bU.PUBLIC,imgUrl:null,canView:!0}));let eD=(0,n.useId)(),eF=(0,u.kc)().fpl_textarea_migration?(0,s.jsx)(l.T,{onChange:eM,value:eL,placeholder:(0,v.t)("team_creation.optional"),id:eD}):(0,s.jsx)(h.ks,{className:"team_creation_modal--descriptionInput--cLVf4",type:"textarea",onChange:e=>eM(e.target.value),value:eL,placeholder:(0,v.t)("team_creation.optional"),id:eD}),eB=e=>(0,s.jsx)("div",{className:"team_creation_modal--workspaceIcon--s7G4E",children:e&&e.id!==P.O?(0,s.jsx)(W.z6,{entity:e,size:16}):(0,s.jsx)(f.B,{svg:J.A})}),eU=(0,s.jsxs)(o.Root,{value:eg??P.O,onChange:e=>eh(e??P.O),children:[(0,s.jsx)(o.Trigger,{label:(0,s.jsx)(d.h,{children:(0,v.t)("team_creation.workspace")}),size:"lg",width:"fill",children:(0,s.jsx)("div",{className:"team_creation_modal--workspaceSelectorTrigger--rUsd4",id:"create-team-modal-workspace-selector",children:(0,s.jsxs)("div",{className:X,children:[(0,s.jsx)("div",{children:eB(Z.find(e=>e.id===eg))}),(0,s.jsx)("div",{children:Z.find(e=>e.id===eg)?.name??""})]})})}),(0,s.jsx)(o.Container,{children:Z.map(e=>(0,s.jsx)(o.Option,{value:e.id,children:(0,s.jsxs)("div",{className:X,children:[eB(e),e.name]})},e.id))})]}),eG=(0,n.useId)(),eW=(0,s.jsx)(h.ks,{autoFocus:!0,className:"team_creation_modal--teamNameInputSC--bbcKV","data-testid":"team_creation_modal_title",id:eG,maxLength:F.qg,minLength:1,onChange:e=>eq(e.target.value),placeholder:(0,v.t)("team_creation.writer_s_guild_placeholder"),required:!0,value:eO});function eV(){let{onSubmitReturnToPrevView:a=!0}=e,s=e_??D.e6.EDITOR,n=(0,B.Zw)(eS);t((0,I.KQ)({teamName:eO,orgAccess:ec,workspaceId:eg??void 0,dontRedirect:!a,inviteEmails:n.emails,userGroupIds:eb?n.userGroups:[],defaultPermission:em,description:eL,sharingAudienceControl:et(eR,eA),orgBrowsable:eR===H._9.INVITE_ONLY&&ew===F.Fb.ORG_BROWSABLE,hidden:eR===H._9.INVITE_ONLY&&ew===F.Fb.HIDDEN,inviteLevel:s})),e.afterSubmit&&e.afterSubmit(),t(E.Lo())}function e$(){t(E.Lo()),t(j.cL())}return(0,s.jsx)(S.fu,{name:"Team Creation",children:(0,s.jsx)($.OJ,{title:1===eo?(0,v.t)("team_creation.add_people_to_team_name",{teamName:eO}):(0,v.t)("team_creation.org_modal_title_sc"),onClose:e$,maxWidth:480,children:(0,s.jsxs)("div",{className:b.s.m16.$,children:[0===eo?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Ay,{className:K,htmlFor:eG,children:(0,v.t)("team_creation.name")}),eW,(0,s.jsx)(c.Ay,{className:K,htmlFor:eD,children:(0,v.t)("team_creation.team_description")}),eF,eP&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:K,children:(0,v.t)("team_creation.workspace")}),eU]}),(0,s.jsx)("div",{className:K,children:(0,v.t)("team_creation.who_has_access")}),(0,s.jsx)(V.j,{}),(0,s.jsx)(H.YU,{resourceType:C.vt.TEAM,value:eR,onChange:ek,org:g,audienceAccessLevel:eA,workspace:ey,dataOnboardingKey:V.F}),(0,s.jsx)("div",{className:K,children:(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:eR===H._9.INVITE_ONLY?(0,v.t)("team_creation.visibility"):null}),eR===H._9.INVITE_ONLY?(0,s.jsx)(H.Kd,{selectedDiscoverability:ew,setSelectedDiscoverability:eC}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.Iz,{label:(0,v.t)("team_creation.what_they_can_do"),selectedPermissionsLevel:eA,setSelectedPermissionsLevel:eN}),(0,s.jsx)("div",{className:"team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:eA===H.J4.VIEW?(0,v.t)("team_creation.can_view_and_comment"):(0,v.t)("team_creation.can_create_and_edit_files")})]})]})})]}):M?(0,s.jsx)("div",{className:"team_creation_modal--modalSecondStep--L-6u-",children:(0,s.jsx)("div",{className:"team_creation_modal--loadingState--y80el",children:(0,s.jsx)(x.qc,{})})}):(0,s.jsx)("div",{children:(0,s.jsx)(ee,{permissionLevel:em,currentOrgId:a,currentOrgUser:el,inviteLevel:e_,onInviteLevelChange:ep,planRecordId:ef,userGroupsEnabled:eb,userGroupByIdFromTokens:eI})}),(0,s.jsxs)("div",{className:"team_creation_modal--bottomRow--IWTyZ",children:[(0,s.jsx)("div",{className:"team_creation_modal--footer--EAx7f team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,v.tx)("team_creation.step_number_of_max_steps",{currentStep:eo+1,maxSteps:2})}),(0,s.jsxs)("div",{className:"team_creation_modal--buttons--jSrKt",children:[(0,s.jsx)(h.tM,{onClick:e$,children:(0,v.tx)("project_creation.cancel")}),(0,s.jsx)(h.vd,{onClick:function(){if(0===eo)ed(1);else{let e=g&&g.domain_capture&&q.domains.length>0?(0,B.Zw)(eS).emails.filter(e=>(0,_.xf)(e)&&!(0,k.H_)(q.domains,e)):[];e.length>0?function(e){if(g?.invite_whitelist_guest_invite_setting==null&&e.length>0){t(E.to({type:z.F,data:{emails:e,onConfirm:()=>{eV()},popStack:!0,orgName:g.name}}));return}}(e):eV()}},disabled:0===eo&&0===eO.trim().length||1===eo&&eT,children:0===eo?(0,v.tx)("general.continue"):(0,v.tx)("team_creation.create_team")})]})]})]})})})}function ee(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.contacts),n=(0,r.d4)(e=>e.orgDomains),i=(0,r.d4)(e=>e.orgById),l=(0,r.d4)(e=>e.dropdownShown),o=(0,r.d4)(e=>e.autocomplete),d=(0,A.iZ)(),c=e.currentOrgId?i[e.currentOrgId]:null,m=(0,Q.uv)(c||null),_=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,q.t9)(t,a,n)},p=e=>{let t=(0,u.kc)().team_creation_restricted_guests_err_ui&&c?.invite_whitelist_guest_invite_setting!=null;return(0,q.yI)(e,a.usersByEmail[e]||e,c,n,d.email,t?(0,v.t)("team_creation.restricted_against_adding_external_users"):null)},g=[D.e6.ADMIN,D.e6.EDITOR,D.e6.VIEWER],h=t=>(0,M.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),x=t=>(0,M._N)(t,a.usersByEmail,d,[],e.planRecordId,{inviteLevel:e.inviteLevel,source:"team-invite-bar"},{resourceType:C.vt.TEAM,resourceIdOrKey:void 0});return e.inviteLevel&&e.onInviteLevelChange?(0,s.jsx)(G.e,{SearchResultComponent:e.userGroupsEnabled?Y.VO:Y.o6,TokenComponent:e.userGroupsEnabled?Y.Vh:Y.gy,autocomplete:o,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:l,getSearchResults:e.userGroupsEnabled?x:h,getSelectText:O.C1,getTokenIdentifier:Y.BJ,getTokenPopover:e.userGroupsEnabled?t=>(0,Y.pU)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:g,placeholderText:e.userGroupsEnabled?(0,v.t)("user_groups.add_emails_names_or_user_groups"):(0,v.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?Y.qq:void 0,searchResultToken:e.userGroupsEnabled?m:_,shouldAutoFocus:!0,validateToken:p,validateTokensAsEmail:!0}):(0,s.jsx)(G.e,{SearchResultComponent:e.userGroupsEnabled?Y.VO:Y.o6,TokenComponent:e.userGroupsEnabled?Y.Vh:Y.gy,autocomplete:o,dispatch:t,dropdownShown:l,getSearchResults:e.userGroupsEnabled?x:h,getTokenIdentifier:Y.BJ,getTokenPopover:e.userGroupsEnabled?t=>(0,Y.pU)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.permissionLevel,joinLinkShown:!1,placeholderText:e.userGroupsEnabled?(0,v.t)("user_groups.add_emails_names_or_user_groups"):(0,v.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?Y.qq:void 0,searchResultToken:e.userGroupsEnabled?m:_,shouldAutoFocus:!0,validateToken:p})}function et(e,t){return e===H._9.ORG?t===H.J4.EDIT?C.PQ.ORG_EDIT:C.PQ.ORG_VIEW:e===H._9.WORKSPACE?t===H.J4.EDIT?C.PQ.WORKSPACE_EDIT:C.PQ.WORKSPACE_VIEW:C.PQ.INVITE_ONLY}let ea=(0,U.Ju)(function(e){return(0,s.jsx)(g.u,{label:"TeamCreationModal",children:(0,s.jsx)(Z,{...e})})},"TEAM_CREATION_MODAL",U.ZU.YES)},965602:(e,t,a)=>{a.d(t,{dW:()=>w,nH:()=>C});var s=a(104076),n=a(716976),r=a(903927),i=a(268389),l=a(929302),o=a(950187),d=a(812714),c=a(140490),u=a(555013),m=a(679359),_=a(192075),p=a(984924),g=a(366535),h=a(111297),x=a(554886),f=a(557815),b=a(39917),v=a(944350),j=a(904017),y=a(278151),E=a(959834),S=a(867012),T=a(59670),I=a(910708),A=a(293025);function N(e){let t=(0,r.wA)(),a=(0,f.dr)(e.team.id).data,n=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,canView:a.workspace.canView}:void 0,d=()=>{t(g.Ce()),t(p.cL())},c=l.hS({...e,onClose:d});return(0,s.jsx)(h.fu,{name:"Team Access Modal",properties:{resourceType:v.vt.TEAM,resourceId:e.team.id},children:(0,s.jsx)(o.bL,{manager:c,width:"lg",children:(0,s.jsxs)(i.vo,{children:[(0,s.jsx)(i.Y9,{children:e.goBack?(0,s.jsx)(I.w,{title:(0,_.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):(0,s.jsx)(i.hE,{children:(0,_.tx)("team_view.team_permissions_modal.access_settings")})}),(0,s.jsx)(i.nB,{children:a?a.org&&(0,s.jsx)(C,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:d,workspace:n}):(0,s.jsx)(m.qc,{className:A.Lq})})]})})})}let w=(0,E.Ju)(function(e){return(0,s.jsx)(c.u,{label:"TeamAccessModal",children:(0,s.jsx)(N,{...e})})},"TeamAccessModal");function C(e){let t=(0,j.S2)().transform(e=>e.planRecordId).unwrapOr(null),a=(0,b._)(t),i=(0,r.wA)(),l=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===v.PQ.ORG_EDIT||t===v.PQ.ORG_VIEW?T._9.ORG:t===v.PQ.WORKSPACE_EDIT||t===v.PQ.WORKSPACE_VIEW?T._9.WORKSPACE:T._9.INVITE_ONLY},[e.teamSharingSettings]),o=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return y.Fb.HIDDEN;return y.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),c=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===v.PQ.ORG_EDIT||t===v.PQ.WORKSPACE_EDIT?T.J4.EDIT:(t===v.PQ.ORG_VIEW||v.PQ.WORKSPACE_VIEW,T.J4.VIEW)},[e.teamSharingSettings]),[m,p]=n.useState(l()),[g,h]=n.useState(o()),[f,E]=n.useState(c()),I=m===T._9.INVITE_ONLY?g&&(0,s.jsx)("div",{className:(0,d.kc)().audience_selector_fpl_radio?"":A.$2,children:(0,s.jsx)(T.Kd,{selectedDiscoverability:g,setSelectedDiscoverability:h})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.Iz,{selectedPermissionsLevel:f,setSelectedPermissionsLevel:E}),(0,s.jsx)("div",{className:A.VA,children:f===T.J4.VIEW?(0,_.t)("team_creation.can_view_and_comment"):(0,_.t)("team_creation.can_create_and_edit_files")})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:A.bV,children:(0,_.t)("team_creation.who_has_access")}),(0,s.jsx)(T.YU,{resourceType:v.vt.TEAM,value:m,onChange:p,org:e.org,audienceAccessLevel:f,workspace:a?e.workspace:void 0}),(0,s.jsx)("div",{className:A.bV,children:m===T._9.INVITE_ONLY?(0,_.t)("team_creation.visibility"):(0,_.t)("team_creation.what_they_can_do")}),I,(0,s.jsxs)("div",{className:A.E_,children:[(0,s.jsx)(u.tM,{onClick:e.goBack||e.hideModal,children:(0,_.tx)("project_creation.cancel")}),(0,s.jsx)(u.vd,{onClick:()=>{let t=m===T._9.INVITE_ONLY&&g===y.Fb.ORG_BROWSABLE,a=m===T._9.INVITE_ONLY&&g===y.Fb.HIDDEN,s=(0,S.MF)(m,f);if(i((0,x.zK)({team:e.team,sharingAudienceControl:s,orgBrowsable:t,hidden:a})),e.goBack){e.goBack();return}e.hideModal()},children:(0,_.tx)("team_view.team_permissions_modal.save")})]})]})}},628188:(e,t,a)=>{a.d(t,{Ig:()=>r,J9:()=>c,Pp:()=>d,XL:()=>u,nH:()=>n,pu:()=>s,td:()=>l,ug:()=>i,zH:()=>o});var s=(e=>(e.NAME_SELF="Name Step",e.HOW_DO_YOU_PLAN_TO_USE_FIGMA="How do you plan to use Figma Step",e.WHAT_DO_YOU_DO="What Do You Do Step",e.WHAT_DO_YOU_DO_V2="What Do You Do Role Step",e.WHERE_OR_HOW_DO_YOU_WORK="Where Or How Do You Work Step",e.WHAT_TYPE_OR_LEVEL_OF_SCHOOL="What Type Or Level Of School Step",e.HOW_MANY_PEOPLE_WORK_IN_ORGANIZATION="How Many People Work At Your Organization Step",e.INVITE_COLLABORATORS="Invite Collaborators Step",e.HAVE_USED_WHITEBOARDS_BEFORE="Have You Used Digital Whiteboarding Tools Before Step",e.HAVE_USED_FIGMA_PRODUCTS_BEFORE="Have You Used Figma Products Before Step",e.CHOOSE_PLAN="Choose Plan Step",e.CHOOSE_PRODUCT="Choose Product Step",e.WHAT_DO_YOU_WANT_TO_MAKE_FIRST="What Do You Want To Make First Step",e.WHICH_SEAT_WOULD_YOU_LIKE="Which Seat Would You Like Step",e))(s||{});let n=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Figma Products Before Step","Choose Plan Step","Choose Product Step"],r=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Digital Whiteboarding Tools Before Step","Choose Plan Step"],i=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step"],l=n.filter(e=>"Choose Product Step"!==e),o=n.filter(e=>"Choose Plan Step"!==e),d=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],c=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],u=["What Do You Do Step"]},797196:(e,t,a)=>{a.d(t,{c:()=>g});var s=a(104076),n=a(716976),r=a(903927),i=a(929302),l=a(950187),o=a(268389),d=a(293422),c=a(221586),u=a(555013),m=a(192075),_=a(171660),p=a(366535);function g(e){let t=(0,r.wA)();return(0,s.jsx)(h,{...e,open:!0,onClose:()=>t(p.Lo())})}function h(e){let{title:t,subtitle:a,initialName:g,maxLength:h,onRename:x,placeholder:f,submitText:b,allowEmptyString:v}=e,j=(0,r.wA)(),[y,E]=n.useState(g),S=t??(0,m.t)("resource_rename_modal.title",{initialName:g}),T=i.hS({open:e.open,onClose:e.onClose}),I=()=>{j(p.Lo())},A=()=>!v&&""===y.trim()||y.trim()===g.trim(),N=()=>{A()||(x(y),I())};return(0,s.jsx)(l.bL,{manager:T,width:"md",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:S})}),(0,s.jsxs)(o.nB,{scrolling:"manual",children:[a,(0,s.jsx)(u.ks,{autoFocus:!0,className:"resource_rename_modal--input--lUTNz",maxLength:h,placeholder:f,onChange:e=>E(e.currentTarget.value),value:y,onKeyDown:e=>{e.keyCode===c.Uz.ENTER&&(e.preventDefault(),N())}}),h&&(0,s.jsx)("div",{className:"resource_rename_modal--lengthCount--n2dbN",children:(0,s.jsx)(_.E,{color:"secondary",children:(0,m.tx)("resource_rename_modal.lengthCount",{currentLength:y.length,maxLength:h})})})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(d.$n,{onClick:I,variant:"secondary",children:(0,m.tx)("resource_rename_modal.cancel")}),(0,s.jsx)(d.$n,{variant:"primary",disabled:A(),onClick:N,children:b})]})})]})})}},741563:(e,t,a)=>{a.d(t,{VU:()=>g,cd:()=>u,jT:()=>p,zx:()=>m});var s=a(104076);if(443==a.j)var n=a(307829);if(443==a.j)var r=a(853943);var i=a(527494),l=a(352630),o=a(192075),d=a(244205),c=a(939946);function u({children:e}){return(0,s.jsx)("div",{className:c.Hv,children:e})}function m({dataOnboardingKey:e,children:t}){let{getTriggerProps:a,manager:i}=n.b(),{isOpen:u}=i;return(0,s.jsxs)(n.bL,{manager:i,"data-testid":"multi-select-list-menu",children:[(0,s.jsx)("div",{className:u?void 0:c.Ib,children:(0,s.jsx)(l.Me,{...a(),"aria-label":(0,o.t)("multi_select_list.more"),"data-testid":"multi-select-list-menu-cell-icon","data-onboarding-key":e,trackingProperties:{trackingDescriptor:d.c.MORE},children:(0,s.jsx)(r.J,{})})}),(0,s.jsx)(n.mc,{children:t})]})}function _({children:e}){return(0,s.jsx)("div",{className:c.oi,"data-testid":"multi-select-list-icon-column",children:e})}function p(){return(0,s.jsx)(l.Me,{"aria-label":(0,o.t)("multi_select_list.manage"),trackingProperties:{trackingDescriptor:d.c.MANAGE},children:(0,s.jsx)(i.a,{})})}let g={name:"chevron-right",className:c.oi,cellComponent:(e,{isClickable:t})=>(0,s.jsx)(_,{children:t?(0,s.jsx)(p,{}):null})}},566769:(e,t,a)=>{a.d(t,{EK:()=>f,Fd:()=>x,aN:()=>h,wT:()=>m});var s=a(812714),n=a(795033),r=a(380494),i=a(598574),l=a(140948),o=a(325306),d=a(562311),c=a(237494);let u=(0,l.bt)(e=>{if("loaded"!==e.orgTeams.status)return r.Qw.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return r.Qw.loaded(t)}),m=(0,n.yu)(u,({target:e})=>{let t=e.getStore();return(!t.getState().orgTeams.status||(0,s.kc)().fb_org_teams_refetch)&&t.dispatch(i.Jt({})),()=>{t.dispatch(i.MT())}}),_=(0,l.bt)(e=>(0,d.getPermissionsStateMemoized)(e)),p=(0,n.eU)(e=>{let t=e(m),a=e(_);return t.transform(e=>e.filter(e=>(0,o.ox)(e,a)))}),g=(0,n.eU)(e=>e(p).transform(e=>(0,c.ZM)(e))),h=(0,n.Iz)(e=>(0,n.eU)(t=>t(g).transform(t=>t[e]??0))),x=(0,n.eU)(e=>e(p).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),f=(0,n.yu)(u,({target:e})=>{let t=e.getStore();return(!t.getState().orgTeams.status||(0,s.kc)().fb_org_teams_refetch)&&t.dispatch(i.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(i.MT())}})},977843:(e,t,a)=>{a.d(t,{u:()=>o});var s=a(104076),n=a(142914),r=a(349311),i=a(428886);let l=n.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return(0,s.jsxs)("div",{className:"avatars_pile--viewersList--nxwgy",children:[e.totalNum-t.length>0&&(0,s.jsx)("div",{className:"avatars_pile--horizontalPileNumber--6h3zK avatars_pile--baseNumber--Qqq-z","data-tooltip-type":r.Ib.TEXT,"data-tooltip":o,children:e.totalNum-t.length}),t.reverse().map(t=>(0,s.jsx)("div",{className:"avatars_pile--avatar--6RPYa",children:(0,s.jsx)(i.WB,{user:t,children:(0,s.jsx)(n.H8,{user:t,size:e.avatarSize?e.avatarSize:l})})},t.id))]})}}}]);

//# debugId=c6092956-5547-5d69-a4c2-9bcf5042acb4

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/b1a1e96d2d8404917d8dbbc673a4fa365685abd2/8234-c8d6694a3457ef8c.min.js.map
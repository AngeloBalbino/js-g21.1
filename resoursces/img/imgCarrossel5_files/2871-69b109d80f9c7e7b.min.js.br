"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="514488e5-2242-53de-8bb6-2a81a027d653")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[2871],{42982:(e,t,i)=>{i.d(t,{DD:()=>l,E7:()=>p,If:()=>d,Jp:()=>w,M1:()=>m,N1:()=>r,NG:()=>f,OQ:()=>N,QY:()=>v,VB:()=>h,X7:()=>c,Xd:()=>T,YO:()=>s,Z0:()=>b,dD:()=>g,eO:()=>u,gi:()=>n,h_:()=>k,kO:()=>C,lp:()=>_,nV:()=>o,qY:()=>I,tF:()=>a,y_:()=>y,yq:()=>j,zu:()=>E});let s="basic_resource_header--mobileAttributionLine--SVYDo basic_resource_header--attributionLine--3-ssm text--fontPos13--xW8hS text--_fontBase--QdLsd",n="basic_resource_header--attributionCreator--rV-9C",r="basic_resource_header--headerContainer--YYSPX",o="basic_resource_header--headerContainerTwoColumn--AOpdQ basic_resource_header--headerContainer--YYSPX",a="basic_resource_header--authors--1PIBq text--fontPos13--xW8hS text--_fontBase--QdLsd",l="basic_resource_header--title--9jW4i text--fontPos24--YppUD text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",c="basic_resource_header--title_badge_container--vH8BZ",d="basic_resource_header--bulletSeparator--OGYaL text--fontPos10--s1PI5 text--_fontBase--QdLsd",u="basic_resource_header--stickyTitle--oG0u0 ellipsis--ellipsis--Tjyfa text--fontPos18--rYXJb text--_fontBase--QdLsd",m="basic_resource_header--stats--U1D-b text--fontPos13--xW8hS text--_fontBase--QdLsd",_="basic_resource_header--numberOfUsers--oWoBg",p="basic_resource_header--ctaDisabledMessage--gQwiG",h="basic_resource_header--mobileResourcePageHeaderMaxWidth--McUl4 basic_resource_header--resourcePageHeaderMaxWidth--ym-5U",v="basic_resource_header--mobileResourcePageHeaderSticky--k2EHs basic_resource_header--mobileResourcePageHeader--EgM2G",f="basic_resource_header--mobileResourceNameHeader--oN4qX text--fontPos24--YppUD text--_fontBase--QdLsd",y="basic_resource_header--mobileName--5NvYd",g="basic_resource_header--anchorLinkContainer--UaF3S",b="basic_resource_header--resourcePageHeaderMobile--pJLU0 basic_resource_header--mobileResourcePageHeader--EgM2G",j="basic_resource_header--resourcePageHeaderSticky--z2Rga",w="basic_resource_header--resourcePageHeaderStickyContainer--XiXE-",T="basic_resource_header--headerStickyLeftSide--OkZLQ",I="basic_resource_header--anchorLink--r0iNn meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",C="basic_resource_header--activeAnchorLink--3ueWI meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",N="basic_resource_header--ctaContainer--k8wqG",E="basic_resource_header--leftSide--MzgPN",k="basic_resource_header--description--718b9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},417286:(e,t,i)=>{i.d(t,{GJ:()=>s,Wc:()=>o,X7:()=>r,d6:()=>l,dC:()=>u,gz:()=>d,kJ:()=>n,l0:()=>c,vf:()=>a});let s="plugin_try_button--pluginRowButton--j0-Zs plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="plugin_try_button--pluginRowButtonFigJam--b2eAZ plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",r="plugin_try_button--pluginButtonContainer--9aQtq plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="plugin_try_button--notApprovedButtonContainer--CPDJQ plugin_try_button--pluginButtonContainer--9aQtq plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",a="plugin_try_button--approvedButtonContainer--iP-YF plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",l="plugin_try_button--simpleApproveButton_textContainer--jWboW",c="plugin_try_button--simpleTryButton_textContainer--1TH9G",d="plugin_try_button--tryButtonInRedesignedPluginRow--UeyyK text--fontPos11--2LvXf text--_fontBase--QdLsd",u="plugin_try_button--textContainerInRedesignedPluginRow--WZ1--"},905782:(e,t,i)=>{i.d(t,{BE:()=>o,CS:()=>h,MW:()=>a,Vj:()=>v,X$:()=>l,Zc:()=>_,bU:()=>p,fj:()=>m,iS:()=>d,k9:()=>f,lt:()=>s,oj:()=>c,ok:()=>r,p9:()=>y,sB:()=>g,zt:()=>u,zu:()=>n});let s="meta_container--metaContainer--kaSwh",n="meta_container--leftSide--KSlX8",r="meta_container--rightSide--FQNL-",o="meta_container--tabbedMetaContainer--DJyPv meta_container--metaContainer--kaSwh",a="meta_container--metaTabContainer--lvUtb",l="meta_container--metaContainerFlatDivider--tFdfc",c="meta_container--metaContainerDivider--ZXFZP",d="meta_container--metaContainerDividerSpacer--OW9jB",u="meta_container--mobileMetaContainer--gGQKv",m="meta_container--mobileButtonRowMainCTAContainer--lRJcz",_="meta_container--mobileButtonRow--a-eRc",p="meta_container--mobileButtonRowSmallCTAs--vYy6V",h="meta_container--wideMobileButtonRow--ahIrA",v="meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",f="meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",y="meta_container--metaTabCommentCount--B1a21",g="meta_container--selectedMetaTabCommentCount--lS1BF meta_container--metaTabCommentCount--B1a21"},99526:(e,t,i)=>{i.d(t,{$h:()=>u,D9:()=>l,Ev:()=>o,G:()=>_,OC:()=>d,Rc:()=>c,UH:()=>m,hV:()=>r,jQ:()=>n,tJ:()=>s,tx:()=>a});let s="metadata--metadataContainer--lqQo2 text--fontPos13--xW8hS text--_fontBase--QdLsd",n="metadata--licensing--0Rs3a",r="metadata--flagAsInappropriate--D5SPq",o="metadata--supportInfo--bQ8pM ellipsis--ellipsis--Tjyfa",a="metadata--shareLinkText--IDDPA",l="metadata--creatorPolicyModalContainer--ViWny",c="metadata--creatorPolicyButton---0Cls metadata--shareLinkText--IDDPA",d="metadata--creatorPolicyModalContents--IzL0k",u="metadata--creatorPolicyModalCreatorName--uXQp-",m="metadata--paymentInfoContainer--NiHuJ",_="metadata--infoIcon--LE6OB"},766173:(e,t,i)=>{i.d(t,{Ec:()=>d,G8:()=>u,T9:()=>p,UY:()=>c,Wf:()=>a,aT:()=>h,jp:()=>_,lp:()=>s,mH:()=>r,sp:()=>m,v$:()=>n,xW:()=>l,zn:()=>o});let s="32px",n="12px",r="resource_page_media_carousel--hubFileTileFullInnerImage--kVJwo resource_page_media_carousel--hubFileTileInnerImage--irUS9",o="resource_page_media_carousel--mobileCarousel--G3Nxz",a="resource_page_media_carousel--canvasViewerWrapper--wZlH-",l="resource_page_media_carousel--carouselThumbnailsContainer--YuKP9",c="resource_page_media_carousel--carouselThumbnails--VkVVj",d="resource_page_media_carousel--centeredCarouselThumbnails--20mlm resource_page_media_carousel--carouselThumbnails--VkVVj",u="resource_page_media_carousel--carouselImage--91wRk",m="resource_page_media_carousel--fadeOutMaskLeft--J1Skk resource_page_media_carousel--fadeOutMask--hqP3b",_="resource_page_media_carousel--fadeOutMaskRight--1NzE3 resource_page_media_carousel--fadeOutMask--hqP3b",p="resource_page_media_carousel--carouselArrowLeft--VYt1X resource_page_media_carousel--arrow--5g-tR",h="resource_page_media_carousel--carouselArrowRight--1Dlxa resource_page_media_carousel--arrow--5g-tR"},650653:(e,t,i)=>{i.d(t,{LV:()=>o,e:()=>n,fG:()=>s,sR:()=>a,v8:()=>r});let s="two_column_resource_page--autoLayoutContainer--odI-S",n="two_column_resource_page--leftSideRedesign--W3m0M",r="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",o="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v",a="two_column_resource_page--scrollSentinel--B3rnT"},812318:(e,t,i)=>{i.d(t,{RZ:()=>s,_q:()=>r,zC:()=>n});let s="comment_confirm_modals--reportContentWrapper--Nseo6",n="comment_confirm_modals--reportContentText--QZrcs",r="comment_confirm_modals--blockContentText--6aU5U"},139346:(e,t,i)=>{i.d(t,{_M:()=>l,bv:()=>r,cI:()=>s,nf:()=>n,q3:()=>o,zc:()=>a});let s="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",r="community_hub_banner--boldText--jhtS9",o="community_hub_banner--bannerIcon--GVQKO",a="community_hub_banner--iconContainer--Szb1y",l="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},815991:(e,t,i)=>{i.d(t,{Vi:()=>s,hh:()=>n,jx:()=>c,nu:()=>l,tt:()=>r,uD:()=>a,uw:()=>o});let s="cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="cta_button--figjam--ZRMcS",r="cta_button--duplicateButtonContainerNoIcon--t9Vxs cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="cta_button--duplicateButtonContainerNoIconWide--KYJ2x",a="cta_button--textIconContainer--wV-ch",l="cta_button--duplicateButtonContainerNoIconDisabled--IPh2F cta_button--duplicateButtonContainerDisabled--IzZn7 cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",c="cta_button--ctaButtonLink--5C3KX"},966321:(e,t,i)=>{i.d(t,{BE:()=>n,LL:()=>o,Xk:()=>r,_1:()=>a,uu:()=>s});let s="detail_view--installButton--IloIX",n="detail_view--installButtonSubtext--iqsQz text--fontPos11--2LvXf text--_fontBase--QdLsd",r="detail_view--pendingInviteBanner--Jfy7s text--fontPos13--xW8hS text--_fontBase--QdLsd",o="detail_view--pendingInviteButton--XYgKx",a="detail_view--paidResourceSection--crSbo detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},633336:(e,t,i)=>{let s;i.d(t,{W:()=>o});var n=i(797874),r=i(959834);function o(){return s??=(0,r.Ju)(n.A.createLazyComponent(()=>Promise.all([i.e(9510),i.e(6189),i.e(5928),i.e(2554),i.e(5174),i.e(8324),i.e(7384),i.e(8046),i.e(8234),i.e(81),i.e(4334),i.e(6048)]).then(i.bind(i,665747)).then(e=>e.ExtensionAllowlistModal),(0,r.Ij)("ExtensionAllowlistModal")))}},254663:(e,t,i)=>{i.d(t,{s:()=>u});var s=i(104076),n=i(755444),r=i(769109),o=i(192075),a=i(366535),l=i(210954),c=i(959834),d=i(354174);let u=(0,c.Ju)(function(e){let t=(0,o.t)("rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"),i=(0,o.t)("community.collections.head_to_desktop"),c=(0,n.ck)("f95cfc857cdc5c164958966add0665b69673667c");return e.editorType===l.LE.SLIDES&&(t=(0,o.t)("rcs.redirect_from_mobile_to_desktop.head_to_slides_on_desktop"),i=(0,o.t)("community.collections.head_to_desktop_slides"),c=(0,n.ck)("d5fbdadc97f3d94063357e9819c314ade9055df3")),(0,s.jsxs)(d.d_,{className:"head_to_desktop_modal--modalContainer--BRiSA",children:[(0,s.jsx)(r.s_,{dispatch:e.dispatch}),(0,s.jsx)("img",{width:"100%",alt:i,src:c}),(0,s.jsxs)("div",{className:"head_to_desktop_modal--modalBody--n9Et8 text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:[(0,s.jsx)("h1",{className:"head_to_desktop_modal--title--kJAKG text--fontPos18--rYXJb text--_fontBase--QdLsd",children:t}),(0,s.jsx)("p",{children:i}),(0,s.jsx)("button",{className:"head_to_desktop_modal--gotIt--StOau",onClick:()=>{e.dispatch(a.Ce())},children:(0,o.tx)("general.got_it")})]})]})}," HeadToDesktopModal")},963798:(e,t,i)=>{i.d(t,{X:()=>eO});var s=i(104076),n=i(903927),r=i(222195),o=i(572857),a=i(536530),l=i(592726),c=i(716976),d=i(293422),u=i(812714),m=i(883765),_=i(967053),p=i(679359);function h(e){let t=c.useRef(null),{onScrollToBottom:i}=e;return c.useEffect(()=>{let e=()=>{window.innerHeight<(t.current?.getBoundingClientRect().bottom||1/0)||i()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[i]),(0,s.jsxs)("div",{ref:t,children:[e.children,e.showLoader&&(0,s.jsx)("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8",children:(0,s.jsx)(p.kt,{})})]})}function v(e){let{onScrollToBottom:t,children:i,showLoader:n}=e;return(0,s.jsx)(h,{onScrollToBottom:t,children:i,showLoader:n})}v.displayName="WithInfiniteScroll";var f=i(101880),y=i(280350),g=i(192075),b=i(298745),j=i(596224),w=i(132139),T=i(130689),I=i(845945),C=i(615782),N=i(792028),E=i(208711),k=i(147046),L=i(462992),R=i(506192),S=i(256636),A=i(346886);let P="comments_view--loader--tz-FD",O="comments-sort-dropdown",M="SHOW_RESOLVED",B=function({labelClassName:e,includeShowResolved:t,isLoggedIn:i}){let r=(0,n.wA)(),o=(0,R.Um)(),a=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),l=(0,n.d4)(e=>e.communityHub.comments.showResolved),d=c.useRef(null),[u,_]=c.useState(null),p=o?.type===O,h={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},v=e=>{switch(e){case h.ALL:return(0,g.t)("community.comments.all");case h.ME:return(0,g.t)("community.comments.your_comments");case h.COMMENTS:return(0,g.t)("community.comments.comments_only");case h.RATINGS_REVIEWS:return(0,g.t)("community.comments.reviews_only");default:return""}},f=o?.data?.targetRect;c.useEffect(()=>{f&&_(f)},[f]);let y=Object.keys(h).filter(e=>i||e!==N.Qv.ME).filter(e=>e!==N.Qv.RATINGS_REVIEWS&&e!==N.Qv.COMMENTS).map(e=>({displayText:v(h[e]),name:e,isChecked:e===a}));return t&&(y.push({displayText:"",separator:!0,name:void 0}),y.push({displayText:(0,g.t)("community.comments.show_resolved"),isChecked:l,name:M})),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{onClick:e=>{e.stopPropagation();let t=d.current;p?r(k.oB()):t&&(_(t.getBoundingClientRect()),r(k.j7({type:O})))},className:e||"comments_view--commentsSortLabel--mpkGD",children:[v(h[a]),(0,s.jsx)("span",{ref:d,children:(0,s.jsx)(S.p,{svgContainerClassName:"comments_view--commentsSortChevron--989-q",showingDropdown:p})})]}),p&&u&&(0,s.jsx)(A.j,{dispatch:r,items:y,parentRect:u,onSelectItem:e=>{(0,m.sx)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===M?r(L.mH(!l)):r(T.Zj(e.name)))},minWidth:164,showPoint:!0})]})};var D=i(252836),F=i(424704),W=i(420680),U=i(853943),V=i(511570),$=i.n(V),G=i(115989),H=i(652539),Q=i(856909);function z(){return(0,s.jsx)(Q.Ex,{text:(0,g.t)("community.comments.creator"),color:Q.zE.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var Y=i(485243),q=i(349311),X=i(826160);let Z="comment_tile--commentContainerFadeOut--AMWrR",J="comment_tile--nextSiblingCommentReset--4shUj";function K(e){return document.querySelector(`[data-comment-id="${e}"]`)}let ee={fadeOut:async(e,t)=>{t||(t={resetNextComment:!1});let i=K(e);if(!i)return;let s=i.getBoundingClientRect();i.classList.add(Z);let n=i.nextSibling;return n&&(n.style.marginTop=`-${s.height-1}px`),await new Promise(e=>setTimeout(e,ee.ANIMATION_LENGTH)),t.resetNextComment&&ee.resetNextComment(n?.getAttribute("data-comment-id")??void 0),n?.getAttribute("data-comment-id")??void 0},resetNextComment:e=>{let t=e&&K(e);t&&(t.classList.add(J),t.style.marginTop="0px",setTimeout(()=>t.classList.remove(J),50))},fadeIn:e=>{let t=document.querySelector(`[data-comment-id="${e}"]`);if(!t)return;t.classList.remove(Z);let i=t.nextSibling;i&&(i.style.marginTop="0px")},ANIMATION_LENGTH:400};var et=i(116553),ei=i(67164),es=i(58212),en=i(851300),er=i(50536),eo=i(366535),ea=i(210793),el=i(677354),ec=i(555013),ed=i(142914),eu=i(959834),em=i(354174),e_=i(812318);let ep=(0,eu.Ju)(function(e){let t=e.reportType===a.nI.REPORT_AND_HIDE,i=t?(0,g.t)("community.comments.report_and_hide_author_name_s_comment",{authorName:e.comment.author.name}):(0,g.t)("community.comments.report_author_name_s_comment",{authorName:e.comment.author.name}),n=(0,s.jsxs)("p",{className:e_.zC,children:[t?(0,g.t)("community.comments.this_will_flag_the_comment_for_review_and_hide_it_for_everyone"):(0,g.t)("community.comments.this_will_flag_the_comment_for_review")," ",(0,g.t)("community.comments.comment_author_will_not_be_notified",{authorName:e.comment.author.name})," ",(0,g.tx)("community.comments.please_read_our_link_before_reporting",{link:(0,s.jsx)(ec.CY,{href:"https://help.figma.com/hc/articles/360038510573-Figma-Community-Guidelines",target:"_blank",trusted:!0,children:(0,g.tx)("community.community_guidelines")})})]});return(0,s.jsx)(em.yX,{confirmationTitle:i,confirmText:(0,g.t)("community.comments.report"),onConfirm:()=>e.onReport(e.comment.id),destructive:!0,children:(0,s.jsxs)("div",{className:e_.RZ,"data-testid":"comment-confirm-report-modal-content",children:[(0,s.jsx)(ed.H8,{user:e.comment.author,size:ed.Pf.LARGE}),n]})})},"CommentConfirmReportModal");var ex=(e=>(e.COPY_LINK="Copy link",e.EDIT="Edit",e.DELETE="Delete",e.DELETE_THREAD="Delete thread",e.FOLLOW_PROFILE="Follow",e.UNFOLLOW_PROFILE="Unfollow",e.BLOCK_PROFILE_COMMENTING="Restrict user's comments",e.UNBLOCK_PROFILE_COMMENTING="Unrestrict user's comments",e.REPORT_COMMENT="Report",e.REPLY="Reply",e))(ex||{});function eh(e){return{name:e,displayText:function(e){switch(e){case"Copy link":return(0,g.t)("community.comments.copy_link");case"Edit":return(0,g.t)("community.comments.edit");case"Delete":return(0,g.t)("community.comments.delete");case"Delete thread":return(0,g.t)("community.comments.delete_thread");case"Follow":return(0,g.t)("community.follow.follow");case"Unfollow":return(0,g.t)("community.follow.unfollow");case"Restrict user's comments":return(0,g.t)("community.comments.restrict_user_s_comments");case"Unrestrict user's comments":return(0,g.t)("community.comments.unrestrict_user_s_comments");case"Report":return(0,g.t)("community.comments.report_comment");case"Reply":return(0,g.t)("community.comments.reply")}}(e)}}function ev(e){let t=(0,n.wA)(),i=(0,l.iZ)(),{contentId:r,resourceType:o}=e,c=j.Zl[o],d=()=>{e.onEdit?.()},u=()=>{e.onDelete&&t((0,eo.to)({type:ea.E,data:{onConfirm:()=>e.onDelete()}}))},_=()=>{t(er.lW({stringToCopy:(0,ei.ky)(new en.Xu({apiResourceType:c,resourceId:r},{comment:e.comment.id}).href)}))},p=(s,n)=>{t(T._8({blockedProfileId:n,profileId:s,onSuccess:()=>{t(L.BV({authorId:n,resourceType:o,contentId:r,removeCommentsCallback:async e=>{e.map(e=>ee.fadeOut(e.id,{resetNextComment:!0})),await new Promise(e=>setTimeout(e,ee.ANIMATION_LENGTH))}})),t(es.F.enqueue({message:(0,g.t)("community.comments.restricted_this_user_s_comments"),type:"profile-restricted-change"})),(0,m.sx)("comment_profile_restricted",{restricted_by_profile_id:i?.community_profile_id,restricted_profile_id:n,entry_point:"comment",comment_id:e.comment.id})}}))},h=(i,s)=>{t(T.dL({blockedProfileId:s,profileId:i,onSuccess:()=>{t(es.F.enqueue({message:(0,g.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,g.t)("community.comments.undo"),action:()=>{p(i,s)}}})),(0,m.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:i,unrestricted_profile_id:s,comment_id:e.comment.id,entry_point:"comment"})}}))},v=()=>{let{profileIdToAdminResourceAs:i}=e,s=e.comment?.author.id;i&&s&&t((0,eo.to)({type:el.H,data:{onBlock:()=>p(i,s),confirmationTitle:(0,g.t)("community.comments.remove_comment_and_restrict_user"),confirmButtonText:(0,g.t)("community.comments.remove_and_restrict")}}))},f=e=>{t(T.e6(e))},y=e=>{t(T.X2(e))},b=async i=>{let s=await ee.fadeOut(i);t(L.eG({commentId:i,contentId:r,resourceType:o,userIsAdmin:!!e.userIsAdmin,onFinish:e=>{e?ee.fadeIn(i):s&&ee.resetNextComment(s)}}))},w=e=>{t((0,eo.to)({type:ep,data:{comment:e,reportType:a.nI.REPORT_AND_HIDE,onReport:b}}))},I=e=>{t((0,eo.to)({type:ep,data:{comment:e,reportType:a.nI.REPORT,onReport:b}}))};return(0,s.jsx)(A.j,{dispatch:t,items:e.items,showPoint:!0,parentRect:e.parentRect,onSelectItem:(t,i)=>{"Edit"===t.name?d():"Delete"===t.name||"Delete thread"===t.name?u():"Copy link"===t.name?_():"Follow"===t.name&&e.comment.author.id?f(e.comment.author.id):"Unfollow"===t.name&&e.comment.author.id?y(e.comment.author.id):"Restrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?v():"Unrestrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?h(e.profileIdToAdminResourceAs,e.comment.author.id):"Report"===t.name?e.userIsAdmin?w(e.comment):I(e.comment):"Reply"===t.name&&e.onReply?.()},minWidth:96,dataTestId:"comment-menu"})}function ef(e){let t=[eh(ex.EDIT),eh(e.isThreadParent?ex.DELETE_THREAD:ex.DELETE)];return e.hideCopyLink||t.push(eh(ex.COPY_LINK)),(0,s.jsx)(ev,{comment:e.comment,contentId:e.contentId,parentRect:e.parentRect,items:t,onEdit:e.onEdit,onDelete:e.onDelete,resourceId:e.resourceId,resourceType:e.resourceType})}function ey(e){let t=[];return e.canReplyToComment&&t.push(eh(ex.REPLY)),e.hideCopyLink||t.push(eh(ex.COPY_LINK)),t.push(eh(e.author.is_restricted_by_current_user?ex.UNBLOCK_PROFILE_COMMENTING:ex.BLOCK_PROFILE_COMMENTING)),t.push(eh(ex.REPORT_COMMENT)),(0,s.jsx)(ev,{comment:e.comment,contentId:e.contentId,items:t,onDelete:e.onDelete,onReply:e.onReply,parentRect:e.parentRect,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,resourceId:e.resourceId,resourceType:e.resourceType,userIsAdmin:!0})}function eg(e){let t=[];return e.userExists&&t.push(eh(ex.REPORT_COMMENT)),e.hideCopyLink||t.unshift(eh(ex.COPY_LINK)),(0,s.jsx)(ev,{comment:e.comment,contentId:e.contentId,parentRect:e.parentRect,items:t,resourceId:e.resourceId,resourceType:e.resourceType})}function eb(e){var t;let i=(0,l.iZ)(),o=(0,n.d4)(e=>e.authedActiveCommunityProfile),c=(0,n.d4)(t=>t.communityHub.comments.commentsById[e.comment.id]),d=(0,n.d4)(e=>e.communityHub.comments.authorsById[c.author.id]),u=(t=a.ej.COMMUNITY,!!i&&t===a.ej.COMMUNITY&&!(0,r.cs)(o)&&c.author.profile_handle===i.community_profile_handle),m=o?.id===e.profileIdToAdminResourceAs;return u?(0,s.jsx)(ef,{comment:c,contentId:e.contentId,parentRect:e.parentRect,onEdit:()=>e.onEdit(c),onDelete:()=>e.onDelete(c),hideCopyLink:e.hideCopyLink,isThreadParent:e.isThreadParent,resourceId:e.resourceId,resourceType:e.resourceType}):e.profileIdToAdminResourceAs&&m?(0,s.jsx)(ey,{author:d,canReplyToComment:!!e.onReply,comment:c,contentId:e.contentId,hideCopyLink:e.hideCopyLink,onDelete:e.onDelete,onReply:()=>e.onReply?.(c),parentRect:e.parentRect,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,resourceId:e.resourceId,resourceType:e.resourceType}):(0,s.jsx)(eg,{comment:c,contentId:e.contentId,parentRect:e.parentRect,userExists:!!i,hideCopyLink:e.hideCopyLink,resourceId:e.resourceId,resourceType:e.resourceType})}var ej=i(9109);let ew=(0,ej.kf)("lazy_create_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([i.e(3402),i.e(8925),i.e(2834),i.e(724),i.e(1861),i.e(8410)]).then(i.bind(i,927480))).CreateCommentComposer})}),eT=(0,ej.kf)("lazy_edit_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([i.e(3402),i.e(8925),i.e(2834),i.e(724),i.e(1861),i.e(8410)]).then(i.bind(i,451775))).EditCommentComposer})}),eI=(0,ej.kf)("lazy_reply_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([i.e(3402),i.e(8925),i.e(2834),i.e(724),i.e(1861),i.e(8410)]).then(i.bind(i,550463))).ReplyCommentComposer})});(0,ej.kf)("lazy_comment_editable_typeahead",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([i.e(3402),i.e(8925),i.e(2834),i.e(724),i.e(1861),i.e(8410)]).then(i.bind(i,927480))).CommentEditableTypeahead})});var eC=i(724030);function eN(e){let{comment:t,author:i,userIsAuthor:r,isAuthorAcceptedPublisher:o,resourceId:l,contentId:d,resourceType:_}=e,[p,h]=c.useState(!1),v=(0,u.kc)().migrate_community_comment_web_api,f=c.useRef(null),y=(0,n.d4)(e=>e.dropdownShown),j=(0,n.wA)(),[w,T]=c.useState(!1),[I,C]=c.useState(null),N=c.useCallback(()=>{y?.type===a.Ng&&j(k.oB())},[y,j]);c.useEffect(()=>(window.addEventListener("scroll",N,!1),()=>{window.removeEventListener("scroll",N,!1)}),[N]);let R=(0,b.Jm)(),S=(0,Y.y)(i?.profile_handle??"").href;if(!t||!i)return(0,s.jsx)(s.Fragment,{});let A=async()=>{let i=await ee.fadeOut(t.id);j(L.Tu({commentId:t.id,commentType:e.commentType,contentId:d,resourceId:l,resourceType:_,onFinish:e=>{e?ee.fadeIn(t.id):ee.resetNextComment(i)}}))};if(w)return(0,s.jsx)(eT,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:t.id,message:t.message,messageMeta:t.message_meta??[],onComplete:()=>{(0,m.sx)(E.E,{commentId:t?.id,message:t?.message,userId:i.primary_user_id,profileId:i.id,resourceType:e.resourceType,contentId:e.contentId,searchSessionId:R},{forwardToDatadog:!0}),T(!1)}});let P=e.selected&&!e.isCreatorReply,O=t.reply_count,M=!!(y&&y.type===a.Ng&&y.data.commentId===t.id),B=!!t.hidden_at&&!r;return(0,s.jsxs)("div",{className:$()(P?"comment_tile--tempSelectedCommentTile--eo1zi comment_tile--selectedCommentTile--9xoJJ comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v":"comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v",{"comment_tile--creatorReplySelectedParent--aVNCs comment_tile--creatorReply--OO0It":!!e.selected&&e.isCreatorReply,"comment_tile--creatorReply--OO0It":!e.selected&&e.isCreatorReply,"comment_tile--noSeparator--RL2vm":e.hideSeparator}),"data-comment-id":t.id,role:"button",tabIndex:0,children:[(0,s.jsx)(F.N_,{className:"comment_tile--commentAvatarContainer--e8z35",to:S,children:(0,s.jsx)(X.Ro,{entity:i,size:32,className:"comment_tile--commentAvatar--5xfu2 community_hub_view--creatorInsetBorder--z2InY community_hub_view--creatorInsetBorderNoHover--27smC"})}),(0,s.jsx)("div",{className:e.hideSeparator||P?"comment_tile--commentContentWrapperNoBorder--Poey3 comment_tile--commentContentWrapper--L2vv2":"comment_tile--commentContentWrapper--L2vv2",children:(0,s.jsxs)("div",{className:"comment_tile--commentContent--QUN--",children:[(0,s.jsxs)("div",{className:"comment_tile--commentMetaAndOptions--Avk6k",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(F.N_,{className:"comment_tile--commentAuthorLink--3Q-Ty ellipsis--ellipsis--Tjyfa",to:S,children:[(0,s.jsx)("span",{className:"comment_tile--commentAuthor--X2tiN text--fontPos13--xW8hS text--_fontBase--QdLsd",children:i.name}),(0,s.jsx)("span",{className:"comment_tile--commentAuthorHandle--qrjUX comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:`@${i.profile_handle}`})]}),o&&(0,s.jsx)(z,{}),(0,s.jsx)("span",{className:"comment_tile--commentMetaDivider--pzekb text--fontPos13--xW8hS text--_fontBase--QdLsd",children:"\xb7"}),(0,s.jsx)(G.h1,{className:"comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd",date:t.created_at})]}),(0,s.jsxs)("div",{className:"comment_tile--commentOptions--hNQQM",children:[B&&(0,s.jsx)(H.B,{className:"comment_tile--isHiddenIcon--isUzt",svg:eC.A}),(0,s.jsx)("div",{className:"comment_tile--iconButton--MZmz1",children:(0,s.jsx)(W.K,{ref:f,onClick:e=>{let i=f.current;y?N():i&&(C(i.getBoundingClientRect()),j(k.j7({type:a.Ng,data:{commentId:t.id}}))),e.stopPropagation()},"aria-label":(0,g.t)("community.comments.comment_actions"),htmlAttributes:{"data-tooltip-type":q.Ib.TEXT,"data-tooltip":(0,g.t)("community.comments.comment_actions")},children:(0,s.jsx)(U.J,{})})})]})]}),(0,s.jsx)("div",{className:B?"comment_tile--messageIsHidden--e-XiE comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd":"comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,s.jsx)(et.HH,{messageMeta:t.message_meta??[],className:"comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",showEditedIndicator:!!t.edited_at,commentId:t.id})}),p&&(0,s.jsx)("div",{className:"comment_tile--replyComposerContainer--Cfzby",children:(0,s.jsx)(eI,{commentType:e.commentType,contentId:e.contentId,errorFallback:null,fallback:null,onComplete:()=>h(!1),onSuccessCallback:()=>h(!1),parentId:t.id,resourceId:e.resourceId,resourceType:e.resourceType,useNewQuery:v})})]})}),M&&I&&(0,s.jsx)(eb,{comment:t,contentId:e.contentId,hideCopyLink:!!t.parent_id,isThreadParent:O>0,onDelete:A,onEdit:()=>{T(!0)},onReply:0===t.reply_count?()=>{h(!0)}:void 0,parentRect:I,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,resourceId:e.resourceId,resourceType:e.resourceType})]})}function eE(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN,{author:e.author,comment:e.comment,commentType:e.commentType,contentId:e.contentId,hideSeparator:e.hideSeparator||!!e.creatorReply,id:e.id,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,resourceId:e.resourceId,resourceType:e.resourceType,selected:e.selected,user:e.user,userIsAuthor:e.userIsAuthor}),!!e.replyId&&(0,s.jsx)(eN,{author:e.replyAuthor,comment:e.creatorReply,commentType:e.commentType,contentId:e.contentId,hideSeparator:e.hideSeparator,id:e.replyId,isAuthorAcceptedPublisher:!0,isCreatorReply:!!e.replyId,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,resourceId:e.resourceId,resourceType:e.resourceType,selected:e.selected,user:e.user,userIsAuthor:e.userIsResponder})]})}function ek(e){let t=(0,n.d4)(e=>e.communityHub.comments),i=t.commentsById[e.id],r=e.replyId?t.commentsById[e.replyId]:void 0,o=(0,n.d4)(e=>e.user||null);if(!i)return(0,s.jsx)(eE,{user:o,...e});let a=t.authorsById[i.author.id],l=t&&t.selectedCommentId===i.id,c=r?t.authorsById[r.author.id]:void 0,d=c?.id===o?.community_profile_id,u=a.id===o?.community_profile_id;return(0,s.jsx)(eE,{user:o,comment:i,creatorReply:r,replyAuthor:c,author:a,selected:l,userIsAuthor:u,userIsResponder:d,...e})}function eL(){return(0,s.jsxs)("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",children:[(0,s.jsx)("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"})]})}function eR(e){let t=(0,n.d4)(e=>e.communityHub.comments.commentsById),i=(0,n.d4)(e=>e.communityHub.comments.showResolved),l=(0,n.d4)(e=>(0,r.cs)(e.authedActiveCommunityProfile)),{parentCommentIds:d,replies:u}=function(e,t){let i=[],s={};return e.forEach(e=>{if(t[e]){let{parent_id:n}=t[e];n&&t[n]?s[n]=e:n||i.push(e)}}),{parentCommentIds:i,replies:s}}(e.comments,t),m=i?d:d.reduce((e,i)=>(t[i]?.resolved_at||e.push(i),e),[]),{resource:_}=e,p=(0,j.qY)(_),h=(0,j.Vm)(p);if(0===m.length&&!e.hasSelectedComment&&_.comments_setting!==a.Ni.ALL_DISABLED)return(0,s.jsx)(eS,{isTeamOrOrgProfileActive:l});let v=[];if((h===N.vt.PLUGIN||h===N.vt.WIDGET)&&p&&(0,N.mr)(p)&&p.versions&&p.current_plugin_version_id){let i=p.versions[p.current_plugin_version_id].id;m.forEach(n=>{let r=t[n],a=r?.resource_version_id,l=p.versions[a];if(a&&l){if(a!==i){let e=new Date(l.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=a===i&&l?void 0:`Version ${l.version} \xb7 ${e}`,n=v.pop();n&&v.push(c.cloneElement(n,{hideSeparator:!0})),v.push((0,s.jsx)("div",{className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd",children:t},`divider-${a}`)),i=a}v.push((0,s.jsx)(ek,{id:n,replyId:u[n],isAuthorAcceptedPublisher:(0,o.PR)(r,p),commentType:e.commentType,resourceType:h,resourceId:_.id,contentId:p.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs},n))}})}else v=m.map(i=>{let n=t[i];return(0,s.jsx)(ek,{id:i,replyId:u[i],isAuthorAcceptedPublisher:(0,o.PR)(n,p),commentType:e.commentType,resourceType:h,resourceId:_.id,contentId:p.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs},i)});return(0,s.jsx)(s.Fragment,{children:v})}function eS({isTeamOrOrgProfileActive:e}){return e?(0,s.jsxs)("div",{className:"comments_list--emptyStateWrapper--utBdd",children:[(0,s.jsx)(eL,{}),(0,s.jsx)("div",{className:"comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,g.tx)("community.comments.to_comment_switch_to_your_personal_profile")})]}):null}let eA=!1;function eP(e){let t;let i=(0,n.wA)(),o=(0,l.iZ)(),a=e.resource,p=(0,j.qY)(a),[h,k]=(0,c.useState)(!1),[L,R]=(0,c.useState)(!1),S=(0,D.T)(),[A,O]=(0,c.useState)(!0),M=c.useRef(null),F=(0,n.d4)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,C.t0)(e.selectedView.fullscreenState)),W=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),U=(0,n.d4)(e=>e.communityHub.comments.feeds),{feed:V,pagination:$}=c.useMemo(()=>U[W]||{feed:[]},[U,W]),G=(0,n.d4)(e=>e.communityHub.comments.selectedCommentId),H=(0,n.d4)(e=>e.selectedView.commentThreadId),Q=(0,n.d4)(e=>!!e.user?.community_profile_id),z=G||H,Y=W===N.Qv.ALL?a.comment_count:U[W]?.totalNumberOfComments,q=(0,j.Vm)(p),X=(0,u.kc)().migrate_community_comment_web_api,Z=()=>{if(eA)return;eA=!0,k(!0);let e={contentId:p.id,resourceId:a.id,resourceType:q,selectedCommentId:z,pagination:$,activeFeedType:W,numCommentsForResource:Y,pageSizeOverride:I.zn,useNewQuery:X};i(T.p4({...e,onSuccess:e=>{i(T.vr(e)),eA=!1,k(!1)},onError:()=>{eA=!1,k(!1)}}))},J=void 0===$&&(0,r.e5)(a);c.useEffect(()=>{J&&Z()},[W,J]);let K=!!$,ee=$?.selected_comment;c.useEffect(()=>{A&&ee&&(M.current&&window.scroll({left:0,top:M.current.offsetTop-36,behavior:"smooth"}),O(!1))},[A,ee]),c.useEffect(()=>{i(T.cO())},[a.id]);let et=()=>K&&(0,_.u9)({pagination:$})&&Z(),ei=V.filter(e=>e!==$?.selected_comment?.id);$?.selected_comment&&ei.unshift($?.selected_comment.id);let es=(0,b.Jm)();return(0,r.e5)(a)?(0,s.jsxs)("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:M,children:[S&&(0,s.jsx)("div",{className:"comments_view--commentsHeader--RVPOY",children:(0,g.tx)("community.resource_page.comments",{numComments:(0,s.jsx)("span",{className:"comments_view--commentsHeaderCommentCount--W9ZLs",children:Y||0})})}),!e.commentingIsRestricted&&(0,s.jsx)(ew,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:q,contentId:p.id,resourceId:a.id,useNewQuery:X,onSuccessCallback:e=>{(0,m.sx)(E.d,{commentId:e?.id,message:e?.message,userId:o?.id,profileId:o?.community_profile_id,resourceType:q,resourceId:p.id,searchSessionId:es})}}),(0,s.jsxs)("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,s.jsx)("div",{className:"comments_view--numCommentsForResource--J0QKb",children:(t=Y||0,(0,g.t)("community.comments.pluralize_comments",{numComments:t}))}),!F&&!e.commentingIsRestricted&&a.comment_count>0&&(0,s.jsx)(B,{includeShowResolved:!1,isLoggedIn:Q})]}),(0,s.jsx)(y.a,{onIntersectionChange:e=>{L||(R(!0),(0,m.sx)("Community Comments Section Impressed",{resourceType:q,contentId:p.id}))}}),(0,s.jsx)(w.hJ,{children:(0,s.jsx)(f.x,{isLoading:void 0===$,className:P,children:()=>(0,s.jsx)(v,{onScrollToBottom:et,showLoader:h&&(0,_.u9)({pagination:$}),children:(0,s.jsx)(eR,{comments:ei,commentType:e.commentType,resource:a,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hasSelectedComment:!!$?.selected_comment})})})}),(0,s.jsx)(w.XY,{children:(0,s.jsx)(f.x,{isLoading:void 0===$,className:P,children:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eR,{comments:ei,commentType:e.commentType,resource:a,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}),(0,_.u9)({pagination:$})&&(0,s.jsx)("div",{className:"comments_view--mobileLoadMore--tqxIs",children:(0,s.jsx)(d.$n,{variant:"link",onClick:et,children:(0,g.tx)("community.comments.load_more_comments")})})]})})})]}):null}function eO({resource:e}){let t=(0,l.iZ)(),i=(0,n.d4)(t=>(0,o.MK)(t,e))>=o.Cw.ADMIN&&(r.cV(e)?.id||t?.community_profile_id)||null,c=(0,n.d4)(e=>e.authedActiveCommunityProfile);return(0,s.jsx)(eP,{commentType:a.ej.COMMUNITY,resource:e,profileIdToAdminResourceAs:i,commentingIsRestricted:!(0,r.LI)(t,e)||(0,r.cs)(c)})}},884530:(e,t,i)=>{i.d(t,{R:()=>r});var s=i(795033),n=i(819621);let r=(0,s.eU)(n.$O.DescriptionView)},759827:(e,t,i)=>{i.d(t,{Gm:()=>eW,Wt:()=>eU,Hb:()=>eV});var s=i(104076),n=i(716976),r=i(903927),o=i(795033),a=i(511570),l=i.n(a),c=i(514223),d=i(140490),u=i(246144),m=i(192075),_=i(884530),p=i(296706),h=i(569336),v=i(15329),f=i(596224),y=i(819621),g=i(222195),b=i(684418),j=i(803752),w=i(792028),T=i(563554),I=i(69919),C=i(252836),N=i(375936),E=i(912610),k=i(962856);function L({orgName:e}){return(0,s.jsx)(k.E,{variant:"defaultOutline",children:e?(0,m.tx)("community.plugins.private_for_plugin_org_name",{orgName:e}):(0,m.tx)("community.plugins.private_for_your_organization")})}var R=i(615504);let S=i(45468).ai;function A({resource:e,resourceContent:t}){let i;let n=S?(0,s.jsx)(S,{resource:t}):void 0,r=(0,f.$9)(e);return r&&(i=(0,E.Rt)(r)?(0,s.jsx)(L,{orgName:r.roles?.org?.name}):void 0),(0,s.jsxs)(s.Fragment,{children:[n,i,(0,s.jsx)(R.I,{badges:e.badges,height:"16",border:"strong",disableIcon:!0})]})}var P=i(853943),O=i(638004),M=i(219199),B=i(261139),D=i(449572),F=i(513369),W=i(550209),U=i(350819),V=i(967782),$=i(58212),G=i(638641),H=i(81686),Q=i(509922),z=i(298745),Y=i(786751),q=i(250596),X=i(680384),Z=i(366535),J=i(249586),K=i(59849),ee=i(377026),et=i(3234),ei=i(172417);let es="save-button-clicked";function en(e,t,i,s,n){return function(r,o){let a=o();if((0,J.Cu)(ea({state:a,resourceId:e.id,resourceType:(0,f.Vm)(e),viewContext:t,action:"save",loggedIn:!!a.user,orgId:s}),es),!a.user){(0,W.$D)(O.e.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if(!a.authedActiveCommunityProfile?.public_at){r(Z.to({type:ei.G$,data:{userId:a.user.id,variations:[ei.FF.OPT_IN],onFinish:()=>er({state:a,dispatch:r,resource:e,savesUrl:i,orgId:s,orgName:n})}}));return}er({state:a,dispatch:r,resource:e,savesUrl:i,orgId:s,orgName:n})}}function er({state:e,dispatch:t,resource:i,savesUrl:s,orgId:n,orgName:r}){if(!e.authedActiveCommunityProfile){(0,W.$D)(O.e.COMMUNITY,Error("Attempted to save resource without an active community profile"));return}let o=et.a.saveResource({resource:i,profileId:e.authedActiveCommunityProfile.id,orgId:n}),a=n?`optimistic-resource-save-${i.id}-${n}`:`optimistic-resource-save-${i.id}-${e.user.id}`;(0,B.WB)().optimisticallyCreate({ResourceSave:{[a]:{userId:e.user.id,hubFileId:null,createdAt:new Date(Date.now()),resourceId:i.id,orgId:n||null}}},o),o.then(()=>{t($.F.enqueue({message:n?(0,m.t)("community.saves.resource_saved_for_everyone_at",{orgName:r||"your org"}):(0,m.t)("community.saves.added_to_your_saves"),type:"resource-save",icon:G.zX.SAVE,button:s?{text:(0,m.t)("community.saves.go_there"),action:()=>{M.Ay.push(s)}}:void 0}))}).catch(e=>{(0,W.$D)(O.e.COMMUNITY,e),t($.F.enqueue({message:(0,m.t)("community.actions.unable_to_save_resource"),type:"RESOURCE_SAVE_FAILED",error:!0}))})}function eo(e,t,i,s){return function(n,r){let o=r();if(!o.user||!o.authedActiveCommunityProfile){(0,W.$D)(O.e.COMMUNITY,Error("[Community Saves] Attempted to remove save without currentUser"));return}(0,J.Cu)(ea({state:o,resourceId:e.id,resourceType:(0,f.Vm)(e),viewContext:t,action:"unsave",loggedIn:!!o.user,orgId:i}),es);let a=et.a.unsaveResource({resource:e,profileId:o.authedActiveCommunityProfile.id,orgId:i}),l=i?`optimistic-resource-save-${e.id}-${i}`:`optimistic-resource-save-${e.id}-${o.user.id}`;(0,B.WB)().optimisticallyDelete({ResourceSave:{[l]:null}},a),a.then(()=>{n($.F.enqueue({message:i?(0,m.t)("community.saves.resource_removed_for_everyone_at",{orgName:s||"your org"}):(0,m.t)("community.saves.removed_from_saves"),type:"resource-unsave"}))}).catch(e=>{(0,W.$D)(O.e.COMMUNITY,e)})}}function ea({state:e,resourceId:t,resourceType:i,viewContext:s,action:n,loggedIn:r,orgId:o}){return{action:n,resourceId:t,resourceType:i,viewContext:s,loggedIn:r,forOrgId:o,searchSessionId:(0,z.wr)(e)}}function el(e,t){let i=(0,r.wA)(),s=function(e){let t=(0,D.bc)(K.PN2,{resourceId:e.id,orgIds:[]},{enabled:!0});return F.oA(t.data?.resourceSaveFromResourceId)?.createdAt||null}(e),o=(0,H.AG)(),a=(0,q.Om)(),l=(0,q.tv)()??void 0,c=(0,r.d4)(e=>e.authedActiveCommunityProfile?.profile_handle),d=n.useMemo(()=>o&&a?new X.e(a,l):c?new Y.xn({profileHandle:c,tabView:ee.g3.SAVES}):void 0,[o,a,l,c]),u=!!s,m=n.useCallback(s=>{(0,V.YQ)({id:"cmty-detail-view-saved-button-clicked"}),s?.stopPropagation(),u?i(eo(e,t)):i(en(e,t,d?.href))},[u,i,e,t,d]);return n.useCallback(e=>{(0,Q.FL)(U.qB.SIGN_UP,{preventDefaultRedirect:!0})},[]),{onUserSaveActionClick:m,isResourceSavedForUser:u}}function ec(e,t){let i=(0,r.wA)(),s=(0,f.qY)(e),o=(0,r.d4)(e=>(0,g.Tm)(e)),a=(0,D.bc)(K.PN2,{resourceId:e.id,orgIds:Object.keys(o)}),l=(0,D.bc)(K.KC4,{pluginId:s.id,orgIds:Object.keys(o)}),c=n.useMemo(()=>{if(!(0,f.g0)(e))return{};let t=(0,F.oA)(a.data?.orgResourceSaves)||[],i={};return Object.values(o).forEach(s=>{(!((0,f.YI)(e)&&s.plugins_whitelist_enforced||(0,f.$3)(e)&&s.widgets_whitelist_enforced)||(l.data?.orgAllowlistedPlugins.status!==F.tT.Loaded?[]:l.data?.orgAllowlistedPlugins.data||[]).some(e=>e.orgId===s.id))&&(i[s.id]=t.some(e=>e.orgId===s.id))}),i},[o,l,e,a.data]),d=n.useCallback((s,n,r)=>{r?.stopPropagation(),c[s]?i(eo(e,t,s,n)):i(en(e,t,void 0,s,n))},[i,e,t,c]);return{savesByOrgId:c,onOrgSaveAction:d}}var ed=i(586467),eu=i(713280),em=i(242681),e_=i(147046),ep=i(346886),ex=i(536602);function eh(e){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_8184_71416)",children:[(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5212L12 13.3883V2H4V13.3883L8 10.5212ZM3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_8184_71416",children:(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"})})})]})}function ev(e){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_8174_71409)",children:[(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_8174_71409",children:(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"})})})]})}let ef="more_options_button--icon--apR87",ey="more_options_button--dropdownItem--ZH0ds",eg="community-more-options-button-dropdown";function eb({resource:e,viewContext:t}){let i=(0,r.wA)(),n=(0,r.d4)(e=>e.dropdownShown?.type===eg),o=(0,r.d4)(e=>e.dropdownShown?.data?.targetRect),a=[],{isTeamOrOrgProfileActive:l,isResourceLiked:c,onLikeActionClick:d}=function(e){let{resource:t,viewContext:i}=e,s=(0,r.d4)(e=>e.authedActiveCommunityProfile),n=(0,ed.c)(s),o=(0,eu.W)(t.id,(0,f.Vm)(t),!(0,f.Sv)(t)),a=(0,eu.B)(t.id,(0,f.Sv)(t)),l=(0,f.Sv)(t)?!!a.data?.[0]:!!o.data?.[0],c=(0,f.Sv)(t)?a.data?.[1]:o.data?.[1],d=(0,em.w)(t,l,c||null,i);return{isTeamOrOrgProfileActive:n,isResourceLiked:l,onLikeActionClick:d}}({resource:e,viewContext:t}),u={displayText:l?(0,m.t)("community.likes.switch_profile_to_like"):(0,m.t)("community.like"),icon:(0,s.jsx)("div",{className:ef,style:{"--color-icon":l?"var(--color-text-menu-disabled)":"var(--color-icon-menu)"},children:c?ex.W:ex.C}),preventDismissOnSelected:!0,unsetStrokeOnActiveOption:!0,callback:(e,t,i,s)=>{l||d()(s)},disabled:l,className:ey},{isResourceSaved:_,isResourceSavedForUser:p,onUserSaveActionClick:h,savesByOrgId:v,onOrgSaveAction:y}=function({resource:e,viewContext:t,allowOrgSaves:i}){let{onUserSaveActionClick:s,isResourceSavedForUser:n}=el(e,t),{savesByOrgId:r,onOrgSaveAction:o}=ec(e,t);return{isResourceSaved:n||Object.values(i?r:{}).some(e=>e),isResourceSavedForUser:n,onUserSaveActionClick:s,savesByOrgId:r,onOrgSaveAction:o}}({resource:e,viewContext:t,allowOrgSaves:!0}),b=(0,r.d4)(e=>(0,g.Tm)(e)),j=[];if(0!==Object.values(b).length&&(0,f.g0)(e)){j.push({displayText:(0,m.t)("community.saves.save_for_yourself"),icon:(0,s.jsx)("div",{className:ef,children:p?(0,s.jsx)(ev,{}):(0,s.jsx)(eh,{})}),unsetStrokeOnActiveOption:!0,callback:(e,t,i,s)=>{h(s)},className:ey});let e=Object.values(b).map(e=>({displayText:(0,m.t)("community.saves.save_for",{orgName:e.name}),icon:(0,s.jsx)("div",{className:ef,children:v[e.id]?(0,s.jsx)(ev,{}):(0,s.jsx)(eh,{})}),unsetStrokeOnActiveOption:!0,callback:()=>{y(e.id,e.name)},className:ey}));j.push(...e)}else j.push({displayText:(0,m.t)("community.saves.save"),"data-onboarding-key":"save-button",icon:(0,s.jsx)("div",{className:ef,children:_?(0,s.jsx)(ev,{}):(0,s.jsx)(eh,{})}),preventDismissOnSelected:!0,unsetStrokeOnActiveOption:!0,callback:(e,t,i,s)=>{h(s)},className:ey});return u.disabled?(a.push(...j),a.push(u)):(a.push(u),a.push(...j)),(0,s.jsx)(s.Fragment,{children:n&&(0,s.jsx)(ep.j,{showPoint:!0,items:a,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,i,t)},lean:"right",parentRect:o,dispatch:i,minWidth:208})})}let ej=(0,d._)(function({resource:e,viewContext:t}){let i=(0,r.wA)(),o=n.useRef(null),[a,l]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{ref:o,className:"more_options_button--moreOptionsContainer--ncSsU cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{l(!a);let e=o.current?.getBoundingClientRect();e&&i(e_.j7({type:eg,data:{targetRect:e}}))},"data-testid":"more-options-button",children:(0,s.jsx)("div",{className:"more_options_button--verticalIcon--Pv-8l",children:(0,s.jsx)(P.J,{style:{"--color-icon":"var(--color-icon-secondary)"}})})}),(0,s.jsx)(eb,{resource:e,viewContext:t})]})},"MoreOptionsButton");var ew=i(236631),eT=i(349311);let eI="community-save-button-dropdown";function eC({resource:e,viewContext:t,type:i,theme:o,allowOrgSaves:a,enableWideButtonForStickyFooter:c}){let d=(0,r.wA)(),{onUserSaveActionClick:u,isResourceSavedForUser:_}=el(e,t),{savesByOrgId:p}=ec(e,t),h=a?p:{},v=n.useRef(null),f=l()("save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",{[ew.s.gap6.pl16.pr16.$]:"containText"===i,"save_button--buttonContainerBrandColors--xQhK7":"brand"===o,[ew.s.w40.h40.$]:"square"===i,"save_button--buttonContainerBaseWide--EDZcF":c}),y=l()("save_button--iconContainer--Brlqe",{[ew.s.ml2.$]:"containText"===i}),g="brand"===o?"var(--color-icon-onbrand)":void 0,b=_||Object.values(h).some(e=>e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:f,onClick:e=>{if(0===Object.keys(h).length)return u(e);let t=v.current?.getBoundingClientRect();t&&d(e_.j7({type:eI,data:{targetRect:t}}))},"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":eT.Ib.TEXT,ref:v,"data-tooltip":b?(0,m.t)("community.saves.remove_from_saves"):(0,m.t)("community.saves.save"),"aria-label":b?(0,m.t)("community.saves.remove_from_saves"):(0,m.t)("community.saves.save"),children:[(0,s.jsx)("div",{className:y,children:b?(0,s.jsx)(ev,{fill:g}):(0,s.jsx)(eh,{fill:g})}),"containText"===i&&(0,s.jsx)("div",{children:(0,m.tx)(b?"community.saves.remove_from_saves":"community.saves.save_for_later")})]}),a&&(0,s.jsx)(eN,{resource:e,viewContext:t})]})}function eN({resource:e,viewContext:t}){let i=(0,r.wA)(),n=(0,r.d4)(e=>e.dropdownShown?.type===eI),o=(0,r.d4)(e=>e.dropdownShown?.data?.targetRect),{onUserSaveActionClick:a,isResourceSavedForUser:l}=el(e,t),{savesByOrgId:c,onOrgSaveAction:d}=ec(e,t),u=(0,r.d4)(e=>(0,g.Tm)(e));if(!(0,f.g0)(e))return null;let _=[{displayText:(0,m.t)("community.saves.save_this_resource_for_yourself"),isChecked:l,callback:()=>{a()}}],p=Object.values(u).map(e=>({displayText:(0,m.t)("community.saves.save_for_everyone_at",{orgName:e.name}),isChecked:c[e.id],callback:()=>{d(e.id,e.name)}}));return _=_.concat(p),(0,s.jsx)(s.Fragment,{children:n&&(0,s.jsx)(ep.j,{showPoint:!0,items:_,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,i,t)},parentRect:o,dispatch:i})})}let eE=(0,d._)(function(e){return(0,s.jsx)(eC,{resource:e.resource,viewContext:e.viewContext,type:"square",theme:"default",allowOrgSaves:!0})},"SaveButton");function ek(e){return(0,s.jsx)(eC,{resource:e.resource,viewContext:e.viewContext,type:"containText",theme:"brand",enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}var eL=i(507319),eR=i(187204),eS=i(546580),eA=i(514817),eP=i(721917),eO=i(905782);let eM=(0,d._)(function({resource:e}){let t=(0,eA.M)()?"mobile_logged_in":"mobile_logged_out",i=(0,f.qY)(e),r=!!i&&(0,w.BS)(i),o=n.useMemo(()=>i?(0,f.g0)(e)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ek,{resource:e,viewContext:t,enableWideButtonForStickyFooter:!0}),(0,s.jsx)(eP.cy,{resource:e})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:eO.fj,children:(0,s.jsx)(eL.q,{resource:e,enableWideButtonForStickyFooter:!r,enableCondensedWideButtonForStickyFooter:r})}),r?(0,s.jsx)(ej,{resource:e,viewContext:t}):(0,s.jsxs)("div",{className:eO.bU,children:[(0,s.jsx)(eP.cy,{resource:e}),(0,s.jsx)(eE,{resource:e,viewContext:t})]})]}):null,[e,i,t,r]);return(0,s.jsx)("div",{className:l()(eO.Zc,eO.CS),children:o})},"WideCTAActionButtons");var eB=i(42982);let eD=i(622253).s,eF=i(177780).M,eW=(0,d._)(function({resource:e,hasScrolled:t,layout:i="oneColumn"}){let a=(0,r.wA)(),l=(0,o.md)(b.g);n.useEffect(()=>{l===c.r.INIT&&(0,j.nm)()(a).catch(e=>{(0,u.x1)("Error loading plans for authed users",e,{reportErrorToSentry:!0})})},[a,l]);let{showLikeButton:d,showSaveButton:m,showAuthorsHeader:_}={showLikeButton:!0,showSaveButton:!0,showAuthorsHeader:!(0,C.T)()},y=(0,v.K2)(e),N=(0,r.d4)(e=>(0,g.Tm)(e)),E=(0,f.qY)(e),k=(0,h.Qo)(E)?T.e0.COMMUNITY_HUB_FILE:(0,w.xQ)(E)?T.e0.COMMUNITY_HUB_WIDGET:T.e0.COMMUNITY_HUB_PLUGIN,L=null,R=(0,s.jsx)(eL.q,{resource:e}),S=(0,f.$9)(e);if(eD&&S){let e=(0,h.qD)(S),t=Object.values(N).some(e=>(0,w.I0)(S)&&e.plugins_whitelist_enforced||(0,w.xQ)(S)&&e.widgets_whitelist_enforced);!(e&&"is_private"in e&&e.is_private)&&t&&(L=(0,s.jsx)(eD,{resource:S,viewContext:k}))}let P=d&&m?(0,s.jsx)(ej,{resource:e,viewContext:k}):null,O=m?(0,s.jsx)(eE,{"data-onboarding-key":"save-button",resource:e,viewContext:k}):null,M=L||!d?null:(0,s.jsx)(I.Q,{resource:e,viewContext:k}),B=(0,w.BS)(E)?P:(0,s.jsxs)(s.Fragment,{children:[M,O]}),D=(0,s.jsx)(A,{resource:e,resourceContent:E}),F=(0,f.NC)(e)?e.resource_type:(0,f.bc)(e),{isDisabled:W,disabledReason:U}=(0,p.Cc)(F),V=W&&U&&eF,$=V?(0,s.jsx)(eF,{resource:e}):null,G=(0,f.zL)(e),H="oneColumn"===i?(0,s.jsx)(eR.A,{resource:e,resourceContent:E,viewContext:k,disableLikeButton:!d,hideResourceType:G}):(0,s.jsx)(eR.A,{resource:e,resourceContent:E,viewContext:k,disableLikeButton:!d,hideResourceType:!!V||G,ctaDisabledMessage:$});return t?(0,s.jsx)("div",{className:eB.yq,children:(0,s.jsxs)("div",{className:eB.Jp,children:[(0,s.jsxs)("div",{className:eB.Xd,children:[(0,s.jsx)("h1",{className:eB.eO,children:y}),(0,s.jsx)(e$,{hasCommentsEnabled:(0,g.e5)(e),commentCount:e.comment_count})]}),(0,s.jsxs)("div",{className:eB.OQ,children:[R,L,B]})]})}):(0,s.jsx)(eU,{CTAButton:R,approveButton:L,headerBadges:D,layout:i,likeSaveButtons:B,publishers:e.community_publishers.accepted,resource:e,resourceHeaderStats:H,showAuthorsHeader:_,title:y??""})},"BasicResourceHeader");function eU({CTAButton:e,publishers:t,title:i,description:n,resourceHeaderStats:r,approveButton:o,likeSaveButtons:a,learnMore:l,headerBadges:c,openInNewTab:d=!1,showAuthorsHeader:u=!0,resource:m,layout:_="oneColumn"}){let p=[...t.filter(e=>(0,N.J3)(e.badges)),...t.filter(e=>!(0,N.J3)(e.badges))],h=u?(0,s.jsxs)("div",{className:eB.tF,children:[(0,s.jsx)(eS.L,{publishers:p,showFigmaPartnerBadge:!0}),(0,s.jsx)(eS.I,{publishers:p,openInNewTab:d,useSmallWidth:!0,removeByLabel:!0})]}):null,v=(0,s.jsxs)("div",{className:eB.X7,children:[(0,s.jsx)("div",{className:eB.DD,children:(0,s.jsx)("h1",{children:i})}),c]});return"oneColumn"===_?(0,s.jsxs)("div",{className:eB.N1,children:[h,v,r,!!n&&(0,s.jsx)("div",{className:eB.h_,children:n}),(0,s.jsxs)("div",{className:eB.OQ,children:[e,l,o,a]}),eF&&(0,s.jsx)(eF,{resource:m})]}):(0,s.jsxs)("div",{className:eB.nV,children:[(0,s.jsxs)("div",{children:[h,v,r,!!n&&(0,s.jsx)("div",{className:eB.h_,children:n})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:eB.OQ,children:[e,l,o,a]})})]})}function eV({resource:e,hasScrolled:t}){let i=(0,v.K2)(e),n=e.community_publishers.accepted,r=(0,f.qY)(e),o=(0,g.e5)(e);return t?(0,s.jsx)("div",{className:eB.QY,children:(0,s.jsxs)("div",{className:eB.VB,children:[(0,s.jsx)("div",{className:eB.zu,children:(0,s.jsx)("h1",{className:eB.NG,children:(0,s.jsx)("span",{className:eB.y_,children:i})})}),(0,s.jsx)(eM,{resource:e}),(0,s.jsx)(e$,{hasCommentsEnabled:o,commentCount:e.comment_count})]})}):(0,s.jsx)("div",{className:eB.Z0,children:(0,s.jsxs)("div",{className:eB.VB,children:[(0,s.jsxs)("div",{className:eB.zu,children:[(0,s.jsx)("h1",{className:eB.NG,children:(0,s.jsx)("span",{className:eB.y_,children:i})}),(0,s.jsxs)("div",{className:eB.YO,"data-testid":"mobile-header-attribution",children:[(0,s.jsx)(A,{resource:e,resourceContent:r}),(0,s.jsx)(eR.A,{resource:e,resourceContent:r}),(0,s.jsxs)("div",{className:eB.gi,children:[(0,s.jsx)(eS.L,{publishers:n}),(0,s.jsx)(eS.I,{publishers:n})]})]})]}),(0,s.jsx)(eM,{resource:e}),(0,s.jsx)(e$,{hasCommentsEnabled:o,commentCount:e.comment_count})]})})}function e$({hasCommentsEnabled:e,commentCount:t}){let[i,r]=(0,o.fp)(_.R);n.useEffect(()=>{let e=()=>{let e=document.getElementById(y.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,h._m)(t,window.innerHeight,window.scrollY)?r(y.$O.CommentsView):r(y.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]);let a=(e,t)=>{if(e.preventDefault(),t===y.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let i=document.getElementById(t);if(i){let e=y.bK,t=i.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}};return(0,s.jsxs)("div",{className:eB.dD,children:[(0,s.jsx)("button",{onClick:e=>a(e,y.$O.DescriptionView),children:(0,s.jsx)("div",{className:l()(eB.qY,{[eB.kO]:i===y.$O.DescriptionView}),children:(0,m.t)("community.resource_page.about")})}),e&&(0,s.jsx)("button",{onClick:e=>a(e,y.$O.CommentsView),children:(0,s.jsx)("div",{className:l()(eB.qY,{[eB.kO]:i===y.$O.CommentsView}),children:(0,m.tx)("community.resource_page.comments",{numComments:(0,s.jsx)("span",{className:l()(eO.p9,{[eO.sB]:i===y.$O.CommentsView}),children:t})})})})]})}},596370:(e,t,i)=>{i.d(t,{A:()=>N});var s=i(104076),n=i(716976),r=i(795033),o=i(511570),a=i.n(o),l=i(192075),c=i(569336),d=i(132139),u=i(845945),m=i(111297),_=i(249586),p=i(220411),h=i(719097),v=i(944350),f=i(792028),y=i(583669),g=i(125746);let b="canvas_viewer--canvasViewer--aDA8H",j=(e,{width:t,height:i,top:s,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=i+"px",e.style.top=s+"px",e.style.left=n+"px"},w=(e,t)=>{if(e.viewer_mode===v.y4.PROTOTYPE)return`/community/file/${e.id}/embed`;let i=`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;return void 0===t?i:`${i}&fuid=${t}`};function T({viewer:e,resource:t,fixedSize:i}){let[o,a]=n.useState(void 0),[d,u]=n.useState(!1),[m,p]=n.useState(!1),v=(0,r.md)(h.kS);n.useEffect(()=>{if(!e)return;let t=t=>{"LOAD_FINISHED"===t.data&&(e.querySelector("iframe").classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),u(!0),(0,_.qD)({name:"hub-file-canvas-loaded"}))},i=()=>{document.activeElement===e.querySelector("iframe")&&(0,_.qD)({name:"community-LO-embed-iframe-interacted",comparisonVariant:m?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",i,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",i,!1)}},[e,m]);let f=()=>{if(!e)return;let t=e.querySelector(`div.${b}`);if(!t)return;let i=t.getBoundingClientRect();j(t,i),a(i),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,_.qD)({name:"community-LO-embed-view-expanded"}),p(!0)},y=()=>{if(!e)return;let t=e.querySelector(`.${b}`);t&&(j(t,o),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),p(!1))};return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"canvas_viewer--iframeWrapper--eemgJ",children:[(0,s.jsx)("iframe",{title:(0,l.t)("community.embed.preview_title_long"),style:{width:i?"100%":(0,c.zS)(d),height:"100%"},src:w(t,v),allowFullScreen:!0},t.id),(0,s.jsx)("svg",{onClick:()=>{m?y():f()},"aria-label":m?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",children:(0,s.jsx)("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"})})]}),(0,s.jsx)("div",{role:"button",tabIndex:0,onClick:y,className:"canvas_viewer--iframeBackdrop--1sZT3"})]}):(0,s.jsx)(s.Fragment,{})}function I({resource:e,enableEmbedOnSmallScreens:t}){let[i,r]=n.useState(null),o=e.viewer_mode===v.y4.WHITEBOARD,l=!!e.thumbnail_is_set,m=t?u.YW:900;return(0,s.jsx)("div",{className:a()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>r(e),children:(0,s.jsxs)("div",{className:o?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":b,children:[(0,s.jsx)("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx",children:(0,s.jsx)(y.Ho,{image:e.thumbnail_url,isSet:l,isWhiteboard:o,backgroundColor:(0,p.Cn)(e.client_meta),hubFileId:e.id,alt:(0,c.qD)(e).name+" preview",thumbnailContext:g.O7.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})}),(0,s.jsx)(d.Ay,{mediaQuery:`(min-width: ${m}px)`,onHide:()=>{i&&i.setAttribute("data-loaded","false")},children:(0,s.jsx)(T,{fixedSize:t,viewer:i,resource:e})})]},e.id)})}function C({resource:e}){return(0,s.jsx)("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true",children:(0,s.jsx)("div",{className:b,children:(0,s.jsx)("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,c.qD)(e).name+" preview"},e.id)})})}function N({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?(0,s.jsx)(m.fu,{name:"Canvas Embed",children:(0,s.jsx)(I,{resource:e,enableEmbedOnSmallScreens:t})}):(0,f.mr)(e)?(0,s.jsx)(C,{resource:e}):(0,s.jsx)(s.Fragment,{})}},789765:(e,t,i)=>{i.d(t,{X:()=>u});var s=i(104076),n=i(106072),r=i(192075);if(443==i.j)var o=i(166115);var a=i(345288),l=i(172096),c=i(673152),d=i(404343);function u({category:e,rdpImpressionId:t}){let i=(0,n.N)(`(max-width: ${d._C6})`),{parent_category:u}=e||{parent_category:null},m=(0,o.S)(u?.url_slug,a.LJ),_=(0,o.S)(e.url_slug,a.LJ),p=!!t,h=[u&&m&&{text:(0,r.Yd)(u.i18n_meta?.title,u.title),linkProps:{to:new l.$E({categorySlug:m}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:m,category_text:u.title,rdpImpressionId:t,is_mobile:i}}},_&&{text:(0,r.Yd)(e.i18n_meta?.title,e.title),linkProps:{to:new l.$E({categorySlug:_}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:_,category_text:e.title,rdpImpressionId:t,is_mobile:i}}}].filter(Boolean);if(_&&e.selected_tag){let t=e.selected_tag;t&&h.push({text:(0,r.Yd)(t.i18n_meta?.text,t.text)})}return(0,s.jsx)(c.E,{breadcrumbs:h,surface:p?"resource":"category"})}},673152:(e,t,i)=>{i.d(t,{E:()=>u});var s=i(104076),n=i(889358),r=i(736813),o=i(511570),a=i.n(o),l=i(855951),c=i(111297);let d="community_breadcrumbs--breadcrumb--Op180 text--fontPos13--xW8hS text--_fontBase--QdLsd";function u({breadcrumbs:e,surface:t}){return(0,s.jsx)("div",{className:a()("community_breadcrumbs--breadcrumbsContainer--e76p8",{"community_breadcrumbs--resourcePagePadding--MUCrg":"resource"===t,"community_breadcrumbs--categoryPadding--b-ilJ":"category"===t}),children:(0,s.jsxs)("div",{className:"community_breadcrumbs--breadcrumbs--S2TN8",children:[(0,s.jsx)(c.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"community_breadcrumbs_home_clicked"},to:new l._().href,children:(0,s.jsx)("div",{className:"community_breadcrumbs--homeIcon--VSWVj",children:(0,s.jsx)(n.Q,{})})}),e.map(e=>(0,s.jsxs)("div",{className:"community_breadcrumbs--breadcrumbContainer--eI8-l",children:[(0,s.jsx)("div",{className:"community_breadcrumbs--chevronIcon--rXeJw",children:(0,s.jsx)(r.k,{})}),e.linkProps?(0,s.jsx)(c.o3,{...e.linkProps,className:d,children:e.text}):(0,s.jsx)("span",{className:d,"aria-current":"page",children:e.text})]},e.text))]})})}},622253:(e,t,i)=>{i.d(t,{s:()=>v});var s=i(104076),n=i(903927),r=i(192075),o=i(633336),a=i(972500),l=i(428792),c=i(596224),d=i(366535),u=i(249586),m=i(222195),_=i(592726),p=i(792028),h=i(349311);function v({resource:e,viewContext:t}){let i=(0,n.wA)(),v=(0,_.iZ)(),f=(0,l.I)(),y=Object.values((0,n.d4)(e=>(0,m.Tm)(e))).filter(t=>(0,p.I0)(e)&&t.plugins_whitelist_enforced||(0,p.xQ)(e)&&t.widgets_whitelist_enforced),g=(e,t)=>{i((0,d.to)({type:(0,o.W)(),data:{extensionId:e.id,orgId:t,extensionType:(0,p.I0)(e)?"plugin":"widget",isAllowed:!1,resource:f?e:void 0,source:"community"}}))};return(0,s.jsx)("button",{className:"approve_button--buttonContainer--lDvpx cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{if((0,u.Cu)({viewContext:t,resourceId:e.id,resourceType:(0,c.Vm)(e),allowlistOrgs:y.length},"approve-button-clicked"),1===y.length){g(e,y[0].id);return}if(!v)return;let s=y.map(e=>({orgId:e.id,workspaceName:e.name,user:v,userId:v?.id||""}));i((0,d.to)({type:a._,data:{payload:{extension:e,workspaces:s,onSelectWorkspace:t=>{g(e,t.orgId)},mode:"manage_allowlist"}}}))},"data-testid":"approve-button","data-onboarding-key":"approve-button","data-tooltip-type":h.Ib.TEXT,children:(0,r.tx)("community.plugins.approve_ellipsis")})}},448909:(e,t,i)=>{i.d(t,{F:()=>l,x:()=>c});var s=i(104076),n=i(555013),r=i(192075),o=i(99526),a=(e=>(e.FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",e.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",e.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",e.APPLE_RESOURCE_LICENSE="https://developer.apple.com/apple-design-resources-license/",e))(a||{});function l({isMonetizedResource:e,isHubFile:t,isAppleResource:i,isFigmaResource:n}){return n?null:(0,s.jsx)("div",{className:o.jQ,children:(0,r.tx)("community.detail_view.licensed_under_license_type",{licenseType:(0,s.jsx)(c,{isMonetizedResource:e,isHubFile:t,isAppleResource:i})})})}function c({isMonetizedResource:e,isHubFile:t,isAppleResource:i}){let o;let a={"https://creativecommons.org/licenses/by/4.0/":"CC BY 4.0","https://www.figma.com/community-free-resource-license/":(0,r.t)("community.detail_view.free_plugin_license"),"https://www.figma.com/community-paid-resource-license/":(0,r.t)("community.detail_view.paid_resource_license"),"https://developer.apple.com/apple-design-resources-license/":(0,r.t)("community.detail_view.apple_resource_license")};return o=i?"https://developer.apple.com/apple-design-resources-license/":e?"https://www.figma.com/community-paid-resource-license/":t?"https://creativecommons.org/licenses/by/4.0/":"https://www.figma.com/community-free-resource-license/",(0,s.jsx)(n.CY,{href:o,trusted:!0,children:a[o]})}},647924:(e,t,i)=>{i.d(t,{y:()=>h});var s=i(104076),n=i(716976),r=i(903927),o=i(192075),a=i(58212),l=i(315910),c=i(222195),d=i(572857),u=i(615782),m=i(912610),_=i(792028),p=i(18894);function h({resourceId:e,resourceType:t,containerClassName:i}){let h=(0,r.wA)(),v=(0,r.d4)(i=>t===_.vt.HUB_FILE?(0,u.M3)(e,i.hubFiles):(0,m.my)(e,i.publishedPlugins)),f=(0,r.d4)(e=>e.authedActiveCommunityProfile),y=(0,r.d4)(e=>(0,d.MK)(e,v)),g=n.useCallback(()=>{h((0,l.z8)({hub_file_id:(0,_.U)(v)?v.id:void 0,widget_id:(0,_.xQ)(v)?v.id:void 0,plugin_id:(0,_.I0)(v)?v.id:void 0})),h(a.F.enqueue({message:(0,o.t)("community.detail_view.accepted_creator_invite")}))},[h,v]),b=n.useCallback(()=>{h((0,l.bb)({hub_file_id:(0,_.U)(v)?v.id:void 0,widget_id:(0,_.xQ)(v)?v.id:void 0,plugin_id:(0,_.I0)(v)?v.id:void 0})),h(a.F.enqueue({message:(0,o.t)("community.detail_view.declined_creator_invite")}))},[h,v]);return!f||(0,c.cs)(f)||!d.ot.includes(y)?null:(0,s.jsx)("div",{className:i,children:(0,s.jsx)(p.vR,{onClickAccept:g,onClickDecline:b,label:(0,o.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")})})}},429122:(e,t,i)=>{i.d(t,{l:()=>m});var s=i(104076),n=i(903927),r=i(192075),o=i(58212),a=i(315910),l=i(582279),c=i(912610),d=i(792028),u=i(18894);function m({pluginId:e,containerClassName:t}){let i=(0,n.wA)(),m=(0,n.d4)(t=>(0,c.my)(e,t.publishedPlugins)),_=(0,n.d4)(e=>(0,l.A)(e,m));return void 0!==_&&(0,l.jT)(_)?(0,s.jsx)("div",{className:t,children:(0,s.jsx)(u.vR,{onClickAccept:()=>{i((0,a.dx)({widget_id:(0,d.xQ)(m)?m.id:void 0,plugin_id:(0,d.I0)(m)?m.id:void 0,src:a.Nn.COMMUNITY_PAGE})),i(o.F.enqueue({message:(0,r.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{i((0,a.MZ)({widget_id:(0,d.xQ)(m)?m.id:void 0,plugin_id:(0,d.I0)(m)?m.id:void 0,src:a.Nn.COMMUNITY_PAGE})),i(o.F.enqueue({message:(0,r.t)("community.detail_view.declined_publisher_invite")}))},label:(0,r.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")})}):null}},177780:(e,t,i)=>{i.d(t,{M:()=>a});var s=i(104076),n=i(192075),r=i(296706),o=i(596224);function a({resource:e}){let t=(0,o.NC)(e)?e.resource_type:(0,o.bc)(e),{isDisabled:i,disabledReason:a}=(0,r.Cc)(t);if(!i||!a)return(0,s.jsx)(s.Fragment,{});let l=function(e){switch(e){case r.vb.SITES_DISABLED_FOR_ORG:return(0,n.t)("community.detail_view.duplicate_cta_disable.sites_org");case r.vb.COOPER_DISABLED_FOR_ORG:return(0,n.t)("community.detail_view.duplicate_cta_disable.cooper_org");case r.vb.FIGMAKE_DISABLED_FOR_ORG:return(0,n.t)("community.detail_view.duplicate_cta_disable.figmake_org");default:return null}}(a);return(0,s.jsx)("div",{className:"disabled_cta_subtext--ctaSubtext--TGCQm text--fontPos13--xW8hS text--_fontBase--QdLsd",children:l})}},136927:(e,t,i)=>{i.d(t,{G:()=>v});var s=i(104076),n=i(716976),r=i(903927),o=i(140490),a=i(451263),l=i(860120),c=i(15329),d=i(596224),u=i(315910),m=i(572857),_=i(592726),p=i(792028),h=i(18894);let v=(0,o._)(function({resource:e}){let t=(0,r.wA)(),i=(0,r.d4)(e=>e.authedActiveCommunityProfile),o=(0,r.d4)(t=>(0,m.MK)(t,e)),v=(0,d.qY)(e),f=m.Gl.includes(o)&&(e.community_publishers?.accepted||[]).length>1&&i?.primary_user_id,y=n.useCallback(()=>{(0,p.U)(v)?t((0,u.bb)({hub_file_id:v.id})):(0,p.xQ)(v)?t((0,u.bb)({widget_id:v.id})):(0,p.I0)(v)&&t((0,u.bb)({plugin_id:v.id}))},[t,v]),g=(0,p.m3)(v),b=(0,a.I)(v),j=(0,_.iZ)();return(0,s.jsxs)(s.Fragment,{children:[f&&(0,s.jsx)(h.d,{onClick:y,className:"metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd"}),g&&(0,l.QQ)(b)&&(0,s.jsx)(h.NY,{resource:v,payment:b}),g&&j&&(0,l.QQ)(b)&&(0,l.C)(b)&&(0,s.jsx)(h.EV,{user:j,name:(0,c.K2)(e)||"",monetizedResource:v.monetized_resource_metadata})]})},"MetadataAdditionalActions")},994174:(e,t,i)=>{i.d(t,{Q:()=>u});var s=i(104076);if(443==i.j)var n=i(790009);var r=i(511570),o=i.n(r),a=i(679359),l=i(592231),c=i(111297),d=i(815991);function u({buttonText:e,onClick:t,useNoIconStyle:i,editorType:r,enableWideButtonForStickyFooter:u,dataTestId:m,isLoading:_=!1}){let p=(0,l.n)(r);return(0,s.jsx)(n.J,{brand:p,children:(0,s.jsx)(c.$z,{className:o()({[d.tt]:i,[d.Vi]:!i,[d.uw]:u}),onClick:_?void 0:t,disabled:_,dataTestId:m||"community-duplicate-button",children:(0,s.jsx)("div",{className:d.uD,children:_?(0,s.jsx)(a.kt,{shouldMatchTextColor:!0,size:"small"}):e})})})}},838459:(e,t,i)=>{i.d(t,{U:()=>Y});var s=i(104076),n=i(716976),r=i(903927),o=i(106072),a=i(192075),l=i(276800),c=i(686993),d=i(812714),u=i(883765),m=i(653899),_=i(652539),p=i(236631),h=i(171660),v=i(853314),f=i(972500),y=i(125586),g=i(366535),b=i(601887),j=i(592726),w=i(959834),T=i(354174),I=i(41529);let C="use_preset_options_modal--presetOptionsModal__optionText--BPEmi",N="use_preset_options_modal--presetOptionsModal__chevron--dF5v3";var E=i(718668),k=i(310324);let L=(0,w.Ju)(function({hubFile:e,inResourceHub:t}){let i=(0,r.wA)(),o=(0,j.iZ)(),w=(0,y.A)({resource:e,skipWorkspaceSelection:t});(0,m.h)(()=>{u.az.trackDefinedEvent("preset_libraries.preset_options_modal_displayed",{userId:o?.id,hubFileId:e.id,partnerType:(0,b.X)(e.library_key)})});let L=n.useCallback(()=>{i(g.Ce())},[i]),R=n.useCallback(()=>{L(),u.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:o?.id,hubFileId:e.id,partnerType:(0,b.X)(e.library_key),option:"cancel"})},[L,e,o]),S=n.useCallback(()=>{let s=v.Q4(e=>{i((0,g.to)({type:f._,data:{payload:e}}))},{skipWorkspaceSelection:t,userId:o?.id});L(),i(s(e)),u.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:o?.id,hubFileId:e.id,partnerType:(0,b.X)(e.library_key),option:"show_in_figma"})},[i,L,e,o,t]),A=n.useCallback(()=>{L(),w(),u.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:o?.id,hubFileId:e.id,partnerType:(0,b.X)(e.library_key),option:"make_a_copy"})},[L,e,o,w]);return(0,s.jsxs)(T.ey,{hide:l.lQ,disableClickOutsideToHide:!0,className:"use_preset_options_modal--presetOptionsModal--MPCAv",children:[(0,s.jsx)("div",{className:"use_preset_options_modal--presetOptionsModal__header--7Ul9l",children:(0,s.jsx)(h.E,{fontWeight:"medium",fontSize:20,children:(0,a.tx)("community.preset_modal.header")})}),(0,s.jsx)("div",{className:"use_preset_options_modal--presetOptionsModal__description--GD8wZ",children:(0,s.jsx)(h.E,{fontSize:13,children:(0,a.tx)("community.preset_modal.description")})}),(0,s.jsxs)("div",{className:I.sw,children:[(0,s.jsxs)("button",{className:I.tW,onClick:S,children:[(0,s.jsx)("div",{className:p.s.pl12.pr12.$,children:(0,s.jsx)(c.e,{})}),(0,s.jsx)("div",{className:C,children:(0,s.jsx)(h.E,{fontSize:13,children:(0,d.kc)().cmty_preset_modal_revised_copy?(0,a.tx)("community.preset_modal.use_ui_kit_in_a_new_file"):(0,a.tx)("community.preset_modal.show_in_figma")})}),(0,s.jsx)(_.B,{className:N,svg:E.A})]}),(0,s.jsxs)("button",{className:I.tW,onClick:A,children:[(0,s.jsx)(_.B,{svg:k.A,className:"use_preset_options_modal--presetOptionsModal__copyIcon--OFXiM"}),(0,s.jsx)("div",{className:C,children:(0,s.jsx)(h.E,{fontSize:13,children:(0,d.kc)().cmty_preset_modal_revised_copy?(0,a.tx)("community.preset_modal.make_a_copy_of_this_file"):(0,a.tx)("community.preset_modal.make_a_copy")})}),(0,s.jsx)(_.B,{className:N,svg:E.A})]})]}),(0,s.jsx)("button",{className:"use_preset_options_modal--presetOptionsModal__cancel--vne9o text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:R,children:(0,a.t)("community.try.pick_workspace.cancel")})]})},"USE_PRESET_OPTIONS_MODAL_TYPE",w.ZU.YES);var R=i(296706),S=i(451263),A=i(860120),P=i(15329),O=i(596224),M=i(845945),B=i(244205),D=i(111297),F=i(222195),W=i(477156),U=i(495905),V=i(349311),$=i(581381),G=i(252836),H=i(994174),Q=i(815991);function z({text:e}){return(0,s.jsx)("div",{className:Q.nu,"data-testid":"disabled-duplicate-button",children:(0,s.jsx)("div",{className:Q.uD,children:e})})}function Y({hubFile:e,resourceType:t,enableWideButtonForStickyFooter:i}){let l=n.createRef(),c=(0,r.wA)(),[d,u]=n.useState(!1),m=(0,r.d4)(e=>(0,F.cs)(e.authedActiveCommunityProfile)),_=(0,r.d4)(e=>e.userFlags).apple_eula_accepted,p=(0,r.d4)(e=>!!e.modalShown);n.useEffect(()=>{p&&u(!1)},[p]);let h=(0,S.I)(e),v=(0,W.IE)(e),f=(0,R.Rr)(),b=(0,y.A)({resource:e}),j=(0,G.T)(),w=(0,o.N)(`(max-width: ${M.YW}px)`),T=(0,P.X_)(t),{isDisabled:I}=(0,R.Cc)(t),C=n.useCallback(()=>{u(!0);let t=()=>{(0,U.TX)(e.id)&&f&&!w?c((0,g.to)({type:L,data:{hubFile:e,inResourceHub:j}})):b()};(0,P.mA)(e)&&!_?c(g.to({type:$.F,data:{hubFileId:e.id,onUseHubFile:t,inResourceHub:j}})):t()},[c,e,_,f,w,b,j]);if(m||(0,P.lT)(e)){let t;return(0,P.lT)(e)?t=(0,a.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"):m&&(t=(0,a.t)("community.duplicate.to_duplicate_switch_to_your_personal_profile")),(0,s.jsx)("div",{"data-tooltip-type":V.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-immediately":!0,children:(0,s.jsx)(z,{text:T})})}return I?(0,s.jsx)(z,{text:T}):(({buttonText:e,onClick:n})=>(0,s.jsx)(D.fu,{name:"Duplicate button",properties:{trackingDescriptor:B.c.HUB_FILE_DUPLICATE_BUTTON,...v},children:(0,s.jsx)("div",{ref:l,children:(0,s.jsx)(H.Q,{buttonText:e,onClick:n,useNoIconStyle:!0,editorType:(0,O.kz)(t),enableWideButtonForStickyFooter:i,isLoading:d})})}))((0,A.QQ)(h)?{buttonText:(0,a.tx)("community.duplicate.open"),onClick:C}:{buttonText:T,onClick:C})}},404846:(e,t,i)=>{i.d(t,{d:()=>D});var s=i(104076),n=i(716976),r=i(903927),o=i(790009),a=i(883765),l=i(140490),c=i(681398),d=i(192075),u=i(812714),m=i(792028),_=i(176203),p=i(417286),h=i(428792),v=i(298745),f=i(15329),y=i(132139),g=i(292168),b=i(226723),j=i(366535),w=i(4033),T=i(222195),I=i(214964),C=i(288747),N=i(592726),E=i(737552),k=i(944350),L=i(904017),R=i(912610),S=i(349311),A=i(588302),P=i(580522),O=i(745311),M=i(139693),B=i(978236);let D=(0,l._)(function({resource:e,universalEditorTypeFallback:t,context:i}){let l;let w=(0,r.wA)(),S=(0,N.TA)(),P=(0,L.T5)("PluginTryButton").unwrapOr(null),D=P?.widgetsWhitelistEnforced||null,W=P?.pluginsWhitelistEnforced||null,U=P?.key.type===k.OL.ORG,V=(0,C.sZ)(),$=(0,L.D6)("PluginTryButton"),G=(0,L.j_)($).unwrapOr(!1),H=(0,T.kc)(),Q=(0,m.xQ)(e),z=(0,R.Ar)(e)||R.lT,Y=(0,O.o)($.unwrapOr(null),P,z,t?(0,_.wN)(t):void 0),q=(0,R.Rt)(e),X=!!H?.org_id,Z=U&&(Q?D:W);l=(0,h.I)()?"right":i===m.aL.DETAIL?"center":"left";let J=i===m.aL.REDESIGNED_PLUGIN_ROW,{dropdownIsShown:K,toggleSwitchEditorDropdown:ee,PluginTrySwitchEditorDropdown:et}=(0,M.WW)(e,l,i),ei=n.useRef(null),es=(0,v.Jm)(),[en,er]=n.useState();if(n.useEffect(()=>{i===m.aL.DETAIL&&(async()=>{try{let t=await A.C.getRecentFiles({extensionId:e.id,isWidget:!!e.is_widget});er(t.data.meta)}catch{}})()},[i,e]),(0,E.U3)("scroll",()=>{(i===m.aL.PLUGIN_ROW||i===m.aL.REDESIGNED_PLUGIN_ROW)&&ee(ei,!1)}),z===R.lT)return null;let eo=(0,m.m3)(e);return G&&X&&!eo&&V&&Z&&!q?(0,s.jsx)(F,{resource:e,currentOrg:V,useShortenedLabel:c.Ay.mobile}):(0,s.jsxs)(o.J,{brand:function(e){switch(e){case _.nT.Whiteboard:return"whiteboard";case _.nT.DevHandoff:return"dev-handoff";case _.nT.Slides:return"piper";case _.nT.Cooper:return(0,u.kc)().buzz_plugins_publishing?"cooper":"design";case _.nT.Design:default:return"design"}}(Y),children:[(0,s.jsx)("button",{type:"button",className:i===m.aL.REDESIGNED_PLUGIN_ROW?p.gz:i===m.aL.PLUGIN_ROW?p.GJ:p.X7,onClick:()=>{if(!S){let t=(0,I.k)(e);w(b.cx({isWidget:Q,redirectPath:t}));return}if(c.Ay.mobile){w((0,j.to)({type:B.x,data:{dispatch:w}}));return}(0,a.sx)("try_it_out_editor_picker_menu_opened",{pluginId:e.id,isWidget:(0,m.xQ)(e),searchSessionId:es}),ee(ei)},"data-testid":"plugin-try-button",children:(0,s.jsx)("div",{className:J?p.dC:p.l0,ref:ei,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.hJ,{children:(0,f.X_)(Q?g.vt.WIDGET:g.vt.PLUGIN,(0,m.zF)(e)||(0,m.PM)(e))}),(0,s.jsx)(y.XY,{children:(0,d.tx)("community.using.open_in_no_ellipses")})]})})}),K&&(0,s.jsx)(et,{primaryFullscreenEditorType:Y,recentFiles:en})]})},"PluginTryButton");function F(e){let t,i;let n=(0,w.ll)(),r=(0,w.U6)(),o=(0,m.xQ)(e.resource),a=o?!!r[e.resource.id]:!!n[e.resource.id];return a?(t=(0,d.tx)("community.plugins.remove"),i=(0,d.t)("community.plugins.remove_for_org_tooltip",{orgName:e.currentOrg.name})):(t=(0,d.tx)("community.plugins.approve"),i=(0,d.t)("community.plugins.approve_for_org_tooltip",{orgName:e.currentOrg.name})),(0,s.jsx)("button",{type:"button",className:a?p.vf:p.Wc,onClick:()=>{let t={orgId:e.currentOrg.id,extensionId:e.resource.id,extensionType:o?"widget":"plugin"};a?P.X.disableExtensionForOrg(t):P.X.enableExtensionForOrg(t)},"data-tooltip-type":S.Ib.TEXT,"data-tooltip":i,children:(0,s.jsx)("div",{className:e.useShortenedLabel?p.d6:p.l0,children:t})})}},507319:(e,t,i)=>{i.d(t,{q:()=>g});var s=i(104076),n=i(951002),r=i(140490);let o=i(838459).U;var a=i(451263),l=i(569336),c=i(860120),d=i(596224),u=i(292168),m=i(792028),_=i(609910),p=i(427125),h=i(919551);let v=i(932880).l;var f=i(966321);function y({button:e,subtext:t}){return(0,s.jsxs)("div",{className:f.uu,children:[e,t&&(0,s.jsx)("div",{className:f.BE,children:t})]})}let g=(0,r._)(function({resource:e,enableWideButtonForStickyFooter:t,enableCondensedWideButtonForStickyFooter:i}){let r=(0,d.Sv)(e)?(0,d.qY)(e):e,f=(0,a.I)(r);return(0,c._K)(r,f)?(0,m.Dc)(r)?null:(0,s.jsx)(p.I,{resource:r,context:m.aL.DETAIL,enableWideButtonForStickyFooter:t,enableCondensedWideButtonForStickyFooter:i,thirdPartyM10nUrl:(0,d.Sv)(e)&&e.third_party_m10n_url?e.third_party_m10n_url:void 0}):(0,d.Sv)(e)?function(e,t){let i;switch(e.resource_type){case u.vt.DESIGN_TEMPLATE:case u.vt.UI_KIT:case u.vt.PROTOTYPE:case u.vt.FIGJAM_TEMPLATE:case u.vt.SITE_TEMPLATE:case u.vt.COOPER_TEMPLATE_FILE:case u.vt.FIGMAKE_TEMPLATE:return(i=(0,d.eO)(e))?(0,s.jsx)(o,{hubFile:i,resourceType:e.resource_type,enableWideButtonForStickyFooter:t}):null;case u.vt.SLIDE_TEMPLATE:return(i=(0,d.eO)(e))?(0,s.jsx)(v,{resource:i,enableWideButtonForStickyFooter:t}):null;case u.vt.PLUGIN:case u.vt.WIDGET:if(!(i=(0,d.$9)(e)))return null;let r=(0,m.PM)(i)?(0,s.jsx)(h.Cg,{resource:i,showCaret:!1}):(0,m.zF)(i)?(0,s.jsx)(h.Gb,{}):void 0;return(0,s.jsx)(y,{button:(0,s.jsx)(_.d,{resource:i,context:m.aL.DETAIL}),subtext:r});case u.vt.COOPER_TEMPLATE_FILE:case u.vt.COOPER_TEMPLATE_ASSET:case u.vt.OAUTH_APP:return null;default:(0,n.xb)(e.resource_type)}}(e,t):function(e,t){if((0,l.Qo)(e))return(0,l.cX)(e)?(0,s.jsx)(v,{resource:e,enableWideButtonForStickyFooter:t}):(0,s.jsx)(o,{hubFile:e,resourceType:(0,d.jB)(e.viewer_mode),enableWideButtonForStickyFooter:t});if((0,m.Dc)(e))return null;{let t=(0,m.PM)(e)?(0,s.jsx)(h.Cg,{resource:e,showCaret:!1}):(0,m.zF)(e)?(0,s.jsx)(h.Gb,{}):void 0;return(0,s.jsx)(y,{button:(0,s.jsx)(_.d,{resource:e,context:m.aL.DETAIL}),subtext:t})}}(e,t)},"MainCTAButton")},721917:(e,t,i)=>{i.d(t,{U6:()=>ty,cy:()=>tg,X6:()=>tC});var s=i(104076),n=i(716976),r=i(795033),o=i(120440),a=i(511570),l=i.n(a),c=i(106072),d=i(140490),u=i(816565),m=i(236631),_=i(192075);let p=i(963798).X;var h=i(487803),v=i(468650),f=i(569336),y=i(482996),g=i(514817),b=i(15329),j=i(596224),w=i(132139),T=i(819621),I=i(845945),C=i(222195),N=i(495905),E=i(792028),k=i(488565),L=i(563554),R=i(69919),S=i(252836),A=i(884530),P=i(596370),O=i(350819),M=i(509922),B=i(828101);function D(){return(0,s.jsx)(B.b,{onClick:()=>(0,M.FL)(O.qB.SIGN_UP,{preventDefaultRedirect:!0}),isResourceLiked:!1})}var F=i(666875),W=i(833805),U=i(915459),V=i(489101),$=i(217123),G=i(679359),H=i(624155),Q=i(349311),z=i(763286);let Y="library_detail_page_viewer--libraryViewerComponentsViewContainer--ZKW-s",q="library_detail_page_viewer--libraryViewerComponentsSideBar---vECP",X="library_detail_page_viewer--libraryViewerComponentsSideBarButtonSelected--USsCQ",Z="library_detail_page_viewer--libraryViewerComponentsSideBarButton--0ve16 text--fontPos11--2LvXf text--_fontBase--QdLsd",J="library_detail_page_viewer--libraryViewerComponentsSection--NQG-W",K="library_detail_page_viewer--libraryViewerStylesViewContainer--zQeq3",ee="library_detail_page_viewer--loadingSpinner--ijlFM";function et(e){let{pageIds:t,itemsByPageId:i,topLevelComponents:r,isLoading:o,numSearchResultsText:a}=e,[c,d]=n.useState(r.length>0||0===t.length?null:t[0]),u=n.useRef({}),_=n.useRef(null),p=n.useRef(null),h=n.useRef(null),v=n.useCallback(e=>{let t=u.current[e];if(t&&_.current){let e=t.offsetTop-_.current.offsetTop-t.offsetHeight;_.current.scrollTo({top:e})}},[]);n.useEffect(()=>{let e=h.current,t=p.current;e&&t&&(e.offsetTop<t.scrollTop?t.scrollTo({behavior:"smooth",top:e.offsetTop}):e.offsetTop>t.scrollTop+t.offsetHeight&&t.scrollTo({behavior:"smooth",top:e.offsetTop-t.offsetTop-t.offsetHeight/2}))},[c]),n.useEffect(()=>{if(!window.IntersectionObserver||!_.current||!u.current)return;let e={},i=_.current.offsetHeight,s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&d(e.target.id)})},{root:_.current,rootMargin:`0px 0px -${i/2}px 0px`,threshold:[.6]});for(let e of t){let t=u.current[e];t&&s.observe(t)}return()=>{s.disconnect()}},[t,u,_,d]);let f=(0,s.jsxs)("div",{className:"library_detail_page_viewer--libraryViewerComponentsContent--i0cL6",style:{paddingBottom:t.length>2?"72px":"12px"},ref:_,children:[a,r.length>0&&(0,s.jsx)("div",{className:J,children:(0,s.jsx)(ei,{items:r})}),t.map(e=>{let t=i[e],n=t[0];return n?(0,s.jsxs)("div",{className:J,children:[(0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerComponentsSectionHeader--RxA6o text--fontPos13--xW8hS text--_fontBase--QdLsd",id:e,ref:t=>u.current[e]=t,children:n.containing_frame?.pageName}),(0,s.jsx)(ei,{items:t})]}):null})]}),y=n.useCallback(e=>{v(e),d(e)},[v]),g=(0,s.jsx)("div",{className:q,ref:p,children:t.map(e=>{let t=e===c,n=i[e][0].containing_frame?.pageName;return n&&(0,s.jsx)("div",{ref:t?h:void 0,className:m.s.wFull.$,children:(0,s.jsx)("button",{className:l()(Z,{[X]:t}),onClick:t=>{t.preventDefault(),y(e)},children:n})},e)})});return o?(0,s.jsxs)("div",{className:Y,children:[g,(0,s.jsx)(G.kt,{className:ee})]}):(0,s.jsxs)("div",{className:Y,children:[g,f]})}function ei({items:e}){let t=e.map(e=>(0,s.jsx)(es,{component:e},(0,H.Av)(e)));return(0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerComponentTileGroup--20ei3",children:t})}function es({component:e}){return(0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerComponentTile--R5qQm","data-tooltip-type":Q.Ib.TEXT,"data-tooltip":e.name,children:(0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerComponentThumbnailWrapper--P2sR3",children:(0,s.jsx)(z.J,{className:"library_detail_page_viewer--libraryViewerComponentThumbnail--XVZpN",src:e.thumbnail_url,draggable:!1})})})}var en=i(999083),er=i(58814),eo=(e=>(e.COMPONENTS="components",e.STYLES="styles",e))(eo||{});function ea(e){let t={},i=[],s=[];if(e&&e.length>0){for(let s of e){let e=s.containing_frame?.pageId;e?(t[e]??=[],t[e].push(s)):i.push(s)}s=Object.keys(t),(0,en.v7)(s,e=>t[e][0].containing_frame?.pageName),(0,en.KQ)(i,"name"),s.map(e=>{let i=t[e];(0,en.KQ)(i,"name")})}return{itemsByPageId:t,topLevelComponents:i,pageIds:s}}function el(e){if(!e||0===e.length)return new Map;let t=(0,H.Kw)(e),i=new Map;return H.og.map(e=>{let s=t.get(e);if(s){(0,H.LX)(s);let t=(0,er.lM)(s,e),n=new Map;for(let e of(n.set(t,t.styles),t.subfolders))n.set(e,(0,er.dm)(e));i.set(e,n)}}),i}var ec=i(652539),ed=i(584709),eu=i(564914),em=i(645249);function e_({foldersAndStylesByType:e,isLoading:t,numSearchResultsText:i}){if(t)return(0,s.jsx)("div",{className:K,children:(0,s.jsx)(G.kt,{className:ee})});let n=[];for(let t of e.values())for(let[e,i]of t)0!==i.length&&(n.push((0,s.jsx)(ep,{folder:e,styleList:i},e.name)),n.push((0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionDivider--RTCVD"},e.name.concat("-divider"))));return n.pop(),(0,s.jsxs)("div",{className:K,children:[i,n]})}function ep({folder:e,styleList:t}){return(0,s.jsxs)(s.Fragment,{children:[e.name&&(0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionHeader--LjF7q text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e?.name}),(0,s.jsx)("div",{className:"library_detail_page_viewer--libraryViewerStylesList--8HwJW",children:t.map(e=>(0,s.jsx)("div",{"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":e.name,children:(0,s.jsx)(em.zi,{dsStyle:e,size:em.iL.Large,disableTooltip:!0})},e.key))})]})}let ex=i(56418);function eh({query:e,libraryId:t,selectedTabType:i}){let r=i===eo.COMPONENTS,o=r?[eu.PW.COMPONENT,eu.PW.STATE_GROUP]:[eu.PW.STYLE],[a]=(0,W.IT)((0,ed.nh)({query:e,libraryId:t,assetTypes:o})),{foldersAndStylesByType:c,itemsByPageId:d,topLevelComponents:u,pageIds:p,hasSearchResults:h,numSearchResults:v}=n.useMemo(()=>{let e={},t=[],i=[],s=new Map;if(r){let s=ea(a.data);e=s.itemsByPageId,t=s.topLevelComponents,i=s.pageIds}else s=el(a.data);return{foldersAndStylesByType:s,itemsByPageId:e,topLevelComponents:t,pageIds:i,hasSearchResults:a.data&&a.data.length>0,numSearchResults:a.data?a.data.length:0}},[a,r]);if("loaded"===a.status&&!h)return(0,s.jsxs)("div",{className:r?Y:K,children:[r&&(0,s.jsx)("div",{className:q,children:(0,s.jsx)("div",{className:l()(m.s.wFull.$,Z,X),children:(0,_.t)("community.detail_view.library_viewer.search_no_results")})}),(0,s.jsxs)("div",{className:"library_detail_page_viewer--libraryViewerEmptyState--2o6bb",children:[(0,s.jsx)(ec.B,{svg:ex,useOriginalSrcFills_DEPRECATED:!0,className:"library_detail_page_viewer--libraryViewerEmptyIcon--6OLZt"}),(0,s.jsx)("div",{className:m.s.flexRow.$,children:(0,_.tx)("search.empty_state.no_results_matching",{searchQuery:(0,s.jsx)("span",{className:m.s.fontBold.$,children:e})})})]})]});let f=(0,s.jsx)("div",{className:r?m.s.flexRow.mb8.$:m.s.flexRow.mb16.$,children:(0,_.tx)("community.detail_view.library_viewer.search_results_num",{numResults:v,query:(0,s.jsx)("span",{className:m.s.fontBold.$,children:e})})});return r?(0,s.jsx)(et,{pageIds:p,itemsByPageId:d,topLevelComponents:u,isLoading:"loading"===a.status,numSearchResultsText:f}):(0,s.jsx)(e_,{foldersAndStylesByType:c,isLoading:"loading"===a.status,numSearchResultsText:f})}function ev({libraryId:e}){let[t,i]=n.useState(eo.COMPONENTS),[r,o]=n.useState(""),[a]=(0,F.A)(r,300,{trailing:!0,leading:!1}),[l]=(0,W.IT)((0,V.lH)({hubFileId:e})),c=n.useMemo(()=>el("loaded"===l.status?l.data:[]),[l]),[d]=(0,W.IT)((0,V.r4)(e)),{itemsByPageId:u,topLevelComponents:m,pageIds:_}=n.useMemo(()=>ea("loaded"===d.status?d.data:[]),[d]);return(0,s.jsxs)("div",{className:"library_detail_page_viewer--libraryViewerContainer--N5xtS",children:[(0,s.jsx)(ef,{selectedTabType:t,setSelectedTabType:i,query:a,setSearchQuery:o}),0===a.trim().length&&t===eo.COMPONENTS&&(0,s.jsx)(et,{pageIds:_,itemsByPageId:u,topLevelComponents:m,isLoading:"loading"===d.status}),0===a.trim().length&&t===eo.STYLES&&(0,s.jsx)(e_,{foldersAndStylesByType:c,isLoading:"loading"===l.status}),a.length>0&&(0,s.jsx)(eh,{query:a,libraryId:e,selectedTabType:t})]})}function ef({selectedTabType:e,setSelectedTabType:t,query:i,setSearchQuery:n}){return(0,s.jsxs)("div",{className:"library_detail_page_viewer--libraryViewerHeader--m7ZFH",children:[(0,s.jsxs)("div",{className:"library_detail_page_viewer--libraryViewerTabsContainer--SDkI8",children:[(0,s.jsx)(eg,{tab:eo.COMPONENTS,selectedTab:e,onClick:()=>{t(eo.COMPONENTS)},children:(0,_.t)("community.detail_view.library_viewer.components_tab")}),(0,s.jsx)(eg,{tab:eo.STYLES,selectedTab:e,onClick:()=>{t(eo.STYLES)},children:(0,_.t)("community.detail_view.library_viewer.styles_tab")})]}),(0,s.jsx)(ey,{query:i,setSearchQuery:n})]})}function ey({query:e,setSearchQuery:t}){let i=n.useRef(null),r=n.useCallback(e=>{t(e)},[t]),o=n.useCallback(()=>{r("")},[r]);return(0,s.jsx)(U.IW,{ref:i,className:"library_detail_page_viewer--libraryViewerSearchBar--x-K2j",focusOnMount:!1,query:e,placeholder:(0,_.t)("community.detail_view.library_viewer.search_placeholder"),clearSearch:o,onChange:r,hideXIcon:!0})}class eg extends $.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:"library_detail_page_viewer--libraryViewerTab--f43dq text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",selected:"library_detail_page_viewer--libraryViewerTabSelected--t5nZk",unselected:"library_detail_page_viewer--libraryViewerTabUnselected--mE3MK"}),this.applyDefaultStyles=()=>!1}}let eb={sectionBreak:{kMzoRj:"xc342km",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,ksu8eU:"xng3xce",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kVAM5u:"x9r1u3d",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kt9PQ7:"xso031l",kfdmCh:"x1q0q8m5",kL6WhQ:"xertd99",$$css:!0},short:{kqGvvJ:"xqrhvso",keoZOQ:null,k1K539:null,kUOVxO:"xrxpjvj",keTefX:null,koQZXg:null,k71WvV:null,km5ZXQ:null,$$css:!0},tall:{kqGvvJ:"x1j4yea",keoZOQ:null,k1K539:null,kUOVxO:"xrxpjvj",keTefX:null,koQZXg:null,k71WvV:null,km5ZXQ:null,$$css:!0}};function ej({spacing:e="tall"}){return(0,s.jsx)("hr",{...o.Ay.props(eb.sectionBreak,eb[e])})}var ew=i(812714),eT=i(310725),eI=i(115989),eC=i(860120),eN=i(18894),eE=i(432786),ek=i(448909);let eL=i(136927).G;var eR=i(341727),eS=i(307002),eA=i(375936),eP=i(987113),eO=i(811499),eM=i(944350),eB=i(912610),eD=i(611373),eF=i(271250),eW=i(975815),eU=i(615161),eV=i(638213);function e$({resource:e}){let t=(0,j.qY)(e),i=(0,s.jsx)(s.Fragment,{children:e.editor_types.map(t=>(0,s.jsx)(eP._,{resourceEditorType:t,resourceType:e.resource_type},t))}),n=(0,j.BQ)(e)&&(0,s.jsx)(eG,{}),r=(0,j.YI)(e)&&(0,eB.pk)((0,f.qD)(t))&&(0,s.jsx)(eH,{}),o=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),a=[...new Set(e.badges.concat(o))],l=(0,eA.C2)({badges:a},!1,!0),c=(0,j.g0)(e)?function(e){let t=(0,f.qD)(e).manifest;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eY,{plugin:e}),(0,s.jsx)(eF.u,{networkAccess:t.networkAccess,isWidget:e.is_widget,isLearnMoreLinkVisible:!0,is24x24:!0})]})}(t):null,d=(0,j.ZA)(e)&&(0,s.jsx)(eQ,{}),u=(0,j.yJ)(e)&&(0,ew.kc)().sites_cms_templates&&(0,s.jsx)(ez,{});return(0,s.jsxs)(s.Fragment,{children:[i,n,r,l&&(0,s.jsxs)("div",{className:eU.qS,children:[(0,s.jsx)(eA.Gx,{children:l}),(0,_.tx)("community.detail_view.made_by_a_figma_partner")]}),c,d,u]})}function eG(){return(0,s.jsxs)("div",{className:eU.qS,children:[(0,s.jsx)(ec.B,{svg:eV.A,svgClassName:eU.Uk,useOriginalSrcFills_DEPRECATED:!0}),(0,s.jsx)("div",{children:(0,_.t)("community.detail_view.ui_kit")})]})}function eH(){return(0,s.jsxs)("div",{className:eU.qS,children:[(0,s.jsx)(eD.ZA,{is24x24:!0}),(0,s.jsx)("div",{children:(0,_.t)("community.detail_view.made_for_codegen")})]})}function eQ(){return(0,s.jsxs)("div",{className:eU.qS,children:[(0,s.jsx)("div",{className:eU.Gs,children:(0,s.jsx)(eR.J,{})}),(0,s.jsx)("div",{children:(0,_.t)("community.detail_view.site_devices")})]})}function ez(){return(0,s.jsxs)("div",{className:eU.qS,children:[(0,s.jsx)("div",{className:eU.Gs,children:(0,s.jsx)(eS.v,{})}),(0,s.jsx)("div",{children:(0,_.t)("community.detail_view.site_cms_connected")})]})}function eY({plugin:e}){let t=(0,eO.A)(e.id,!0);return(0,s.jsx)(s.Fragment,{children:t.loaded&&t.data?.status===eM.bQ.APPROVED&&(0,s.jsx)(eW.b,{securityFormResponse:t.data,entryPoint:eW.X.COMMUNITY_DETAIL,isWidget:e.is_widget,is24x24:!0})})}function eq(e){return(0,s.jsx)("div",{className:eU.cV,children:e.children})}var eX=i(281844),eZ=i(99526),eJ=i(663128);function eK({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:i}){if(t&&e){let t=(0,eC.X2)(e);return(0,_.tx)("community.detail_view.in_app_purchases",{priceString:t})}return i?(0,s.jsxs)("div",{className:eZ.UH,children:[(0,_.tx)("community.detail_view.third_party_badge.off_platform"),(0,s.jsx)(ec.B,{svg:eJ.A,className:eZ.G,"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,_.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})]}):null}function e0(e){let{updatedAt:t,paymentInfo:i,supportContact:r,creatorPolicyData:o,license:a}=e,[l,c]=n.useState(!1),d=r;return r&&((0,eT.xf)(r)?d=`mailto:${r}`:r.startsWith("https://")||r.startsWith("http://")||(d=`//${r}`)),(0,s.jsxs)(eX.z,{children:[(0,s.jsx)("div",{children:(0,_.tx)("community.detail_view.last_updated_at_time_stamp",{timeStamp:(0,s.jsx)(eI.h1,{date:t})})}),r&&(0,s.jsx)("div",{className:eZ.Ev,children:(0,_.tx)("community.detail_view.support_contact",{supportContact:(0,s.jsx)("a",{href:d||void 0,className:eZ.tx,target:"_blank",rel:"nooppener noreferrer",children:r})})}),i,a,(0,ew.kc)().cmty_hub_file_creator_policy&&o?.policyText&&(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{role:"button",onClick:()=>{c(!0)},tabIndex:0,className:eZ.Rc,children:(0,_.tx)("community.detail_view.creator_policy")}),l&&(0,s.jsx)(eE.OJ,{title:(0,_.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{c(!1)},allowScroll:!0,containerClassName:eZ.D9,children:(0,s.jsx)("div",{className:eZ.OC,children:(0,s.jsx)("div",{className:eZ.$h,children:(0,_.tx)("community.detail_view.creator_policy_publisher_name",{publisherName:o.publisherName})})})})]})]})}function e1({resource:e,showBadges:t=!0}){let i=(0,j.qY)(e),n=(0,f.$l)(i),r=(0,E.m3)(i),o=r&&(0,E.PM)(i),a=(0,E.zF)(i);return(0,s.jsxs)("div",{className:eZ.tJ,"data-testid":"metadata-container",children:[t&&(0,s.jsx)(eq,{children:(0,s.jsx)(e$,{resource:e})}),(0,s.jsx)(e0,{updatedAt:n?.created_at??"",supportContact:e.support_contact,license:(0,s.jsx)(ek.F,{isMonetizedResource:r,isHubFile:(0,j.Qc)(e),isAppleResource:(0,b.mA)(e),isFigmaResource:(0,b.sB)(e)}),paymentInfo:(0,s.jsx)(eK,{monetizedResourceMetadata:i.monetized_resource_metadata,isFreemium:o,isOffPlatform:a}),creatorPolicyData:{policyText:n?.creator_policy??null,publisherName:e.publisher.name}}),(0,g.M)()?(0,s.jsx)(eL,{resource:e}):null,(0,g.M)()?(0,s.jsx)(eN.dx,{}):(0,s.jsx)("a",{href:"mailto:content-reviews@figma.com",className:eZ.hV,children:(0,_.tx)("community.detail_view.report_resource")})]})}var e2=i(883765),e5=i(284467),e3=i(109578),e9=i(902278),e4=i(933613);function e6({resourceType:e,resourceId:t,rdpImpressionId:i,creators:r}){let{trackResourceImpression:o}=(0,e3.GS)(),[a,l]=(0,f.eD)(),[{data:c,status:d}]=(0,W.IT)(e9.$.getRelatedContent({resourceType:a,contentId:l}),{enabled:!!(a&&l)}),u="loading"===d,m=c?.data?.meta?.content,p=c?.data?.meta?.is_same_creator??!1;if(n.useEffect(()=>{m?.length&&(0,e2.sx)("Community Resource Related Content Viewed",{resource_type:e,resource_id:t,is_same_creator:p,rdp_impression_id:i,items_impressed:m.map(e=>e.id).join(",")})},[m,e,t,i,p]),"errors"===d||!u&&(!m||0===m.length))return null;let h=p&&r?r.accepted.length>1?(0,_.t)("community.related_content.more_by_these_creators"):(0,_.t)("community.related_content.more_by_this_creator"):(0,_.t)("community.related_content.more_like_this");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"related_content--relatedContent--TYPp2","data-testid":"resource-related-content",children:[(0,s.jsx)("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:u?(0,s.jsx)(e5.Wi,{className:"x1qx5ct2 x8yj6t5 xyorhqc",animationType:e5.JR.NO_SHIMMER,dataTestId:"related-content-header-loading-text"}):(0,s.jsx)("div",{className:"related_content--relatedContentTitle--uylYw",children:h})}),(0,s.jsx)(e4.A,{resources:m??[],maxGridDim:{cols:3},isLoading:u,loadingTileCount:3,onIntersectionChange:(e,t)=>{t&&o(e)},onClickTracking:e=>{(0,e2.sx)("Community Resource Related Content Clicked",{resource_type:e.resource_type,resource_id:e.id,is_same_creator:p,rdp_impression_id:i})}})]}),(0,s.jsx)(ej,{})]})}var e8=i(546580);function e7({resource:e}){let t=e.community_publishers.accepted,i=[...t.filter(e=>(0,eA.J3)(e.badges)),...t.filter(e=>!(0,eA.J3)(e.badges))],n=(0,s.jsx)(e$,{resource:e});return(0,s.jsxs)("div",{className:"sidebar_publisher_details_container--detailsContainer--7fYCs",children:[(0,s.jsx)("h3",{className:"sidebar_publisher_details_container--detailsHeader--U5a0X",children:(0,_.tx)("community.detail_view.details")}),(0,s.jsxs)("div",{className:"sidebar_publisher_details_container--authors--MY-d7",children:[(0,s.jsx)(e8.L,{publishers:i,size:24,showFigmaPartnerBadge:!0}),(0,s.jsx)(e8.I,{publishers:i,useSmallWidth:!0,removeByLabel:!0})]}),(0,s.jsx)("div",{className:"sidebar_publisher_details_container--badgesContainer--KcmbU text--fontPos13--xW8hS text--_fontBase--QdLsd",children:n}),(0,s.jsx)(ej,{})]})}var te=i(624523),tt=i(704316),ti=i(166115),ts=i(391346),tn=i(345288),tr=i(554849),to=i(172096),ta=i(28056),tl=i(111297),tc=i(524858);function td({resource:e,optionalTitle:t,disableHeader:i,showBottomDivider:n}){let r=(0,ti.S)(e.category_slug,tn.LJ),o=(0,ts.v_)(),[a]=(0,W.IT)((0,tr.Zp)({categorySlug:r,locale:o}),{enabled:!!r});if("loading"===a.status)return null;let l=a.data?.tags??[],c=e.tags??[],d=e.tags_v2??{},u=c.length>0,m=!!r&&Object.keys(d).length>0;if(!u&&!m)return null;let p=(0,f.ss)(e,{plural:!0});return(0,s.jsxs)(s.Fragment,{children:[!i&&(0,s.jsx)("h3",{className:tc.Pr,children:t||(0,_.tx)("community.detail_view.tags")}),(0,s.jsx)("div",{className:tc.Pc,children:m&&Object.entries(d).map(([e,t])=>{let i=l.find(t=>t.text===e);return(0,s.jsx)(tl.o3,{className:tc.Tc,to:new to.$E({categorySlug:r,tagSlug:i?.localized_url_slug??t}).to,trackingEventName:"Tag clicked",trackingProperties:{text:e,tab:p,type:"v2"},children:i?(0,C.uS)(i):e},e)})}),u&&(0,s.jsx)("div",{className:tc.Cy,children:c.map(e=>(0,s.jsx)(tl.o3,{className:tc.AT,to:new ta.n6({},{query:(0,C.CW)(e)}).to,trackingEventName:"Tag clicked",trackingProperties:{text:e,tab:p,type:"v1"},children:`#${e}`},e))}),n&&(0,s.jsx)(ej,{})]})}var tu=i(765641),tm=i(423683);function t_({resource:e}){let[t,i]=n.useState(!1);if(!(0,j.g0)(e))return null;let r=(0,j.$9)(e);if(!r)return null;let{versions:o}=r,a=(0,eB.uF)(r);return(0,s.jsxs)("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:[(0,s.jsxs)("div",{className:"version_history--header--jdIyg",children:[(0,s.jsx)(tm.V,{className:"version_history--icon--pnnmo",plugin:a}),(0,s.jsx)("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,_.tx)("community.plugins.version_history")})]}),(0,s.jsxs)("div",{children:[Object.keys(o).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>o[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,i=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",children:[(0,s.jsx)("span",{className:"version_history--versionName--PC5Ws",children:(0,_.tx)("community.plugins.version_version_on_date",{createdAt:i,versionName:e.version})}),(0,s.jsx)("span",{className:"version_history--versionDescription--bzh-V",children:e.release_notes})]},e.id)}).slice(0,t?1/0:2),!t&&Object.keys(o).length>2&&(0,s.jsx)("div",{className:"version_history--showAll--b8ClA",onClick:()=>i(!0),role:"button",tabIndex:0,children:(0,_.tx)("community.plugins.see_all")})]})]})}var tp=i(905782);let tx=i(647924).y,th=i(429122).l;function tv(e,t){if(e.preventDefault(),t===T.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let i=document.getElementById(t);if(i){let e=T.bK,t=i.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function tf({commentCount:e,hasCommentsEnabled:t}){let[i,o]=(0,r.fp)(A.R);return n.useEffect(()=>{let e=()=>{let e=document.getElementById(T.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,f._m)(t,window.innerHeight,window.scrollY)?o(T.$O.CommentsView):o(T.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[o]),(0,s.jsxs)("div",{className:tp.MW,"data-testid":"anchor-tabs",children:[(0,s.jsx)("button",{onClick:e=>tv(e,T.$O.DescriptionView),children:(0,s.jsx)("div",{className:l()(tp.Vj,{[tp.k9]:i===T.$O.DescriptionView}),children:(0,_.t)("community.resource_page.about")})}),t&&(0,s.jsx)("button",{onClick:e=>tv(e,T.$O.CommentsView),children:(0,s.jsx)("div",{className:l()(tp.Vj,{[tp.k9]:i===T.$O.CommentsView}),children:(0,_.tx)("community.resource_page.comments",{numComments:(0,s.jsx)("span",{className:l()(tp.p9,{[tp.sB]:i===T.$O.CommentsView}),children:e})})})})]})}function ty({resource:e}){let t=(0,y.qw)(),i=(0,j.qY)(e);if(!i)return null;let n=(0,j.eO)(i),r=(0,j.zL)(e),o=n?.published_site_url;if(r&&o)return(0,s.jsx)(te.e,{src:o,resource:e,resourceContent:i,additionalStyles:tN.sitePreviewIframeAspectRatio});if(r&&!o)return(0,s.jsx)(u.oW,{src:n?.thumbnail_url,alt:e.name,width:"100%",className:"xh8yej3 x19y5rnk xb3r6kr xmkeg23 x1y0btm7 x7z60cl x1n2onr6 x1dltgaz"});let a=function(e,t){if((0,j.g0)(e)||(0,E.Dc)(t))return!1;let i=(0,j.PI)(e,t),s=(0,f.z$)(e)===k.Z4.EMBED;return!i&&!s&&!(0,j.cX)(e)}(e,i),l=(0,N.TX)(i.id)&&t();return a&&!l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:m.s.font14.fontSemiBold.mb16.$,children:(0,_.t)("community.embed.preview_title")}),(0,s.jsx)(P.A,{enableEmbedOnSmallScreens:!0,resource:i}),(0,s.jsx)(ej,{spacing:"short"})]}):l?(0,s.jsx)(ev,{libraryId:i.id}):null}let tg=(0,d._)(function({resource:e}){if(!(0,g.M)())return(0,s.jsx)(D,{});{let t=(0,j.Qc)(e)?L.e0.COMMUNITY_HUB_FILE:(0,j.$3)(e)?L.e0.COMMUNITY_HUB_WIDGET:L.e0.COMMUNITY_HUB_PLUGIN;return(0,s.jsx)(R.Q,{resource:e,viewContext:t})}},"LikeButton");function tb(){let{showElevationDivider:e,showFlatDivider:t}=tI();return(0,s.jsxs)(s.Fragment,{children:[e&&(0,s.jsx)("div",{className:tp.oj,children:(0,s.jsx)("div",{className:tp.iS})}),t&&(0,s.jsx)("div",{className:tp.X$})]})}function tj({detailPendingCreatorInvite:e,detailPendingPluginPublisherInvite:t,anchorTabs:i,descriptionView:r,contentPreview:o,relatedContent:a,versionHistory:l,commentsView:c,tagsContainer:d,socialLinks:u,metadata:m,detailsContainer:_}){let{externalCommentScrollRef:p}=n.useContext(h.H);return(0,s.jsxs)(s.Fragment,{children:[e,t,i,(0,s.jsx)(tb,{}),(0,s.jsxs)("div",{className:tp.BE,children:[(0,s.jsxs)("div",{className:tp.zu,ref:p,id:T.$O.DescriptionView,children:[r,o,a,l,(0,s.jsx)("div",{id:T.$O.CommentsView,children:c})]}),(0,s.jsxs)("div",{className:tp.ok,children:[_,d,u,m]})]})]})}function tw({detailPendingCreatorInvite:e,detailPendingPluginPublisherInvite:t,anchorTabs:i,descriptionView:n,contentPreview:r,relatedContent:o,versionHistory:a,commentsView:l,tagsContainer:c,socialLinks:d,metadata:u}){return(0,s.jsxs)(s.Fragment,{children:[e,t,i,(0,s.jsx)(tb,{}),(0,s.jsx)("div",{className:tp.BE,children:(0,s.jsxs)("div",{className:tp.zt,"data-mobile-view":!0,id:T.$O.DescriptionView,children:[n,r,c,o,a,(0,s.jsx)("div",{id:T.$O.CommentsView,children:l}),d,u]})})]})}function tT({detailPendingPluginPublisherInvite:e,descriptionView:t,relatedContent:i,versionHistory:r,commentsView:o,tagsContainer:a,socialLinks:l,metadata:c}){let{externalCommentScrollRef:d}=n.useContext(h.H);return(0,s.jsxs)("div",{className:tp.zt,"data-mobile-view":!0,ref:d,children:[t,t&&(0,s.jsx)(ej,{}),e,a,i,r,(0,s.jsx)("div",{id:T.$O.CommentsView,children:o}),l,c]})}function tI(){let e=(0,S.T)();return{showTags:!e,showSidebarPublisherDetailsContainer:e,showRelatedContent:!e,showBadgesInMetadata:!e,showDescriptionViewHeader:e,showElevationDivider:!e,showFlatDivider:e,showAnchorTabs:!e}}function tC({resource:e,rdpImpressionId:t,isMobileSize:i}){let n=(0,b.K2)(e),r=(0,b.zY)(e),o=(0,j.g0)(e),a=(0,c.N)(`(min-width: ${I.w3}px)`),{showTags:l,showSidebarPublisherDetailsContainer:d,showRelatedContent:u,showBadgesInMetadata:m,showDescriptionViewHeader:_,showAnchorTabs:h}=tI(),y=(0,j.zL)(e),g=(0,j.qY)(e),T=!(0,j.ZA)(e)&&!(0,j.tv)(e)&&!y,N={detailPendingCreatorInvite:(0,s.jsx)(tx,{resourceId:g.id,resourceType:(0,j.Vm)(g),containerClassName:tp.BE}),detailPendingPluginPublisherInvite:o?(0,s.jsx)(th,{pluginId:g.id,containerClassName:i?void 0:tp.BE}):void 0,anchorTabs:h&&r?(0,s.jsx)(tf,{commentCount:e.comment_count,hasCommentsEnabled:(0,C.e5)(e)}):void 0,descriptionView:(0,s.jsx)(tu.u,{description:r,hideDivider:!i,showHeader:_}),contentPreview:T?(0,s.jsx)(ty,{resource:e}):void 0,relatedContent:u&&!(0,j.Tv)(e)?(0,s.jsx)(e6,{resourceType:(0,j.Vm)(e),resourceId:e.id,rdpImpressionId:t,creators:e.community_publishers}):void 0,versionHistory:(0,s.jsx)(t_,{resource:e}),commentsView:(0,s.jsx)(p,{resource:e}),tagsContainer:l?(0,s.jsx)(td,{resource:g,showBottomDivider:a}):void 0,socialLinks:(0,s.jsx)(tt.R,{author:(0,v.Lj)(g),resourceType:(0,j.Vm)(g),resourceURL:(0,f.DV)(g),resourceId:e.id,resourceName:n??""}),metadata:(0,s.jsx)(e1,{resource:e,showBadges:m&&!y}),detailsContainer:d?(0,s.jsx)(e7,{resource:e}):void 0};return(0,s.jsxs)("div",{className:i?tp.lt:"",children:[(0,s.jsx)(w.Ay,{mediaQuery:`(max-width: ${I.YW-1}px)`,children:(0,s.jsx)(tT,{...N})}),(0,s.jsx)(w.Ay,{mediaQuery:`(min-width: ${I.YW}px) and (max-width: ${I.w3-1}px)`,children:(0,s.jsx)(tw,{...N})}),(0,s.jsx)(w.Ay,{mediaQuery:`(min-width: ${I.w3}px)`,children:(0,s.jsx)(tj,{...N})})]})}let tN={sitePreviewIframeAspectRatio:{kOBAk4:"x1dltgaz",$$css:!0}}},281844:(e,t,i)=>{i.d(t,{z:()=>n});var s=i(104076);function n(e){return(0,s.jsxs)("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa",children:[e.title&&(0,s.jsx)("div",{className:"metadata_section--subheader--Zk7ID",children:e.title}),(0,s.jsx)("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e.children})]})}},293972:(e,t,i)=>{i.d(t,{Y:()=>u,t:()=>m});var s=i(104076),n=i(716976);i(120440);var r=i(280350),o=i(911990),a=i(252836),l=i(759827),c=i(789765),d=i(721917);function u({resource:e}){let[t,i]=n.useState(!1),c=(0,a.T)();return(0,s.jsxs)(o.Y,{width:"100%",direction:"vertical",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto",children:[(0,s.jsx)(l.Gm,{resource:e,hasScrolled:t,layout:"twoColumn"}),(0,s.jsx)(d.U6,{resource:e}),(0,s.jsx)(r.a,{onIntersectionChange:e=>{if(c)return;let t=e.boundingClientRect.top<0;i(!e.isIntersecting&&t)}})]})}function m({resource:e,rdpImpressionId:t,category:i}){return(0,s.jsxs)("div",{className:"xm7qw2c x1tudf5h x1m2p0i2 x4i7bpe x1sgudl8 x10im51j xvueqy4",children:[i&&(0,s.jsx)(c.X,{category:i,rdpImpressionId:t}),(0,s.jsx)(u,{resource:e})]})}},609910:(e,t,i)=>{i.d(t,{d:()=>s});let s=i(404846).d},187204:(e,t,i)=>{i.d(t,{A:()=>_});var s=i(104076),n=i(140490),r=i(390036),o=i(652539),a=i(192075),l=i(713280),c=i(15329),d=i(596224),u=i(42982),m=i(379561);let _=(0,n._)(function({resource:e,resourceContent:t,viewContext:n,disableLikeButton:_=!1,hideResourceType:v=!1,ctaDisabledMessage:f}){let y=e.like_count>0,g=(0,c.mk)(e)>0,b=(0,l.W)(t.id,(0,d.Vm)(t),!(0,d.Sv)(e)),j=(0,l.B)(e.id,(0,d.Sv)(e)),w=(0,d.Sv)(e)?j.data?.[0]:b.data?.[0],T=(0,d.Sv)(e)?j.data?.[1]:b.data?.[1],I=i(242681).w(e,!!w,T||null,n||"")(),C=(0,s.jsx)("div",{className:u.If,children:(0,a.tx)("community.detail_view.bullet_point")});return(0,s.jsxs)("div",{className:u.M1,"data-testid":"resource-header-stats",children:[!v&&(0,s.jsx)("div",{children:(0,c.c8)(e)}),y&&(0,s.jsxs)(s.Fragment,{children:[!v&&C,(0,s.jsx)("button",{onClick:e=>{_||I(e)},children:w?h:p}),(0,s.jsx)("div",{className:u.lp,children:(0,r.$M)(e.like_count)})]}),g&&(0,s.jsxs)(s.Fragment,{children:[C,(0,s.jsx)(o.B,{dataTestId:"usage-icon",svg:m.A}),(0,s.jsx)("div",{className:u.lp,children:(0,a.tx)("community.detail_view.number_of_users",{numberOfUsers:(0,r.$M)((0,c.mk)(e))})})]}),!!f&&(0,s.jsxs)(s.Fragment,{children:[(!v||y||g)&&C,(0,s.jsx)("div",{className:u.E7,children:f})]})]})},"ResourceHeaderStats"),p=(0,s.jsx)("svg",{"data-testid":"like-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99988 4.5L7.3254 3.96042C6.28613 3.129 4.78791 3.21198 3.84681 4.15308C2.82678 5.17311 2.82678 6.8269 3.84681 7.84693L7.99988 12L12.153 7.84693C13.173 6.8269 13.173 5.17311 12.153 4.15308C11.2119 3.21198 9.71364 3.129 8.67437 3.96042L7.99988 4.5ZM7.99988 10.5858L11.4459 7.13982C12.0754 6.51032 12.0754 5.48969 11.4459 4.86018C10.8651 4.27939 9.94044 4.22818 9.29906 4.74129L7.99988 5.78063L6.70071 4.74128C6.05933 4.22818 5.13471 4.27939 4.55391 4.86018C3.92441 5.48969 3.92441 6.51032 4.55392 7.13982L7.99988 10.5858Z",fill:"black"})}),h=(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,s.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,s.jsx)("path",{d:"M3.84693 7.84693L8 12L12.1531 7.84692C13.1731 6.8269 13.1731 5.1731 12.1531 4.15308C11.212 3.21198 9.71375 3.129 8.67448 3.96041L8 4.5L7.32552 3.96041C6.28625 3.129 4.78802 3.21198 3.84692 4.15308C2.8269 5.1731 2.8269 6.8269 3.84693 7.84693Z",fill:"#F24822"})]})},552069:(e,t,i)=>{i.d(t,{Xp:()=>$,WK:()=>H});var s=i(104076),n=i(716976),r=i(951002),o=i(684742),a=i(419822),l=i(795033);i(120440);var c=i(776111),d=i(883765),u=i(265149),m=i(192075),_=i(580910),p=i(298745),h=i(813480),v=i(569336),f=i(444423),y=i(596224),g=i(792028),b=i(488565),j=i(596370),w=i(125746),T=i(1243),I=i(511570),C=i.n(I),N=i(659062),E=i(76635),k=i(766173);function L({thumbnailUrls:e,altText:t,size:i,tileAspectRatio:o="16 / 9"}){let a=0;e.length>12&&(a=e.length-12,e=e.slice(0,12));let l=n.useMemo(()=>{let[t,i]=e.length>8?[4,3]:e.length>4?[4,2]:[2,2];return N.sx.add({gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`}).$},[e.length]),c=n.useMemo(()=>{switch(i){case"thumbnail":return"grid_view--carouselGridViewThumbnail--VQ4Aa grid_view--carouselGridView--kG9U6";case"hero":return"grid_view--carouselGridViewHero--fJM2n grid_view--carouselGridView--kG9U6 text--fontNeg20--h0WuY text--_fontBase--QdLsd text--_negText--j9g-L";case"fullscreen_hero":return"grid_view--carouselGridViewFullscreenHero--wJryP grid_view--carouselGridView--kG9U6 text--fontNeg40--v1X92 text--_fontBase--QdLsd text--_negText--j9g-L";default:(0,r.xb)(i)}},[i]),d=n.useMemo(()=>N.sx.if(!!o,{aspectRatio:o}).$,[o]);return(0,s.jsx)("div",{className:C()("grid_view--carouselGridViewContainer--LoaLV",{[k.mH]:"fullscreen_hero"===i}),children:(0,s.jsx)("div",{"aria-label":t,style:l,className:c,children:e.map((e,t,n)=>(0,s.jsxs)("div",{style:d,"aria-hidden":!0,className:"grid_view--carouselGridImageContainer--e2OUP",children:[(0,s.jsx)("img",{src:e,draggable:!1}),"thumbnail"!==i&&t===n.length-1&&a>0&&(0,s.jsx)("div",{className:"grid_view--overflowThumbnailCount--2YPuu",children:(0,s.jsx)("span",{children:`+${a}`})})]},e))})})}var R=i(232120),S=i(501950);let A="hero--heroImagePreviewButton--x5dcp",P="hero--lightboxButton--5mIOs";function O({children:e,showLetterbox:t=!1,showPreviewButton:i=!1,previewInBrowserUrl:r}){let o=n.useRef(null),[a,c]=(0,l.fp)(T.Q);n.useEffect(()=>{let e=o.current;if(e){let t=e=>{"Escape"===e.key&&c(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[c]);let d=i&&r?(0,s.jsx)("a",{href:r,target:"_blank",children:(0,s.jsxs)("div",{className:A,children:[(0,s.jsx)(R.V,{}),(0,m.tx)("community.embed.preview_title")]})}):i?(0,s.jsxs)("div",{className:A,children:[(0,s.jsx)(S.X,{}),(0,m.tx)("community.embed.preview_title")]}):(0,s.jsx)("div",{className:"hero--heroImageFullScreenIcon--Mn7mU",children:(0,s.jsx)(_.In,{icon:"full-screen-enter-32",fill:"menu"})});return(0,s.jsxs)("div",{ref:o,className:t?"hero--heroImageWrapperWithLetterbox--68M0e hero--heroImageWrapper--Tr0mE":"hero--heroImageWrapper--Tr0mE",onClick:()=>{r||c(!0)},role:"button",tabIndex:-1,children:[(0,s.jsx)("div",{className:"hero--heroImage--fwiPW","data-testid":"rdp-carousel-hero",children:e}),d]})}function M({children:e,is16to9AspectRatio:t}){let[i,n]=(0,l.fp)(T.Q),r=e=>{e.stopPropagation(),n(!1)};return i?(0,s.jsx)("div",{className:"hero--modalBackground--zjoAE",onClick:r,role:"button",tabIndex:-1,children:(0,s.jsxs)("div",{className:t?"hero--rdpImageCloseupModal--7mxym":"hero--rdpImageCloseupModal2to1AspectRatio---JVP8 hero--rdpImageCloseupModal--7mxym",onClick:r,role:"button",tabIndex:-1,children:[e,(0,s.jsx)("div",{className:"hero--heroImageExitFullScreenIcon--OjJSh hero--heroImageFullScreenIcon--Mn7mU",children:(0,s.jsx)(_.In,{icon:"full-screen-exit-32",fill:"menu"})})]})}):null}function B({children:e,currentIndex:t,totalItems:i,onPrev:r,onNext:o,onRestart:a,imageAspectRatio:c="16 / 9",showLetterbox:d=!1}){let u=n.useRef(null),p=n.useRef(null),h=n.useMemo(()=>0===t,[t]),v=n.useMemo(()=>t===i-1,[t,i]),[f,y]=(0,l.fp)(T.Q),g=n.useCallback(()=>{p.current?.focus({preventScroll:!0})},[]);n.useEffect(()=>{let e=u.current;if(f&&e){g();let t=e=>{"ArrowLeft"===e.key?r():"ArrowRight"===e.key?o():"Escape"===e.key&&y(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[g,o,r,y,f]);let b=n.useCallback(e=>{e.stopPropagation(),y(!1)},[y]),j=n.useMemo(()=>N.sx.if(!!c,{aspectRatio:c}).$,[c]);return f?(0,s.jsxs)("div",{ref:u,className:"hero--lightboxContainer--c8JpB hero--modalBackground--zjoAE",children:[(0,s.jsx)("div",{className:"hero--lightboxTopRow---zayD",children:(0,s.jsx)("button",{onClick:b,className:P,children:(0,s.jsx)(_.In,{icon:"x-32",fill:"menu"})})}),(0,s.jsxs)("div",{className:"hero--lightboxMediumRow---Gopf",onBlur:g,children:[(0,s.jsx)("button",{className:P,disabled:h,onClick:r,children:(0,s.jsx)(_.In,{icon:"chevron-left-32",fill:h?"menu-disabled":"menu"})}),(0,s.jsx)("div",{ref:p,style:j,className:d?"hero--lightboxHeroImageWithLetterbox--0kTBx hero--lightboxHeroImage--3orhF":"hero--lightboxHeroImage--3orhF",role:"button",tabIndex:0,onClick:v?a:o,children:d?(0,s.jsx)("div",{className:"hero--lightboxHeroImageWithLetterboxInnerContainer--buJug",children:e}):e}),(0,s.jsx)("button",{className:P,disabled:v,onClick:o,children:(0,s.jsx)(_.In,{icon:"chevron-right-32",fill:v?"menu-disabled":"menu"})})]}),(0,s.jsx)("div",{className:"hero--lightboxBottomRow--wnrYI",children:(0,s.jsxs)("div",{className:"hero--lightboxControlsContainer--9MZdh",children:[(0,s.jsxs)("button",{className:"hero--lightboxControlsRestartButton--mVitF hero--lightboxControlsButton--Ve597 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",disabled:h,onClick:a,children:[(0,s.jsx)(_.In,{icon:"return-32",fill:h?"menu-disabled":"menu"}),(0,m.tx)("community.resource_page.media_carousel.restart")]}),(0,s.jsx)("button",{className:"hero--lightboxControlsButton--Ve597",disabled:h,onClick:r,children:(0,s.jsx)(_.In,{icon:"navigate-back-32",fill:h?"menu-disabled":"menu"})}),(0,s.jsx)("span",{className:"hero--lightboxProgressIndicator--w-JVT text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:`${t+1} / ${i}`}),(0,s.jsx)("button",{className:"hero--lightboxControlsButtonMirrored--8Ljmt hero--lightboxControlsButton--Ve597",disabled:v,onClick:o,children:(0,s.jsx)(_.In,{icon:"navigate-back-32",fill:v?"menu-disabled":"menu"})})]})})]}):null}var D=i(459639),F=i(422529);let W=n.forwardRef(({index:e,selectedIndex:t,onClick:i,children:n},r)=>(0,s.jsx)("div",{ref:r,role:"button",tabIndex:e,onClick:i,className:e===t?"thumbnail--carouselThumbnailSelected--htIXX thumbnail--carouselThumbnailBase--WdkqA":"thumbnail--carouselThumbnail--Gr5mS thumbnail--carouselThumbnailBase--WdkqA",children:n}));function U({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:i,altText:n,isVideo:r}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.F5,{thumbnailUrl:e,resourceId:i,altText:n,thumbnailContext:w.O7.DETAIL,resizedThumbnailUrls:t}),r&&(0,s.jsx)("div",{className:"thumbnail--carouselThumbnailOverlayForVideo--pfKHV",children:(0,s.jsx)(F.p,{})})]})}function V(e){let t=(0,y.Sv)(e)?e.name:(0,v.qD)(e).name;return`${t} preview`}function $({resource:e,is16to9AspectRatio:t}){let i=(0,y.Sv)(e)?(0,y.qY)(e):e,a=n.useRef(null),g=n.useRef(null),[j,I]=n.useState(!1),[C,N]=n.useState(0),[R,S]=n.useState(!1),[A,P]=n.useState(!0),$=n.useMemo(()=>(0,v.N6)(e),[e]),H=function(e,t,i=!1){let s=(0,E.fq)((0,y.cX)(e)?y.eO(e)?.library_key:void 0);return n.useMemo(()=>{let e=void 0===s,n=e?t:s.length;if(n<=1)return[];let r=i?function(e){let t=e,i=[];for(;t>16;)i.push(12),t-=12;return t>12&&(i.push(8),t-=8),t>0&&i.push(t),i}(n):[n],o=[];return r.reduce((t,i)=>{let n=e?[]:s.slice(t,t+i);return o.push({type:"grid",thumbnailUrls:n}),t+i},0),o},[i,t,s])}(e,$.length),Q=n.useMemo(()=>[...H,...$],[$,H]),z=n.useRef([]);n.useEffect(()=>{N(H.length)},[H.length,e]);let Y=n.useCallback(()=>{a.current&&I(a.current.scrollWidth>a.current.clientWidth)},[]);n.useEffect(Y,[Y,Q.length]),(0,u.wY)(a,Y);let q=n.useCallback(()=>{let e=a.current,t=z.current[Q.length-1];if(e&&t){let i=e.getBoundingClientRect(),s=t.getBoundingClientRect();S(e.scrollLeft>0),P(Math.abs(s.right-i.right)>1)}},[Q.length]);n.useEffect(()=>{let e=a.current,t=z.current[C];if(e&&t){let i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),n=(()=>{let e=parseInt(k.lp)/2+parseInt(k.v$),t=0===C,n=i.left+(t?0:e);if(s.left<n)return s.left-n;let r=C===Q.length-1,o=i.right-(r?0:e);return s.right>o?s.right-o:0})();(0,c.Lg)()||0===n||e.scrollBy({left:n,behavior:"smooth"})}},[Q.length,C]);let X=n.useCallback(()=>{N(e=>Math.max(0,e-1))},[]),Z=n.useCallback(()=>{N(e=>Math.min(Q.length-1,e+1))},[Q.length]),J=n.useCallback(()=>{N(0)},[]),[K,ee]=(0,l.fp)(T.Q);n.useEffect(()=>{let e=g.current;if(!K&&e){z.current[C]?.focus({preventScroll:!0});let t=e=>{let t=!0;"ArrowLeft"===e.key?X():"ArrowRight"===e.key?Z():"Enter"===e.key?ee(!0):t=!1,t&&e.preventDefault()};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[Z,X,C,ee,K]);let et=(0,p.Jm)(),ei=(0,v.z$)(e),es=(0,y.cX)(e),en=(0,y.tv)(e),er=(0,y.ZA)(e),eo=(0,h.a)({isSitesTemplate:er,resourceContentId:i.id,publishedSiteUrl:y.eO(i)?.published_site_url});if(ei===b.Z4.EMBED||0===Q.length)return(0,s.jsx)(G,{resource:e,heroType:ei,is16to9AspectRatio:t});let ea=C<Q.length?Q[C]:Q[0],el=Object.keys(Q).length>1;return(0,s.jsxs)(s.Fragment,{children:[function(n){let o=V(e);switch(n.type){case"image":let[a,l]=(0,D.P)(n);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O,{showLetterbox:es,showPreviewButton:es||er||!!eo,previewInBrowserUrl:eo,children:en?(0,s.jsx)(f.Q,{src:a,loading:"lazy",alt:o,draggable:!1,crossOrigin:"use-credentials"}):(0,s.jsx)(D.F5,{thumbnailUrl:a,resourceId:e.id,altText:o,thumbnailContext:w.O7.DETAIL,resizedThumbnailUrls:l})}),es?(0,s.jsx)(B,{currentIndex:C,totalItems:Q.length,onPrev:X,onNext:Z,onRestart:J,showLetterbox:es,children:(0,s.jsx)(D.ru,{thumbnailUrl:a,altText:o,resourceId:e.id})}):(0,s.jsx)(M,{is16to9AspectRatio:t,children:en?(0,s.jsx)(f.Q,{src:a,loading:"lazy",alt:o,draggable:!1,crossOrigin:"use-credentials"}):(0,s.jsx)(D.ru,{thumbnailUrl:a,altText:o,resourceId:e.id})})]});case"video":return(0,s.jsx)("div",{className:"hero--heroVideo--XAdfp hero--heroImage--fwiPW",children:(0,s.jsx)(F.A,{src:(0,D.Mf)(n,i),fallbackSrc:n.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,d.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,y.Vm)(i),searchSessionId:et})}})});case"grid":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O,{showPreviewButton:es||er||!!eo,previewInBrowserUrl:eo,children:(0,s.jsx)(L,{thumbnailUrls:n.thumbnailUrls,altText:o,size:"hero"})}),es?(0,s.jsx)(B,{currentIndex:C,totalItems:Q.length,onPrev:X,onNext:Z,onRestart:J,children:(0,s.jsx)(L,{thumbnailUrls:n.thumbnailUrls,altText:o,size:"fullscreen_hero"})}):(0,s.jsx)(M,{is16to9AspectRatio:t,children:(0,s.jsx)(L,{thumbnailUrls:n.thumbnailUrls,altText:o,size:"fullscreen_hero"})})]});default:(0,r.xb)(n)}}(ea),el&&(0,s.jsxs)("div",{ref:g,className:k.xW,"data-testid":"rdp-carousel-thumbnails",children:[(0,s.jsx)("div",{ref:a,className:j?k.UY:k.Ec,onScroll:q,children:Object.values(Q).map(function(t,n){let o=null,a=V(e);if("image"===t.type||"video"===t.type){let[i,n]=(0,D.P)(t);o=(0,s.jsx)(U,{thumbnailUrl:i,resizedThumbnailUrls:n,resourceId:e.id,altText:a,isVideo:"video"===t.type})}else"grid"===t.type?o=(0,s.jsx)(L,{thumbnailUrls:t.thumbnailUrls,altText:a,size:"thumbnail"}):(0,r.xb)(t);return(0,s.jsx)(W,{ref:e=>{z.current[n]=e},index:n,selectedIndex:C,onClick:()=>{N(n),(0,d.sx)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:n,media_type:t.type,resouce_type:(0,y.Vm)(i),searchSessionId:et})},children:o},n)})}),j&&R&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:k.sp}),(0,s.jsx)(o.E,{"aria-label":(0,m.t)("community.detail_view.previous_item"),className:k.T9,htmlAttributes:{tabIndex:-1},onClick:X,children:(0,s.jsx)(_.In,{icon:"chevron-left-32"})})]}),j&&A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:k.jp}),(0,s.jsx)(o.E,{"aria-label":(0,m.t)("community.detail_view.next_item"),className:k.aT,htmlAttributes:{tabIndex:-1},onClick:Z,children:(0,s.jsx)(_.In,{icon:"chevron-right-32"})})]})]})]})}function G({resource:e,heroType:t,is16to9AspectRatio:i}){let n=(0,y.Sv)(e)?(0,y.qY)(e):e,r=(0,y.ZA)(e),o=(0,h.a)({isSitesTemplate:r,resourceContentId:n?.id,publishedSiteUrl:y.eO(n)?.published_site_url});if(t!==b.Z4.EMBED){let t=e.thumbnail_url??void 0,n=(0,y.Sv)(e)?e.thumbnail_src_set:(0,g.U)(e)&&e.resized_thumbnail_urls,a=(0,y.cX)(e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O,{showPreviewButton:a||r||!!o,previewInBrowserUrl:o,children:(0,s.jsx)(D.F5,{thumbnailUrl:t,resourceId:e.id,altText:V(e),thumbnailContext:w.O7.DETAIL,resizedThumbnailUrls:n||void 0})}),(0,s.jsx)(M,{is16to9AspectRatio:i,children:(0,s.jsx)(D.ru,{thumbnailUrl:t,altText:V(e),resourceId:e.id})})]})}return n?(0,s.jsx)("div",{className:k.Wf,"data-testid":"rdp-embed",children:(0,s.jsx)(j.A,{enableEmbedOnSmallScreens:!0,resource:n})}):null}function H(){return(0,s.jsx)(O,{children:(0,s.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 xh8yej3 x5yr21d",children:(0,s.jsx)(a.k,{})})})}},1243:(e,t,i)=>{i.d(t,{Q:()=>s});let s=(0,i(795033).eU)(!1)},459639:(e,t,i)=>{i.d(t,{F5:()=>p,Mf:()=>v,P:()=>_,ru:()=>h});var s=i(104076);if(443==i.j)var n=i(276800);var r=i(511570),o=i.n(r),a=i(246144),l=i(816565),c=i(596224),d=i(636350),u=i(125746),m=i(766173);function _(e){return["video"===e.type?e.thumbnail_url:e.url,"image"===e.type&&"resized_thumbnail_urls"in e?e.resized_thumbnail_urls:void 0]}function p({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:i,altText:r,thumbnailContext:c,isMobileCarousel:_}){let p;return e&&t?p=(0,s.jsx)(u.Sl,{className:o()(m.mH,{[m.zn]:_}),image:e,onLoad:n.lQ,hubFileId:i,alt:r,thumbnailContext:c,resizedThumbnailUrls:t}):e?p=(0,s.jsx)(l.oW,{className:o()(m.mH,{[m.zn]:_}),src:e,loading:"lazy",alt:r,draggable:!1,onError:()=>{(0,a.x1)("community","Failed to load hero image on resource detail page",{resourceId:i,image:e})}}):((0,a.xi)("community","Missing hero image on resource detail page",{resourceId:i}),p=(0,s.jsx)(d.Ek,{})),(0,s.jsx)("div",{className:m.G8,children:p})}function h({thumbnailUrl:e,altText:t,resourceId:i}){return(0,s.jsx)(l.oW,{className:m.mH,src:e,loading:"lazy",alt:t,draggable:!1,onError:()=>{(0,a.x1)("community","Failed to load hero image closeup on resource detail page",{thumbnailUrl:e,resourceId:i})}})}function v(e,t){return(0,c.YI)(t)?`/api/plugins/${t.id}/videos/${e.video_file_uuid}/manifest`:(0,c.$3)(t)?`/api/widgets/${t.id}/videos/${e.video_file_uuid}/manifest`:null}},981232:(e,t,i)=>{i.d(t,{f:()=>R,i:()=>k});var s=i(104076),n=i(638004),r=i(998987),o=i(341836),a=i(572522),l=i(511570),c=i.n(l),d=i(550209),u=i(816565),m=i(579793),_=i(957581),p=i(298745),h=i(569336),v=i(444423),f=i(15329),y=i(596224),g=i(292168),b=i(111297),j=i(611373),w=i(242245),T=i(396597),I=i(593940),C=i(51820);let N="resource_tile--extensionEditorIcon--kZpTa resource_tile--templateEditorIcon--8SNng";var E=i(424579);function k({resource:e,isSelected:t}){let i=null,r=(0,y.Vm)(e);return[g.vt.DESIGN_TEMPLATE,g.vt.FIGJAM_TEMPLATE,g.vt.PROTOTYPE,g.vt.SLIDE_TEMPLATE,g.vt.UI_KIT,g.vt.SITE_TEMPLATE,g.vt.FIGMAKE_TEMPLATE,g.vt.OAUTH_APP].includes(r)?e.thumbnail_url?i=(0,s.jsx)(m.c,{srcSet:(0,h.B2)(e),src:e.thumbnail_url,image_type:v.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:e.name,imageProps:{loading:"lazy",className:"resource_tile--thumbnailImage--RJCYv"}}):(0,d.$D)(n.e.COMMUNITY,Error(`ResourceTileImage: resource #${e.id} has no thumbnail_url`)):r===g.vt.COOPER_TEMPLATE_FILE?e.thumbnail_url?i=(0,s.jsx)(v.Q,{src:e.thumbnail_url,loading:"lazy",alt:e.name,draggable:!1,crossOrigin:"use-credentials"}):(0,d.$D)(n.e.COMMUNITY,Error(`ResourceTileImage: resource #${e.id} has no thumbnail_url`)):[g.vt.PLUGIN,g.vt.WIDGET].includes(r)&&(e.icon_url?i=(0,s.jsxs)("div",{className:"resource_tile--iconWrapper--K9Ds6",children:[(0,s.jsx)(u.oW,{className:c()({"resource_tile--pluginIcon--jtOsZ":r===g.vt.PLUGIN,"resource_tile--widgetIcon--G6Tsn":r===g.vt.WIDGET}),alt:e.name,src:e.icon_url,loading:"lazy"}),r===g.vt.PLUGIN&&(0,s.jsx)("div",{className:"resource_tile--pluginTaglineOrDescription--kfqm7 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,f.G8)(e)})]}):(0,d.$D)(n.e.COMMUNITY,Error("ResourceTileImage: resource has no icon_url"))),(0,s.jsx)("div",{className:"resource_tile--aspectRatioContainer--61bXu",children:(0,s.jsxs)("div",{className:c()("resource_tile--resourceTileImageContainer--s9lq8",{"resource_tile--selectedResourceTileImageContainer--aRRdF":t}),children:[r===g.vt.PROTOTYPE&&(0,s.jsx)(_.t,{svg:E.A,className:"resource_tile--prototypeIcon--sQEUY",useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:E.A}),i]})})}function L({resource:e}){return[g.vt.DESIGN_TEMPLATE,g.vt.FIGJAM_TEMPLATE,g.vt.SLIDE_TEMPLATE,g.vt.PROTOTYPE,g.vt.COOPER_TEMPLATE_FILE,g.vt.COOPER_TEMPLATE_ASSET,g.vt.SITE_TEMPLATE,g.vt.UI_KIT].includes(e.resource_type)?(0,s.jsx)("div",{className:"resource_tile--templateEditorIcon--8SNng",children:(0,s.jsx)(j.dn,{editorType:e.editor_types[0]})}):e.resource_type===g.vt.PLUGIN?(0,s.jsx)("div",{className:N,children:(0,s.jsx)(r.m,{style:{"--color-icon":"white"}})}):e.resource_type===g.vt.WIDGET?(0,s.jsx)("div",{className:N,children:(0,s.jsx)(o.B,{style:{"--color-icon":"white"}})}):e.resource_type===g.vt.FIGMAKE_TEMPLATE?(0,s.jsx)("div",{className:N,children:(0,s.jsx)(a.p,{style:{"--color-icon":"white"}})}):null}function R({resource:e,onIntersectionChange:t,isMetaHidden:i,index:n,onClickTracking:r}){let o=(0,p.Jm)(),{name:a}=(0,b.j6)(),l=(0,p.BY)();return(0,s.jsxs)("div",{className:"resource_tile--resourceTile--SiKPd","data-testid":"community-resource-tile",children:[(0,s.jsx)(w.a,{callback:e=>{e[0]&&t(e[0])}}),(0,s.jsxs)(C.A6,{to:(0,h.VJ)({resource:e})||e.rdp_url,onClick:()=>{r?r(e):(0,f.cB)(e.resource_type,e.id,n,o,l,a)},className:"resource_tile--resourceTileLink--6Aeyd",children:[(0,s.jsx)(k,{resource:e}),(0,s.jsx)(L,{resource:e}),!i&&(0,s.jsx)(I.Mr,{resource:e,showMonetizationBadge:!1})]}),!i&&(0,s.jsx)(T.my,{resource:e})]})}},933613:(e,t,i)=>{i.d(t,{A:()=>b});var s=i(104076),n=i(88314),r=i(511570),o=i.n(r),a=i(106072),l=i(236631),c=i(596224),d=i(593940),u=i(284467);function m(){return(0,s.jsxs)("div",{className:l.s.flex.flexColumn.gap12.$,"data-testid":"resource-loading-tile",children:[(0,s.jsx)("div",{className:"resource_loading_tile--loadingImageWrapper--J9BDB",children:(0,s.jsx)(u.Qp,{className:"resource_loading_tile--loadingImage--yFmKa",animationType:u.JR.NO_SHIMMER})}),(0,s.jsxs)("div",{className:l.s.flex.flexColumn.gap4.$,children:[(0,s.jsx)(u.Wi,{className:"resource_loading_tile--loadingTitleText--osfVq",animationType:u.JR.NO_SHIMMER}),(0,s.jsx)(u.Wi,{className:"resource_loading_tile--loadingSubTitleText--B4vzW",animationType:u.JR.NO_SHIMMER})]})]})}var _=i(981232),p=i(404343);let h="resource_tile_group--resourceTileGroup--gpDUh",v="resource_tile_group--resourceTileGroupCarousel--Cy8Oc",f="resource_tile_group--carouselCardWrapper--xwpG5";function y({showCarousel:e,loadingTileCount:t}){return(0,s.jsx)(s.Fragment,{children:(0,n.y1)(t).map(t=>(0,s.jsx)("div",{className:o()({[f]:e},l.s.p1.$),children:(0,s.jsx)(m,{},t)},t))})}function g({resources:e,showCarousel:t,onIntersectionChange:i,onClickTracking:n}){return(0,s.jsx)(s.Fragment,{children:e.map((e,r)=>(0,s.jsx)("div",{className:o()({[f]:t},l.s.p1.$),children:(0,c.NC)(e)?(0,s.jsx)(_.f,{resource:e,index:r,onIntersectionChange:t=>i(e,t.isIntersecting),subView:"communityHomepage",onClickTracking:n}):(0,s.jsx)(d.fz,{resource:e,index:r,onIntersectionChange:t=>i(e,t.isIntersecting),subView:"communityHomepage"})},e.id))})}function b({resources:e,maxGridDim:t,mobileMaxGridDim:i={rows:1},onIntersectionChange:n,mobileBreakpoint:r=p.ikM,xScrollLocked:l=!0,isLoading:c,loadingTileCount:d=6,skipResourceLimit:u=!1,onClickTracking:m}){let _=(0,a.N)(`(max-width: ${r})`),{rows:f,cols:b}=_&&i?i:t,j=c?d:e.length;if(!j)return null;b&&!f?f=Math.floor(j/b):f&&!b&&(b=Math.floor(j/f));let w=(b=b||1)*(f=f||1);j<w&&(f=Math.ceil(j/b),w=b*f);let T=u?e:e.slice(0,w),I=!!(_&&b&&b>1);if(l)return(0,s.jsx)("div",{className:o()(h,{[v]:I}),style:{gridTemplateColumns:I?`repeat(${b}, 1fr)`:`repeat(${b}, minmax(0, 1fr))`},"data-testid":"resource-tile-group",children:c?(0,s.jsx)(y,{showCarousel:I,loadingTileCount:w}):(0,s.jsx)(g,{resources:T,showCarousel:I,onIntersectionChange:n,onClickTracking:m})});let C=T.reduce((e,t,i)=>{Math.floor(i/b)>e.length-1&&e.push([]);let s=e[e.length-1];return s&&s.push(t),e},[]);return(0,s.jsx)("div",{className:"resource_tile_group--nestedResourceTileGroup--PFO-3",children:C.slice(0,f).map((e,t)=>(0,s.jsx)("div",{className:o()(h,{[v]:I}),style:{gridTemplateColumns:`repeat(${b}, 1fr)`,gridTemplateRows:"1"},"data-testid":"resource-tile-group",children:c?(0,s.jsx)(y,{showCarousel:I,loadingTileCount:b}):(0,s.jsx)(g,{resources:e,showCarousel:I,onIntersectionChange:n,onClickTracking:m})},t))})}},624523:(e,t,i)=>{i.d(t,{e:()=>y});var s=i(104076),n=i(716976);if(443==i.j)var r=i(419822);if(443==i.j)var o=i(293422);if(443==i.j)var a=i(684742);if(443==i.j)var l=i(700411);if(443==i.j)var c=i(751309);if(443==i.j)var d=i(247187);if(443==i.j)var u=i(232120);var m=i(120440),_=i(192075),p=i(329066),h=i(15329),v=i(596224);let f={container:{kzqmXN:"xh8yej3",kaIpWk:"x19y5rnk",kVQacm:"xb3r6kr",kMzoRj:"xmkeg23",ksu8eU:"x1y0btm7",kVAM5u:"x7z60cl",kVAEAm:"x1n2onr6",$$css:!0}};function y({src:e,onLoad:t,onError:i,resource:y,resourceContent:g,showPreviewButton:b=!0,showReloadButton:j=!0,additionalStyles:w,onMouseEnter:T,onMouseLeave:I}){let[C,N]=n.useState(!0),[E,k]=n.useState(!1),[L,R]=n.useState(0),S=n.useRef(null),A=(0,h.K2)(y),P=(0,p.CW)(p.P1.RELOAD),O=(0,p.CW)(p.P1.OPEN_NEW_TAB),M=n.useCallback(()=>{N(!1),k(!1),t?.()},[t]),B=n.useCallback(()=>{N(!1),k(!0),i?.(Error(`Failed to load site preview: ${e}`))},[e,i]),D=n.useCallback(()=>{N(!0),k(!1),R(e=>e+1),y&&g&&P(y.id,(0,v.Vm)(g))},[y,g,P]),F=n.useCallback(()=>{y&&g&&O(y.id,(0,v.Vm)(g))},[y,g,O]);return n.useEffect(()=>{N(!0),k(!1)},[e]),(0,s.jsxs)("div",{...m.xk(f.container,w),children:[C&&!E&&(0,s.jsx)("div",{className:"x10l6tqk x13vifvy xu96u03 xh8yej3 x5yr21d x78zum5 x6s0dn4 xl56j7k x1v8gsql",children:(0,s.jsx)(r.k,{size:"lg"})}),E?(0,s.jsx)("div",{className:"x1v8gsql xh8yej3 x5yr21d x78zum5 x6s0dn4 xl56j7k",children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1i71x30 x2b8uid",children:[(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj x1n0bwc9",children:[(0,s.jsx)(c.B,{}),(0,s.jsx)("span",{children:(0,_.t)("community.site_preview.error_message")})]}),(0,s.jsx)(o.$n,{variant:"secondary",onClick:D,children:(0,_.t)("community.site_preview.retry")})]})}):(0,s.jsxs)("div",{className:"xh8yej3 x5yr21d",children:[(0,n.createElement)("iframe",{...{0:{className:"xh8yej3 x5yr21d xc342km xng3xce x9r1u3d xg01cxk xk82a7y"},1:{className:"xh8yej3 x5yr21d xc342km xng3xce x9r1u3d xk82a7y x1hc1fzr"}}[!!(!C&&!E)<<0],key:L,ref:S,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy",onError:B,onLoad:M,onMouseEnter:T,onMouseLeave:I,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-presentation allow-top-navigation-by-user-activation",src:e,title:A??void 0}),j&&(0,s.jsx)(a.E,{"aria-label":(0,_.t)("community.site_preview.reload"),onClick:D,className:"x1ypdohk x19y5rnk xz16r55 xsqpjig xn0whsw x78zum5 x6s0dn4 xl56j7k x1jnr06f x2lah0s x10l6tqk x191j7n5 x1qpfodn x100vrsf x1vqgdyp x1mh6rdz",children:(0,s.jsx)(d.T,{})}),b&&(0,s.jsxs)(l._,{newTab:!0,href:e,onClick:F,className:"x1ypdohk x19y5rnk xz16r55 xsqpjig xn0whsw x78zum5 x6s0dn4 xl56j7k x1jnr06f x2lah0s x10l6tqk x191j7n5 xn5hqff x10w6t97 xo9t39a",children:[(0,s.jsx)(u.V,{}),(0,_.t)("community.site_preview.preview")]})]})]})}},932880:(e,t,i)=>{i.d(t,{l:()=>N});var s=i(104076),n=i(716976),r=i(903927),o=i(883765),a=i(106072),l=i(192075),c=i(853314),d=i(254663),u=i(994174),m=i(972500),_=i(296706),p=i(15329),h=i(292168),v=i(366535),f=i(845945),y=i(244205),g=i(111297),b=i(477156),j=i(592726),w=i(210954),T=i(349311),I=i(252836),C=i(815991);function N({resource:e,enableWideButtonForStickyFooter:t}){let i=(0,b.IE)(e),N=(0,r.wA)(),E=(0,a.N)(`(max-width: ${f.YW}px)`),k=(0,I.T)(),L=(0,j.iZ)(),R=(0,n.useCallback)(()=>{if(E){N((0,v.to)({type:d.s,data:{dispatch:N,editorType:w.LE.SLIDES}}));return}let t=c.u5(e=>{(0,o.sx)("try_it_out_drafts_picker_menu_opened",i),N((0,v.to)({type:m._,data:{payload:e}}))},{skipWorkspaceSelection:k,userId:L?.id});N(t(e))},[N,e,i,E,k,L]),S=(0,_.vQ)(),A=(0,p.X_)(h.vt.SLIDE_TEMPLATE),P=(0,s.jsx)("div",{"data-testid":"slide-template-use-button",className:C.nu,children:(0,s.jsx)("div",{className:C.uD,children:A})});if(!S){let e=(0,l.t)("community.use_slide_template.disabled_tooltip");return(0,s.jsx)(g.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:y.c.SLIDE_TEMPLATE_USE_BUTTON,...i,isEnabled:!1},children:(0,s.jsx)("div",{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":e,"data-tooltip-show-immediately":!0,children:P})})}return(0,s.jsx)(g.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:y.c.SLIDE_TEMPLATE_USE_BUTTON,...i,isEnabled:!0},children:(0,s.jsx)(u.Q,{buttonText:A,onClick:R,useNoIconStyle:!0,editorType:w.LE.SLIDES,enableWideButtonForStickyFooter:t,dataTestId:"slide-template-use-button"})})}},765641:(e,t,i)=>{i.d(t,{_:()=>m,u:()=>_});var s=i(104076),n=i(716976),r=i(684742),o=i(78468),a=i.n(o),l=i(822900),c=i(192075),d=i(845945);let u="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function m({description:e}){let t=n.useRef(null);return n.useEffect(()=>{if(!t.current)return;let i=document.createElement("div");i.innerHTML=a().sanitize(e);let s=d.Ep.map(e=>`:not(${e})`).join("");for(let e of i.querySelectorAll(s))e.parentNode?.removeChild(e);t.current.innerHTML=a().sanitize(i.innerHTML)},[t,e]),(0,s.jsx)("div",{ref:t})}function _({description:e,hideDivider:t=!1,showHeader:i=!1}){let o=n.useRef(null),[a,_]=n.useState(!1),[p,h]=n.useState(!1),v=(0,l.R)(d.YW)?d.dz:d.Un;return(n.useEffect(()=>{o.current&&o.current.getBoundingClientRect().height>v&&(_(!0),h(!0))},[v]),e)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:a?{maxHeight:`${v}px`}:{},className:a?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:o,children:[i&&(0,s.jsx)("div",{className:"truncated_description_view--aboutHeader--f2Cgw",children:(0,c.tx)("community.resource_page.about")}),(0,s.jsx)(m,{description:e}),!a&&p&&(0,s.jsx)(r.E,{className:u,onClick:()=>{_(!0)},children:(0,c.tx)("community.detail_view.show_less")})]}),a&&(0,s.jsx)("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,s.jsx)(r.E,{className:u,onClick:()=>{_(!1)},children:(0,c.tx)("community.detail_view.read_more")})}),!t&&(0,s.jsx)("div",{className:"truncated_description_view--divider--RK37w"})]}):null}},781046:(e,t,i)=>{i.d(t,{R:()=>h,Y:()=>p});var s=i(104076),n=i(716976),r=i(280350),o=i(236631),a=i(911990),l=i(216182),c=i(252836),d=i(759827),u=i(789765),m=i(552069),_=i(650653);function p({resource:e}){let[t,i]=n.useState(!1),u=(0,l.C)(e),p=(0,c.T)();return(0,s.jsx)("div",{className:_.fG,children:(0,s.jsxs)(a.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto",children:[(0,s.jsx)("div",{className:_.e,children:(0,s.jsx)("div",{className:o.s.relative.$,children:(0,s.jsx)(d.Gm,{resource:e,hasScrolled:t})})}),(0,s.jsxs)("div",{className:u?_.v8:_.LV,children:[(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(m.WK,{}),children:(0,s.jsx)(m.Xp,{resource:e,is16to9AspectRatio:u})}),(0,s.jsx)(r.a,{className:_.sR,onIntersectionChange:e=>{p||i(!e.isIntersecting)}})]})]})})}function h({resource:e,rdpImpressionId:t,category:i}){return(0,s.jsxs)("div",{className:_.fG,children:[i&&(0,s.jsx)(u.X,{category:i,rdpImpressionId:t}),(0,s.jsx)(p,{resource:e})]})}},296706:(e,t,i)=>{i.d(t,{Cc:()=>f,Rr:()=>h,vQ:()=>v,vb:()=>_});var s=i(716976),n=i(903927),r=i(795033),o=i(514223),a=i(292168),l=i(544995),c=i(684418),d=i(592726),u=i(904017),m=i(878936),_=(e=>(e.SITES_DISABLED_FOR_ORG="sites_disabled_for_org",e.COOPER_DISABLED_FOR_ORG="cooper_disabled_for_org",e.FIGMAKE_DISABLED_FOR_ORG="figmake_disabled_for_org",e))(_||{});function p(){let e=(0,r.md)(c.g),t=(0,d.iZ)();return s.useMemo(()=>{let i=[],s=[];if(!t||e===o.r.LOADING||e===o.r.INIT)return{teams:i,orgs:s};let n=e.plansByUserId[t.id];return n?.forEach(t=>{if("team"===t.plan_type){let s=e.teams.find(e=>e.id===t.plan_id);s&&i.push(s)}if("org"===t.plan_type){let i=e.orgs.find(e=>e.id===t.plan_id);i&&s.push(i)}}),{teams:i,orgs:s}},[e,t])}function h(){let e=(0,d.iZ)(),{teams:t,orgs:i}=p(),n=(0,u.T5)("useCanUseDsePresetsInCommunity").unwrapOr(null),r=(0,l.ek)(n,null);return s.useMemo(()=>!!e&&(t.length||i.length?Object.values(t).some(e=>(0,l.MJ)(null,e,null))||Object.values(i).some(e=>(0,l.MJ)(e,null,null)):r),[e,t,i,r])}function v(){let e=(0,d.iZ)(),t=(0,n.d4)(e=>e.searchResults?.data?.org),{teams:i,orgs:r}=p();return s.useMemo(()=>!!e&&(i.length||r.length?i.length>0||r.some(e=>!e.is_slides_disabled):!t?.is_slides_disabled),[e,i,r,t])}function f(e){let t=function(){let e=(0,r.md)(c.g),t=(0,d.iZ)();return s.useMemo(()=>t&&e!==o.r.LOADING&&e!==o.r.INIT&&e.plansByUserId[t.id]||[],[e,t])}(),{isDisabled:i,disabledReason:n}=e!==a.vt.SITE_TEMPLATE?{isDisabled:!1}:t&&0!==t.length?0===t.filter(e=>e.plan_type!==m.O.ORG||!e.is_sites_disabled).length?{isDisabled:!0,disabledReason:"sites_disabled_for_org"}:{isDisabled:!1}:{isDisabled:!0},{isDisabled:l,disabledReason:u}=e!==a.vt.COOPER_TEMPLATE_FILE?{isDisabled:!1}:t&&0!==t.length?t.some(e=>e.plan_type===m.O.TEAM||!e.is_cooper_disabled)?{isDisabled:!1}:{isDisabled:!0,disabledReason:"cooper_disabled_for_org"}:{isDisabled:!0},{isDisabled:_,disabledReason:p}=e!==a.vt.FIGMAKE_TEMPLATE?{isDisabled:!1}:t&&0!==t.length?t.some(e=>e.plan_type===m.O.TEAM||!e.is_figmake_disabled)?{isDisabled:!1}:{isDisabled:!0,disabledReason:"figmake_disabled_for_org"}:{isDisabled:!0};return e===a.vt.SITE_TEMPLATE&&i?{isDisabled:!0,disabledReason:n}:e===a.vt.COOPER_TEMPLATE_FILE&&l?{isDisabled:!0,disabledReason:u}:e===a.vt.FIGMAKE_TEMPLATE&&_?{isDisabled:!0,disabledReason:p}:{isDisabled:!1}}},109578:(e,t,i)=>{i.d(t,{FD:()=>p,GS:()=>m,r4:()=>_});var s=i(716976);if(443==i.j)var n=i(99723);var r=i(883765),o=i(596224),a=i(111297),l=i(563554);let c=e=>{let t;return t=(0,o.o_)(e)?(0,o.Qd)(e):(0,o.Vm)(e),`${e.id}---${t}`},d=e=>{let[t,i]=e.split("---");return{id:t,type:i}};var u=(e=>(e.RESOURCE="resource",e.TEMPLATE="template",e.PLUGIN="plugin",e))(u||{});function m({debounceWaitInMs:e,extraProperties:t}={}){return h({idType:"resource",debounceWaitInMs:e,extraProperties:t})}function _({debounceWaitInMs:e,extraProperties:t}={}){return h({idType:"template",debounceWaitInMs:e,extraProperties:t})}function p({debounceWaitInMs:e,extraProperties:t}={}){return h({idType:"plugin",debounceWaitInMs:e,extraProperties:t})}function h({debounceWaitInMs:e=1e3,extraProperties:t={},idType:i}){let{name:o=l.e0.COMMUNITY_HUB,properties:u}=(0,a.j6)(),m=(0,s.useRef)([]),_=(0,s.useRef)(new Set),p=(0,s.useCallback)(e=>{if(0===m.current.length)return;let s=[],n=[];m.current.forEach(e=>{let{id:t,type:i}=d(e);s.push(t),n.push(i)}),(0,r.sx)("community_impressed_resources",{impressedItems:s.join(),impressedItemTypes:n.join(),idType:i,trackingContext:o,...u,...t},{sendAsBeacon:e}),m.current=[]},[t,i,o,u]),h=(0,s.useMemo)(()=>(0,n.s)(p,e),[e,p]);return(0,s.useEffect)(()=>h.flush,[h]),(0,s.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&p(!0)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[p]),{trackResourceImpression:(0,s.useCallback)(e=>{let t=c(e);_.current.has(t)||(_.current.add(t),m.current.push(t),h())},[h]),flushAndResetResourceImpressions:(0,s.useCallback)(()=>{h.flush(),_.current.clear()},[h])}}},813480:(e,t,i)=>{i.d(t,{a:()=>r});var s=i(755444),n=i(997477);function r({isSitesTemplate:e,resourceContentId:t,publishedSiteUrl:i}){let{getDynamicConfig:r}=(0,n.bY)("sites_template_hubfile_id_to_url_map");if(null!=i)return i;let o=(0,s.tl)().cluster_name;if(!e||!t||!o)return;let a=r().get(o,void 0);return a?.[t]}},329066:(e,t,i)=>{i.d(t,{CW:()=>a,P1:()=>o,gK:()=>r});var s=i(716976),n=i(166887),r=(e=>(e.EDIT_THIS_PAGE="edit_this_page",e.OPEN_ORIGINAL_FILE="open_original_file",e.UNPUBLISH="unpublish",e.DELIST="delist",e.MANAGE_RESOURCE="manage_resource",e))(r||{}),o=(e=>(e.RELOAD="site_preview_reload",e.OPEN_NEW_TAB="site_preview_open_new_tab",e))(o||{});function a(e){let t=(0,n.U)();return(0,s.useCallback)((i,s)=>{t(e,{resourceId:i,resourceType:s})},[e,t])}},592231:(e,t,i)=>{i.d(t,{n:()=>n});var s=i(210954);function n(e){switch(e){case s.LE.FIGJAM:return"whiteboard";case s.LE.SLIDES:return"piper";case s.LE.SITES:return"seascape";case s.LE.FIGMAKE:return"bake-filebrowser";case s.LE.COOPER:return"cooper";default:return"design"}}},680384:(e,t,i)=>{i.d(t,{e:()=>N});var s,n,r,o=i(166115),a=i(483497),l=i(212028),c=i(250596),d=Object.create,u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,_=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),p=e=>{throw TypeError(e)},h=(e,t,i)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,v=(e,t)=>u(e,"name",{value:t,configurable:!0}),f=["class","method","getter","setter","accessor","field","value","get","set"],y=e=>void 0!==e&&"function"!=typeof e?p("Function expected"):e,g=(e,t,i,s,n)=>({kind:f[e],name:t,metadata:s,addInitializer:e=>i._?p("Already initialized"):n.push(y(e||null))}),b=(e,t)=>h(t,_("metadata"),e[3]),j=(e,t,i)=>t.has(e)||p("Cannot "+i),w=(e,t)=>Object(t)!==t?p('Cannot use the "in" operator on this value'):e.has(t),T=(e,t,i)=>(j(e,t,"read from private field"),i?i.call(e):t.get(e)),I=(e,t,i,s)=>(j(e,t,"write to private field"),s?s.call(e,i):t.set(e,i),i),C=(e,t,i)=>(j(e,t,"access private method"),i);s=[a.Ac];class N extends(r=a.nS){}(N=((e,t,i,s,n,r)=>{var o,a,l,c,d,_=7&t,h=!!(8&t),j=!!(16&t),N=_>3?e.length+1:_?h?1:2:0,E=f[_+5],k=_>3&&(e[N-1]=[]),L=e[N]||(e[N]=[]),R=_&&(j||h||(n=n.prototype),_<5&&(_>3||!j)&&m(_<4?n:{get[i](){return T(this,r)},set[i](x){return I(this,r,x)}},i));_?j&&_<4&&v(r,(_>2?"set ":_>1?"get ":"")+i):v(n,i);for(var S=s.length-1;S>=0;S--)c=g(_,i,l={},e[3],L),_&&(c.static=h,c.private=j,d=c.access={has:j?e=>w(n,e):e=>i in e},3^_&&(d.get=j?e=>(1^_?T:C)(e,n,4^_?r:R.get):e=>e[i]),_>2&&(d.set=j?(e,t)=>I(e,n,t,4^_?r:R.set):(e,t)=>e[i]=t)),a=(0,s[S])(_?_<4?j?r:R[E]:_>4?void 0:{get:R.get,set:R.set}:n,c),l._=1,4^_||void 0===a?y(a)&&(_>4?k.unshift(a):_?j?r=a:R[E]=a:n=a):"object"!=typeof a||null===a?p("Object expected"):(y(o=a.get)&&(R.get=o),y(o=a.set)&&(R.set=o),y(o=a.init)&&k.unshift(o));return _||b(e,n),R&&u(n,i,R),j?4^_?r:R:n})(n=[,,,d(r?.[_("metadata")]??null)],0,"SavesRoute",s,N)).displayName="SavesRoute",N.path=(0,a.aV)(c.VR,"/community/saves/:resourceType?"),N.serializeParams=e=>({...(0,c.FZ)(e),...e.resourceType&&{resourceType:e.resourceType}}),N.deserializeParams=e=>({...(0,c.CS)(e),...e.resourceType&&{resourceType:(0,o.S)(e.resourceType,l.t)}}),N.parseQueryString=e=>({...(0,c.p7)(e)}),((e,t,i,s)=>{for(var n=0,r=e[t>>1],o=r&&r.length;n<o;n++)1&t?r[n].call(i):s=r[n].call(i,s)})(n,1,N)},477156:(e,t,i)=>{i.d(t,{Ay:()=>c,IE:()=>d});var s=i(716976),n=i(298745),r=i(569336),o=i(845945),a=i(792028),l=i(563554);function c(e){let t=(0,a.m3)(e);return(0,a.U)(e)?{name:l.e0.COMMUNITY_HUB_FILE,properties:u(e)}:(0,a.xQ)(e)?{name:l.e0.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:l.e0.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}function d(e){let t=(0,n.Jm)();return s.useMemo(()=>({...u(e),searchSessionId:t}),[e,t])}function u(e){return{hubFileId:e.id,viewerMode:e.viewer_mode,editorType:(0,r.JJ)(e.viewer_mode),isMonetized:(0,a.m3)(e),isMobileView:window.innerWidth<=o.YW}}},208711:(e,t,i)=>{i.d(t,{E:()=>n,d:()=>s});let s="community_comment_creation",n="community_comment_edit"},580522:(e,t,i)=>{i.d(t,{X:()=>c});var s=i(883765),n=i(113139),r=i(432099);function o(e,t,i,n){let r={pluginId:t,orgId:e};n&&(r.workspaceIds=n.join(",")),(0,s.sx)("plugin"===i?"Hub Plugin Add to Whitelist":"Hub Widget Add to Whitelist",r)}function a(e,t,i,n){let r={pluginId:t,orgId:e};n&&(r.workspaceIds=n.join(",")),(0,s.sx)("plugin"===i?"Hub Plugin Remove from Whitelist":"Hub Widget Remove from Whitelist",r)}let l={plugin:"plugins",widget:"widgets"},c=new class{enableExtensionForWorkspaces({orgId:e,extensionId:t,extensionType:i,workspaceIds:s}){return o(e,t,i,s),r.Ay.post(`/api/${l[i]}/org/${e}/allowlist/${t}`,n.td.toAPIParameters({workspaceIds:s}))}disableExtensionForWorkspaces({orgId:e,extensionId:t,extensionType:i,workspaceIds:s}){return a(e,t,i,s),r.Ay.del(`/api/${l[i]}/org/${e}/allowlist/${t}`,n.td.toAPIParameters({workspaceIds:s}))}enableExtensionForOrg({orgId:e,extensionId:t,extensionType:i}){return o(e,t,i),r.Ay.post(`/api/${l[i]}/org/${e}/allowlist/${t}`)}disableExtensionForOrg({orgId:e,extensionId:t,extensionType:i}){return a(e,t,i),r.Ay.del(`/api/${l[i]}/org/${e}/allowlist/${t}`)}}},902278:(e,t,i)=>{i.d(t,{$:()=>c});var s=i(638004),n=i(550209),r=i(113139),o=i(819621),a=i(292168),l=i(893393);let c=new class{constructor(){this.RelatedContentSchemaValidator=(0,r.YV)("RelatedContentSchemaValidator",a.ME,null),this.getRelatedContent=l.M4.Query({fetch:e=>{let t=o.sh[e.resourceType];return this.RelatedContentSchemaValidator.validate(async({xr:i})=>{try{return await i.get(`/api/resources/${t}/${e.contentId}/related_content`)}catch(e){throw(0,n.$D)(s.e.COMMUNITY,e),e}})}})}}},677354:(e,t,i)=>{i.d(t,{H:()=>c});var s=i(104076),n=i(555013),r=i(192075),o=i(959834),a=i(354174),l=i(812318);let c=(0,o.Ju)(function(e){return(0,s.jsx)(a.yX,{confirmationTitle:e.confirmationTitle,confirmText:e.confirmButtonText,onConfirm:e.onBlock,destructive:!0,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:l._q,children:(0,r.tx)("community.comments.this_will_remove_their_comments_from_all_your_community_files_and_plugins_it_also_prevents_them_from_leaving_comments_on_your_resources_or_mentioning_you_in_the_future")}),(0,s.jsx)("p",{className:l._q,children:(0,r.tx)("community.comments.link_about_managing_restricted_commenters",{link:(0,s.jsx)(n.CY,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0,children:(0,r.tx)("community.comments.learn_more")})})})]})})},"CommentConfirmBlockModal")},420498:(e,t,i)=>{i.d(t,{H:()=>_});var s=i(104076),n=i(716976),r=i(903927);i(755444);var o=i(555013),a=i(652539),l=i(192075),c=i(366535),d=i(911107),u=i(139346);if(443==i.j)var m=i(711642);function _(e){let t=(0,r.d4)(e=>e.selectedView),i=(0,r.d4)(e=>e.user),_=(0,r.wA)(),p=(0,n.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),i&&_(c.to({type:d.S,data:{userId:i.id}}))},[_,i]),{strongText:h,ctaPreText:v,showPluginDocsCta:f,showProfileCta:y,showAccountCta:g}=(()=>{let s={strongText:"",ctaPreText:""},n=(0,l.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),r=(0,l.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");return s={strongText:(0,l.t)("community.banner.this_is_the_figma_community"),ctaPreText:n},e.profile?(i?.community_profile_handle?e.profile.id===i?.community_profile_id?s.strongText=(0,l.t)("community.banner.this_is_your_figma_community_profile"):(s.strongText="",s.ctaPreText=""):s.strongText=(0,l.t)("community.banner.this_is_a_figma_community_profile"),s.ctaPreText=r):t&&"communityHub"===t.view&&("hubFile"===t.subView?(s.strongText=(0,l.t)("community.banner.this_is_a_figma_community_file"),s.ctaPreText=r):"plugin"===t.subView?(s.strongText=(0,l.t)("community.banner.this_is_a_figma_community_plugin"),s.ctaPreText=r):"widget"===t.subView&&(s.strongText=(0,l.t)("community.banner.this_is_a_figma_community_widget"),s.ctaPreText=r)),i?i.community_profile_handle?t&&"communityHub"===t.view&&t?.subView==="plugin"&&(s.showPluginDocsCta=!0):s.showProfileCta=!0:s.showAccountCta=!0,s})();return h||v||f||y||g?(0,s.jsx)("div",{className:e.className||"",children:(0,s.jsxs)("div",{className:u.cI,children:[(0,s.jsx)("div",{className:u.zc,children:(0,s.jsx)(a.B,{svg:m.A,className:u.q3})}),(0,s.jsxs)("span",{children:[(0,s.jsxs)("span",{className:u.bv,children:[h," "]}),(0,s.jsxs)("span",{children:[v," "]}),y&&(0,s.jsx)(s.Fragment,{children:(0,l.tx)("community.banner.to_follow_creators_and_like_resources",{link:(0,s.jsxs)(o.N_,{onClick:p,className:u.nf,trusted:!0,children:[(0,l.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," "]})})}),g&&(0,s.jsxs)(o.N_,{href:"https://www.figma.com/signup",target:"_blank",className:u.nf,trusted:!0,children:[(0,l.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "]}),f&&(0,s.jsx)(s.Fragment,{children:(0,l.tx)("community.banner.to_create_your_own_plugin",{link:(0,s.jsxs)(o.N_,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:u.nf,trusted:!0,children:[(0,l.t)("community.banner.visit_the_docs"),"\xa0\u2192"," "]})})})]})]})}):null}},745311:(e,t,i)=>{i.d(t,{H:()=>m,o:()=>_});var s=i(716976);if(443==i.j)var n=i(951002);var r=i(812714),o=i(520822),a=i(944350),l=i(912610),c=i(176203),d=i(437761);let u=(0,o.r)();function m(e,t,i,s){if(!(0,r.kc)().ext_fix_try_editor_types)return function(e,t,i){let s=e.manifest.editorType;if(e.playground_fig_file?.editor_type){let t=e.playground_fig_file?.editor_type;return t===a._Y.DESIGN&&(0,d.Pe)(s)?c.nT.DevHandoff:(0,c.wN)(t)}let n=u?(0,c.wN)(u):null;return n&&s?.includes(l.GX(n))?n:(0,d.Pe)(s)?c.nT.DevHandoff:s?.includes(d.FW.FIGMA)?c.nT.Design:s?.includes(d.FW.SLIDES)?c.nT.Slides:s?.includes(d.FW.BUZZ)?c.nT.Cooper:s?.includes(d.FW.FIGMA)&&s?.includes(d.FW.FIGJAM)?(t?c.nT.Design:i)??(0,c.wN)(u):s?.includes(d.FW.FIGJAM)?c.nT.Whiteboard:c.nT.Design}(i,t?.figjamDisabledAt!=null,s);let o=i.manifest.editorType??[];if(i.playground_fig_file?.editor_type){let t=i.playground_fig_file?.editor_type;switch(t){case a._Y.DESIGN:if((0,d.Pe)(o)&&e?.licenseTypes?.includes(a.G_.DEV_MODE))return c.nT.DevHandoff;if(o.includes(d.FW.FIGMA)&&e?.licenseTypes?.includes(a.G_.DESIGN))return c.nT.Design;break;case a._Y.WHITEBOARD:if(o.includes(d.FW.FIGJAM)&&e?.licenseTypes?.includes(a.G_.WHITEBOARD))return c.nT.Whiteboard;break;case a._Y.SLIDES:if(o.includes(d.FW.SLIDES)&&e?.licenseTypes?.includes(a.G_.SLIDES))return c.nT.Slides;break;case a._Y.SITES:break;case a._Y.COOPER:if(o.includes(d.FW.BUZZ)&&e?.licenseTypes?.includes(a.G_.COOPER))return c.nT.Cooper;break;case a._Y.FIGMAKE:break;default:(0,n.xb)(t)}}let m=u?(0,c.wN)(u):null;return m&&o?.includes(l.GX(m))?m:(0,d.Pe)(o)&&e?.licenseTypes?.includes(a.G_.DEV_MODE)?c.nT.DevHandoff:o?.includes(d.FW.FIGMA)&&e?.licenseTypes?.includes(a.G_.DESIGN)?c.nT.Design:o?.includes(d.FW.SLIDES)&&e?.licenseTypes?.includes(a.G_.SLIDES)?c.nT.Slides:o?.includes(d.FW.FIGJAM)&&e?.licenseTypes?.includes(a.G_.WHITEBOARD)?c.nT.Whiteboard:o?.includes(d.FW.BUZZ)&&e?.licenseTypes?.includes(a.G_.COOPER)?c.nT.Cooper:s??(0,c.wN)(u)}function _(e,t,i,n){return(0,s.useMemo)(()=>m(e,t,i,n),[i,e,t,n])}},581381:(e,t,i)=>{i.d(t,{F:()=>v});var s=i(104076),n=i(903927),r=i(883765),o=i(140490),a=i(853314),l=i(972500),c=i(298745),d=i(366535),u=i(854972),m=i(592726),_=i(959834),p=i(561203);let h=(0,o._)(function({hubFileId:e,inResourceHub:t,onUseHubFile:i,...o}){let _=(0,u.HI)(e),h=(0,c.Jm)(),v=(0,n.wA)(),f=(0,m.iZ)();return _?(0,s.jsx)(p.x,{onAgree:()=>{if(i)v(d.AS()),i();else{let e=a.gE(e=>{(0,r.sx)("try_it_out_drafts_picker_menu_opened",{hubFileId:_.id,searchSessionId:h}),v((0,d.to)({type:l._,data:{payload:e}}))},{skipWorkspaceSelection:t,userId:f?.id});v(d.AS()),v(e({id:_.id,viewer_mode:_.viewerMode,monetized_resource_metadata:_.monetizedResourceMetadataId?{id:_.monetizedResourceMetadataId}:void 0}))}},...o}):null},"AppleEULAModalOnUseHubFile"),v=(0,_.Ju)(h,"APPLE_EULA_MODAL_ON_USE_HUBFILE_TYPE",_.ZU.YES)},792871:(e,t,i)=>{i.d(t,{GZ:()=>eh,Gq:()=>em,FM:()=>ed,RL:()=>ec,xb:()=>eu});var s=i(951002),n=i(638004),r=i(633065),o=i(219199),a=i(550209),l=i(104076),c=i(716976),d=i(903927),u=i(17933),m=i(420680),_=i(929302),p=i(950187),h=i(268389),v=i(546258),f=i(232120),y=i(870637),g=i(795033);i(120440);var b=i(833805),j=i(140490),w=i(259161),T=i(192075),I=i(298745),C=i(468650),N=i(569336),E=i(15329),k=i(596224),L=i(436905),R=i(851300),S=i(250596),A=i(366535),P=i(244205),O=i(111297),M=i(349311),B=i(563554),D=i(959834),F=i(315266),W=i(62351),U=i(81686),V=i(721917),$=i(293972),G=i(1243),H=i(781046);function Q({rdpUrl:e}){let[t,i]=(0,c.useState)(!1),{getTriggerProps:s,getContainerProps:n,getArrowProps:r}=u.fP({type:"dialog",isOpen:t,onOpenChange:i,placement:"bottom"});return(0,l.jsxs)("div",{children:[(0,l.jsx)(m.K,{...s(),onClick:()=>{(0,N.lW)(e),i(!0),setTimeout(()=>i(!1),2e3)},htmlAttributes:{"data-tooltip-type":M.Ib.TEXT,"data-tooltip":(0,T.t)("file_browser.copy_link")},"aria-label":(0,T.t)("file_browser.copy_link"),children:(0,l.jsx)(v.W,{})}),(0,l.jsxs)(u.mc,{...n({className:"xixxii4 x1t0vds8 xdqyycr xu5wzci x1tk3asg xs5oi2u x192jxwq x126k92a x13faqbe"}),children:[(0,l.jsx)(u.i3,{...r(),fill:"var(--color-bg-brand)"}),(0,l.jsx)("div",{children:(0,T.t)("file_permissions_modal.link_copied")})]})]})}function z({dispatch:e,route:t,resourceId:i,resourceType:s,sharedRouteParams:r}){return(0,l.jsx)(w.o,{href:t,newTab:!0,onClick:()=>{t?e(A.AS()):(0,a.$D)(n.e.COMMUNITY,Error("newTabButton: route is empty"),{extra:{sharedRouteParams:r}})},htmlAttributes:{"data-tooltip-type":M.Ib.TEXT,"data-tooltip":(0,T.t)("file_browser.open_in_new_tab")},className:"lightbox_rdp--link--x0gtt lightbox_rdp--iconButton--kEwkm lightbox_rdp--baseIconButton--rtsxU","aria-label":(0,T.t)("file_browser.open_in_new_tab"),trackingProperties:{...(0,W.Kj)(s,i),trackingDescriptor:P.c.OPEN_IN_NEW_TAB},children:(0,l.jsx)("span",{className:"lightbox_rdp--icon--imaRw",children:(0,l.jsx)(f.V,{})})})}let Y=(0,j._)(function(e){let t,i;let s=(0,d.wA)(),n=(0,r.y3)(),[a,u]=(0,g.fp)(G.Q),m=(0,c.useRef)(!1),v=(0,S.Om)(),f=(0,S.tv)()??void 0,{resourceUrl:j,resourceId:w,resourceType:T,shouldUpdateUrl:P,open:M}=e;if(j){let e=(0,N.tv)(j);t=e?.resourceId,i=e?.apiResourceType}let D=w||t,Y=i||T,q=v&&Y&&D?new R.jT({...v,apiResourceType:Y,resourceId:D},f).href:"",[X]=(0,b.IT)((0,L.Z)({apiResourceType:Y,id:D}),{enabled:!!Y&&!!D}),Z=X.data,J=Z?(0,k.qY)(Z):void 0,K="";Z&&J&&(K=Z.rdp_url),(0,c.useEffect)(()=>{if(P&&M&&q&&!m.current)return window.history.pushState(null,"",q),()=>{m.current||window.history.back()}},[M,q,P]),(0,c.useEffect)(()=>{if(!P)return;let e=()=>{let e=o.Ay.location.pathname+o.Ay.location.search;M&&e!==q&&(m.current=!0,s(A.AS()),(0,W.bb)(Z?.id||"",Y||""))};if(M&&q)return o.Ay.listen(()=>{e()})},[M,q,s,Z?.id,Y,P]),(0,c.useEffect)(()=>{J&&(0,F.S)(s,J)},[s,J]);let ee=_.hS({...e,onClose:({source:e})=>{"escape"===e&&a?u(!1):(s(A.AS()),(0,W.bb)(Z?.id||"",Y||""))}}),et=(0,y.eJ)(),ei=(0,I.Jm)(),es=(0,I.BY)(),en=(0,W.W6)(Y||"",D||"",ei,es),er=Z&&(0,k.zL)(Z),eo=!n&&(0,l.jsx)(z,{dispatch:s,route:q,resourceId:D||"",resourceType:Y,sharedRouteParams:v});return(0,l.jsx)(U.Rj.Provider,{value:U.mk.RESOURCE_HUB,children:(0,l.jsx)(O.fu,{name:B.e0.RESOURCE_HUB_LIGHTBOX_RDP,properties:en,children:(0,l.jsx)(p.bL,{manager:ee,width:1048,height:"full",children:(0,l.jsxs)(h.vo,{children:[(0,l.jsxs)(h.Y9,{children:[(0,l.jsx)(h.hE,{children:Z&&(0,E.K2)(Z)}),(0,l.jsxs)("div",{className:"x78zum5 x1v2ro7d x8x9d4c xnuq7ks",children:[(0,l.jsx)(Q,{rdpUrl:K}),eo]})]}),(0,l.jsx)(h.nB,{children:Z&&J?(0,l.jsxs)(l.Fragment,{children:[er?(0,l.jsx)($.Y,{resource:Z}):(0,l.jsx)(H.Y,{resource:Z}),(0,l.jsx)(V.X6,{resource:Z,rdpImpressionId:et})]}):(0,l.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 xqt63rz",children:(0,l.jsx)(C.y$,{})})})]})})})},"resource-hub-context")},"LightboxRDP"),q=(0,D.Ju)(Y,{supportsBackgroundVisible:D.ZU.YES});var X=i(819621),Z=i(292168),J=i(226723),K=i(141773),ee=i(944350),et=i(912610),ei=i(176203),es=i(208740),en=i(872769),er=i(183366),eo=i(745311),ea=i(139693),el=i(330);function ec(e,t){let i=function(e,t){if(!t)return null;if(!(0,k.NC)(e))return new R.jT({...t,apiResourceType:X.qG[(0,k.Vm)(e)],resourceId:e.id});{let i=(0,N.tv)(e.rdp_url),s=i?.apiResourceType,n=i?.resourceId;return s&&n?new R.jT({...t,apiResourceType:s,resourceId:n}):null}}(e,t);if(!i){(0,a.$D)(n.e.COMMUNITY,Error("ResourceHubResourceRoute is empty"),{extra:{resourceId:e.id,resourceType:(0,k.Vm)(e),sharedRouteParams:t}});return}o.Ay.redirect(i.href,"_blank")}function ed(e,t,i){let s=(0,r.y3)(),n=i.openInNewTab&&!s,o=!i.openInNewTab&&i.shouldUpdateUrl;if(n){ec(t,i.sharedRouteParams);return}if((0,k.NC)(t))e(A.to({type:q,data:{resourceUrl:t.rdp_url,shouldUpdateUrl:o}}));else{var a,l;a=t.id,l=X.qG[(0,k.Vm)(t)],e(A.to({type:q,data:{resourceId:a,resourceType:l,shouldUpdateUrl:o}}))}}function eu(e,t){switch(t.editorType){case ee._Y.SLIDES:e_(t);break;case ee._Y.COOPER:ex(t);break;case ee._Y.WHITEBOARD:ep(e,t);break;case ee._Y.FIGMAKE:eh(e,t);break;case ee._Y.DESIGN:case ee._Y.SITES:case null:break;default:(0,s.xb)(t.editorType)}}function em(e,t,i,r){switch(t.resource_type){case Z.vt.PLUGIN:case Z.vt.WIDGET:!function(e,t,i,s){let r=(0,k.$9)(t);if(!r){(0,a.$D)(n.e.COMMUNITY,Error("Plugin resource has no plugin"),{extra:{resourceId:t.id}});return}if(!(s?.key.type===ee.OL.ORG?s.key.parentId:null)){(0,a.$D)(n.e.COMMUNITY,Error("Internal extensions can only be used in an org"),{extra:{resourceId:t.id}});return}let o=(0,et.Ar)(r)||et.lT,l=(0,eo.H)(i,s,o),c=!!(o.playground_file_version_id||l===ei.nT.DevHandoff);(0,ea.to)(t.id,c?"playground":"new_file",l),e(J.lx({extension:r,fullscreenEditorType:l}))}(e,t,i,r);break;case Z.vt.SLIDE_TEMPLATE:e_(t);break;case Z.vt.FIGJAM_TEMPLATE:ep(e,t);break;case Z.vt.COOPER_TEMPLATE_FILE:ex(t);break;case Z.vt.FIGMAKE_TEMPLATE:eh(e,t);break;case Z.vt.UI_KIT:case Z.vt.PROTOTYPE:case Z.vt.DESIGN_TEMPLATE:case Z.vt.SITE_TEMPLATE:case Z.vt.COOPER_TEMPLATE_ASSET:case Z.vt.OAUTH_APP:break;default:(0,s.xb)(t.resource_type)}}function e_(e){let t;let i=(0,k.o_)(e);if(i)t=e.libraryKey;else{let i=(0,k.B2)(e);t=i?.library_key}if(t){i?er.j.addResourceUse({templateId:e.id}):er.j.addResourceUse({resourceId:e.id});let s=(0,el.e)(ee._Y.SLIDES,es.f6.RESOURCE_HUB_INTERNAL_TEMPLATE,t);o.Ay.redirect(s,"_blank")}else{let t=i?void 0:e.id,s=i?e.id:void 0;(0,a.$D)(n.e.COMMUNITY,Error("Slide template has no library key"),{extra:{resourceId:t,templateId:s}})}}function ep(e,t){let i,s;let r=(0,k.o_)(t);if(r)i=t.fileKey,s=t.name;else{let e=(0,k.B2)(t);i=e?.file_key,s=e?.name}if(i&&s)e((0,K.jd)({templateIdentifier:{type:en.vt.TeamTemplate,file_key:i},templateName:s,openInNewTab:!0})),r?er.j.addResourceUse({templateId:t.id}):er.j.addResourceUse({resourceId:t.id});else{let e=r?void 0:t.id,i=r?t.id:void 0;(0,a.$D)(n.e.COMMUNITY,Error("FigJam template has no file key or name"),{extra:{resourceId:e,templateId:i}})}}function ex(e){let t;let i=(0,k.o_)(e);if(i)t=e.libraryKey;else{let i=(0,k.B2)(e);t=i?.library_key}if(t){i?er.j.addResourceUse({templateId:e.id}):er.j.addResourceUse({resourceId:e.id});let s=(0,el.e)(ee._Y.COOPER,es.f6.RESOURCE_HUB_INTERNAL_TEMPLATE,t);o.Ay.redirect(s,"_blank")}else{let t=i?void 0:e.id,s=i?e.id:void 0;(0,a.$D)(n.e.COMMUNITY,Error("Cooper template has no library key"),{extra:{resourceId:t,templateId:s}})}}function eh(e,t){let i,s;let r=(0,k.o_)(t);if(r)i=t.fileKey,s=t.name;else{let e=(0,k.B2)(t);i=e?.file_key,s=e?.name}if(i&&s)e((0,K.jd)({templateIdentifier:{type:en.vt.TeamTemplate,file_key:i},templateName:s,openInNewTab:!0})),r?er.j.addResourceUse({templateId:t.id}):er.j.addResourceUse({resourceId:t.id});else{let e=r?void 0:t.id,i=r?t.id:void 0;(0,a.$D)(n.e.COMMUNITY,Error("Figmake template has no file key or name"),{extra:{resourceId:e,templateId:i}})}}},315266:(e,t,i)=>{i.d(t,{S:()=>c});var s=i(921540),n=i(381640);let r=(0,n.nF)((e,{oauthAppId:t})=>{});var o=i(432099);let a=(0,n.nF)((e,{pluginId:t,isWidget:i})=>o.Ay.post(`/api/${i?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var l=i(792028);function c(e,t){e((0,l.U)(t)?(0,s.vr)({hubFileId:t.id}):(0,l.Dc)(t)?r({oauthAppId:t.id}):a({pluginId:t.id,isWidget:(0,l.xQ)(t)}))}},18894:(e,t,i)=>{i.d(t,{EV:()=>y,NY:()=>g,d:()=>j,dx:()=>f,vR:()=>v});var s=i(104076),n=i(903927),r=i(983500),o=i(555013);i(520741);var a=i(192075);i(281844);var l=i(872383),c=i(366535);i(572857);var d=i(548883),u=i(592726);i(944350),i(792028);var m=i(613623);i(420498);var _=i(682547);i(500248),i(996397);var p=i(404343),h=i(966321);function v(e){return(0,s.jsxs)("div",{className:h.Xk,children:[(0,s.jsx)("p",{children:e.label}),(0,s.jsx)(o.nR,{onClick:e.onClickDecline,className:h.LL,children:(0,a.tx)("community.detail_view.decline")}),(0,s.jsx)(o.$$,{onClick:e.onClickAccept,className:h.LL,children:(0,a.tx)("community.detail_view.accept")})]})}function f(){let e=(0,u.iZ)();return e?(0,s.jsx)(o.Ph,{className:h._1,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,l.jt)(e)},trusted:!0,children:(0,a.tx)("community.detail_view.report_resource")}):null}function y(e){let{user:t,name:i,monetizedResource:r}=e,l=(0,n.wA)();return(0,s.jsx)(o.Ph,{className:h._1,trackingEventName:"Detail View - Request Refund",onClick:()=>{l((0,c.to)({type:_.bX,data:{user:t,name:i,monetizedResource:r}}))},trusted:!0,children:(0,a.tx)("community.buyer.request_refund")})}function g(e){let t=(0,d.R$)(e.resource),i="Detail View - View Order Details",n=(0,a.t)("community.buyer.view_order_details");return(0,m.Uv)(e.resource.monetized_resource_metadata)&&(i="Detail View - Manage Subscription",n=(0,a.t)("community.buyer.manage_subscription")),(0,s.jsx)(o.Ph,{className:h._1,onClick:()=>t(),trackingEventName:i,trusted:!0,children:n})}(0,r.hG)(p.dOH);var b=(e=>(e[e.PROMO=0]="PROMO",e[e.PAID=1]="PAID",e))(b||{});function j(e){return(0,s.jsx)(o.N_,{className:e.className,onClick:e.onClick,trusted:!0,children:(0,a.tx)("community.detail_view.remove_myself_as_creator")})}},975815:(e,t,i)=>{i.d(t,{X:()=>P,b:()=>O});var s=i(104076),n=i(903927),r=i(951002),o=i(883765),a=i(652539),l=i(236631),c=i(192075),d=i(706193),u=i(716976),m=i(769109),_=i(555013),p=i(943568),h=i(659062),v=i(944350),f=i(959834),y=i(687314),g=i(354174),b=i(663128);let j={listStyleType:"disc",marginLeft:"1.5em"};function w({securityFormResponse:e,isWidget:t}){return e.status===v.bQ.PENDING?(0,s.jsx)(p.z,{variant:"brand",orientation:"horizontal",iconSrc:b.A,dataTestId:"pending-response-banner",children:(0,s.jsx)("div",{className:l.s.preWrap.overflowBreakWord.$,children:(0,c.t)("community.detail_view.data_security_modal_pending",{date:e.updatedAt})})}):e.status===v.bQ.APPROVED?(0,s.jsx)("div",{className:l.s.gap4.flex.$,children:t?(0,c.tx)("community.detail_view.data_security_modal_badge_info_widget"):(0,c.tx)("community.detail_view.data_security_modal_badge_info_plugin")}):e.status===v.bQ.REJECTED?(0,s.jsx)(p.z,{variant:"warning",orientation:"horizontal",iconSrc:b.A,dataTestId:"rejected-response-banner",children:(0,s.jsx)("div",{className:l.s.preWrap.overflowBreakWord.$,children:(0,c.t)("community.detail_view.data_security_modal_rejected",{date:e.updatedAt})})}):null}let T=(0,f.Ju)(function({securityFormResponse:e,isWidget:t}){let i=(0,n.wA)(),r=(0,s.jsx)(_.Us,{href:"https://help.figma.com/hc/articles/16354660649495",target:"_blank",trusted:!0,children:(0,c.tx)("community.detail_view.data_security_modal_assessment_link")}),o=t?(0,c.tx)("community.detail_view.data_security_modal_explanation_widget",{assessmentProgramLink:r}):(0,c.tx)("community.detail_view.data_security_modal_explanation_plugin",{assessmentProgramLink:r});return(0,s.jsxs)(g.d_,{size:600,title:(0,c.t)("community.detail_view.data_security"),children:[(0,s.jsx)(m.s_,{dispatch:i}),(0,s.jsx)("div",{"data-testid":"program-explanation",children:o}),(0,s.jsx)("div",{className:l.s.mt16.$,children:(0,s.jsx)(w,{securityFormResponse:e,isWidget:t})}),(0,s.jsx)("div",{className:l.s.pt24.$,children:(0,s.jsx)(I,{securityFormResponse:e})})]})},"DATA_SECURITY_MODAL");function I({securityFormResponse:e}){return(0,s.jsx)("div",{className:l.s.colorBgSecondary.$,children:(0,s.jsx)("div",{className:l.s.py4.px20.$,children:e.responses.map((e,t)=>{let i=function(e){if("text"===e.inputType)return[];for(let t of e.options)if(t.isSelected&&t.subQuestions)return t.subQuestions??[];return[]}(e);return(0,s.jsx)("div",{className:l.s.mb24.$,children:(0,s.jsxs)("div",{className:"data_security_modal--gridContainer--4yiTg",children:[e.prompt&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:l.s.fontSemiBold.$,children:[(0,y.g)(C(e.prompt))," "]}),(0,s.jsx)("div",{className:l.s.$,children:(0,s.jsx)(L,{question:e})})]}),i?.length>0&&i.map((e,t)=>(0,s.jsxs)(u.Fragment,{children:[e.prompt?(0,s.jsx)("ul",{style:h.sx.add({listStyle:"disc",verticalAlign:"baseline"}).$,children:(0,s.jsx)("li",{className:l.s.fontSemiBold.ml16.$,children:(0,y.g)(function(e){let t=e.indexOf("For example,");return -1!==t?e.substring(0,t):e}(C(e.prompt??"")))})}):(0,s.jsx)("div",{},t),(0,s.jsx)(L,{question:e})]},t))]})},`q-${t}`)})})})}function C(e){let t=/^\d+\./;return t.test(e)?e.replace(t,""):e}function N(e){let{value:t}=e;return(0,s.jsx)("div",{className:l.s.flex.flexColumn.gap8.$,children:(0,s.jsx)("ul",{className:l.s.italic.$,children:`"${t}"`})})}function E(e){let{options:t}=e;return(0,s.jsx)("div",{className:l.s.flex.flexColumn.gap16.$,children:t.map((e,t)=>e.isSelected?(0,s.jsx)("div",{className:l.s.flex.flexColumn.$,children:(0,s.jsx)("div",{children:e.label})},`option-${t}`):null)})}function k(e){let{options:t}=e,i=t.filter(e=>e.isSelected);return 0===i.length?null:(0,s.jsx)("div",{className:l.s.flex.flexColumn.gap16.$,children:(0,s.jsx)("ul",{children:i.map((e,t)=>(0,s.jsx)("li",{style:i.length>1?j:void 0,children:(0,s.jsx)("div",{className:l.s.flex.flexColumn.$,children:(0,s.jsx)("div",{children:e.label})},`option-${t}`)},`option-${t}`))})})}function L(e){let{question:t}=e;switch(t.inputType){case"single_select":return(0,s.jsx)(E,{options:t.options});case"multi_select":return(0,s.jsx)(k,{options:t.options});case"text":return(0,s.jsx)(N,{value:t.value??""});default:(0,r.xb)(t)}}var R=i(366535),S=i(349311),A=i(230645),P=(e=>(e.COMMUNITY_DETAIL="community_detail",e.ADMIN_REVIEW="admin_review",e.ADMIN_MANAGE="admin_manage",e))(P||{});function O({securityFormResponse:e,entryPoint:t,isWidget:i,is24x24:u}){let m=(0,n.wA)();if(!e)return null;let _=function(e,t){let{status:i,updatedAt:n}=e;return i===v.bQ.REJECTED?"admin_manage"===t?(0,s.jsxs)("div",{className:l.s.flex.gap4.$,children:[(0,c.tx)("community.badge.extension_security_updated_on",{date:n}),(0,s.jsx)(a.B,{svg:A.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,c.t)("community.detail_view.data_security_modal_rejected_tooltip"),className:"extension_security_response--infoIcon--miNLG"})]}):null:i===v.bQ.APPROVED?(0,c.tx)("community.badge.extension_security_approved"):i===v.bQ.PENDING?"admin_manage"===t?(0,c.tx)("community.badge.extension_security_updated_on",{date:n}):(0,c.tx)("community.badge.extension_security_pending"):void(0,r.xb)(i)}(e,t);if(!_)return null;let p=e.status===v.bQ.REJECTED?(0,s.jsx)(d.D,{is24x24:u}):(0,s.jsx)(d._,{is24x24:u});return(0,s.jsxs)("div",{className:l.s.flex.$,"data-testid":"extension-security-response-status",children:[(0,s.jsx)("div",{className:l.s.flex.itemsStart.pt4.$,children:p}),(0,s.jsx)("button",{className:"community_detail"===t?u?"extension_security_response--communitySecurityText24x24--IyRkA extension_security_response--extensionSecurityText--kCA-d":"extension_security_response--communitySecurityText--8N545 extension_security_response--extensionSecurityText--kCA-d":"extension_security_response--adminSecurityText--xRb4T extension_security_response--extensionSecurityText--kCA-d","data-testid":"extension-trust-security-response-button",onClick:()=>{m((0,R.to)({type:T,data:{securityFormResponse:e,isWidget:i}})),(0,o.sx)("Admin Plugin Review Modal",{entryPoint:t,isWidget:i,status:e.status,extensionId:e.pluginId,action:"Security form response status"})},children:_})]})}},341836:(e,t,i)=>{i.d(t,{B:()=>r});var s=i(716976),n=i(104076);let r=(0,s.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 14.9v-.415l-.293-.293-1.38-1.38a1.15 1.15 0 0 1 0-1.625l1.38-1.38L6 9.514V7.15C6 6.514 6.515 6 7.15 6h2.365l.293-.293 1.379-1.38a1.15 1.15 0 0 1 1.626 0l1.38 1.38.292.293h2.365c.635 0 1.15.514 1.15 1.15v2.364l.293.293 1.38 1.38a1.15 1.15 0 0 1 0 1.626l-1.38 1.38-.293.292v2.364A1.15 1.15 0 0 1 16.85 18h-2.365l-.292.293-1.38 1.38a1.15 1.15 0 0 1-1.626 0l-1.38-1.38L9.516 18H7.15A1.15 1.15 0 0 1 6 16.85zm-2.38-4.42a2.15 2.15 0 0 0 0 3.04L5 14.9v1.95A2.15 2.15 0 0 0 7.15 19H9.1l1.38 1.379c.84.84 2.2.84 3.04 0l1.38-1.38h1.95A2.15 2.15 0 0 0 19 16.85V14.9l1.38-1.38a2.15 2.15 0 0 0 0-3.04L19 9.1V7.15A2.15 2.15 0 0 0 16.85 5H14.9l-1.38-1.38a2.15 2.15 0 0 0-3.04 0L9.1 5H7.15A2.15 2.15 0 0 0 5 7.15V9.1zm9.304-2.216a.5.5 0 0 0-.848-.53l-2.5 4A.5.5 0 0 0 10 12.5h3.098l-2.022 3.234a.5.5 0 1 0 .848.53l2.5-4A.5.5 0 0 0 14 11.5h-3.098z",clipRule:"evenodd"})})})}}]);

//# debugId=514488e5-2242-53de-8bb6-2a81a027d653

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c92aa8c4bdf02612d0e190e45d97d25f3c26ebc6/2871-69b109d80f9c7e7b.min.js.map